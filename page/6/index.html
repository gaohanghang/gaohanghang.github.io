<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="个人公众号《骇客与画家》" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 高行行的个人博客</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/Shen-Yu/hexo-theme-ayer"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">高行行的个人博客</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '科技需要人文的浇灌', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  <ul class="ads">
    
        <li>
            <a target="_blank" rel="noopener" href="https://curl.qcloud.com/kvO7hb43">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5ccc.jpg" width="300" alt="云服务器限时秒杀">
            </a>
        </li>
    
        <li>
            <a target="_blank" rel="noopener" href="https://www.vultr.com/?ref=8630075">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5cd7.png" width="300" alt="vultr优惠vps">
            </a>
        </li>
    
</ul>
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-为什么要使用Spring-IOC"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/29/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8Spring-IOC/"
    >为什么要使用Spring IOC?</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/29/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8Spring-IOC/" class="article-date">
  <time datetime="2019-12-29T14:48:23.000Z" itemprop="datePublished">2019-12-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gae09ffuerj30r80hsac1.jpg"></p>
<p>图片来自<a target="_blank" rel="noopener" href="https://www.zoltanraffai.com/blog/inversion-of-control-container/">https://www.zoltanraffai.com/blog/inversion-of-control-container/</a></p>
<blockquote>
<p>作者：valarchie 的技术小屋</p>
<p>链接：<a target="_blank" rel="noopener" href="https://juejin.im/post/5d78a9f1e51d453b1f37ebb6">https://juejin.im/post/5d78a9f1e51d453b1f37ebb6</a></p>
<p>来源：掘金</p>
<p>小结：</p>
<ul>
<li>控制反转（IOC）：<ul>
<li>控制：上层需要去控制 new 下层对象</li>
<li>反转：反转意味着我们把对象创建的控制权交出去，交给 IOC 容器，由 IOC 容器负责创建特定对象，并填充到各个声明需要特定对象的地方</li>
</ul>
</li>
<li>依赖注入（DI）：通过控制反转，对象在被创建的时候，由一个调控系统内所有对象的外界实体将其所依赖的对象的引用传递给它。</li>
<li>IOC 和 DI 的区别：IOC 是目的，DI 是手段。其实 IOC 相当于接口，它规定了要实现什么？而依赖注入（DI）就是具体的实现</li>
</ul>
<p>使用 IOC 的好处：</p>
<ol>
<li>Bean 之间的解耦，这种解耦体现在我们没有在代码中去硬编码 bean 之间的依赖。（不通过 new 操作依次构建对象，由 springIOC 内部帮助我们实现了依赖注入）。一方面，IOC 容器将通过 new 对象设置依赖的方式转变为运行期动态的进行设置依赖。</li>
<li>IOC 容器天然地给我们提供了单例。</li>
<li>当需要更换 dao 的时候，我们只需要在配置文件中更换 dao 的实现类，完全不会破坏到之前的代码。</li>
<li>上层现在不需要知道下层是如何创建的。</li>
</ol>
<p>IOC 容器实现了开发中对象粒度的一种组件化，将每个对象当做组件一样放进容器当中。而每个组件都是可插拔，这种是最佳的对象解耦方式。一方面通过将对象之间的耦合关系从编译期推迟到运行期。一旦有需要这个对象的话，就直接使用，客户程序员完全不需要知道这个对象的来龙去脉。并且 IOC 容器对 Bean 的统一管理使得 AOP 的实现更加的方便。</p>
</blockquote>
<h3 id="1-思考"><a href="#1-思考" class="headerlink" title="1. 思考"></a>1. 思考</h3><p>Spring 已经占据我们 Java 开发框架中的半壁江山了，从一开始工作我们就在使用 Spring。但是到底为什么要用 Spring，可能很多人都没有去思考过这个问题？许多人可能也疲于应对需求，无暇思考这种看似理所当然的问题。那今天，我们就好好来讨论一下究竟为什么要使用 Spring IOC？</p>
<h3 id="2-逆向思考"><a href="#2-逆向思考" class="headerlink" title="2. 逆向思考"></a>2. 逆向思考</h3><p>假设在最初没有 Spring IOC 这种框架的时候，我们采用传统 MVC 的方式来开发一段常见的用户逻辑。</p>
<p>用户 DAO</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDAO</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String database;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserDAO</span><span class="params">(String dataBase)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.database = dataBase;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;保存用户！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用户 Service</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> UserDAO dao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserService</span><span class="params">(UserDAO dao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.dao = dao;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">()</span> &#123;</span><br><span class="line">        dao.doSomething();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用户 Controller</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Controller</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> UserService service;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Controller</span><span class="params">(UserService userService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.service = userService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">()</span> &#123;</span><br><span class="line">        service.doSomething();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下来我们就必须手动一个一个创建对象，并将 dao、service、controller 依次组装起来，然后才能调用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">UserDAO</span> <span class="variable">dao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDAO</span>(<span class="string">&quot;mysql&quot;</span>);</span><br><span class="line">  <span class="type">UserService</span> <span class="variable">service</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserService</span>(dao);</span><br><span class="line">  <span class="type">Controller</span> <span class="variable">controller</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Controller</span>(service);</span><br><span class="line"></span><br><span class="line">  controller.doSomething();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>分析一下这种做法的弊端有哪些呢？</p>
<ol>
<li>在生成 Controller 的地方我们都必须先创建 dao 再创建 service 最后再创建 Controller,这么一条繁琐的创建过程。</li>
<li>在这三层结构当中，上层都需要知道下层是如何创建的，上层必须自己创建下层，这样就形成了紧密耦合。为什么业务程序员在写业务的时候却需要知道数据库的密码并自己创建 dao 呢？不仅如此，当如果 dao 的数据库密码变化了，在每一处生成 Controller 的地方都需要进行修改。</li>
<li>通过 new 关键字生成了具体的对象，这是一种硬编码的方式，违反了面向接口编程的原则。当有一天我们从 Hibernate 更换到 Mybatis 的时候,在每一处 new DAO 的地方，我们都需要进行更换。</li>
<li>我们频繁的创建对象，浪费了资源。</li>
</ol>
<p>这时候我们再来看看如果用 SpringIOC 的情况，刚才的代码变成如下。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;classpath:application.xml&quot;</span>);</span><br><span class="line">  <span class="type">Controller</span> <span class="variable">controller</span> <span class="operator">=</span> (Controller) context.getBean(<span class="string">&quot;controller&quot;</span>);</span><br><span class="line">  controller.doSomething();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>很明显，使用 IOC 之后，我们只管向容器索取所需的 Bean 即可。IOC 便解决了以下的痛点:</p>
<ol>
<li>Bean 之间的解耦，这种解耦体现在我们没有在代码中去硬编码 bean 之间的依赖。（不通过 new 操作依次构建对象，由 springIOC 内部帮助我们实现了依赖注入）。一方面，IOC 容器将通过 new 对象设置依赖的方式转变为运行期动态的进行设置依赖。</li>
<li>IOC 容器天然地给我们提供了单例。</li>
<li>当需要更换 dao 的时候，我们只需要在配置文件中更换 dao 的实现类，完全不会破坏到之前的代码。</li>
<li>上层现在不需要知道下层是如何创建的。</li>
</ol>
<p>通过这个例子可能读者有点若有所思了，那我们再来看一下 IOC 的定义是什么。</p>
<h3 id="3-定义"><a href="#3-定义" class="headerlink" title="3. 定义"></a>3. 定义</h3><p>控制反转（Inversion of Control，缩写为 IoC），是面向对象编程中的一种设计原则，可以用来减低计算机代码之间的耦合度。其中最常见的方式叫做依赖注入（Dependency Injection，简称 DI），还有一种方式叫“依赖查找”（Dependency Lookup）。通过控制反转，对象在被创建的时候，由一个调控系统内所有对象的外界实体将其所依赖的对象的引用传递给它。也可以说，依赖被注入到对象中。</p>
<h3 id="4-解读"><a href="#4-解读" class="headerlink" title="4. 解读"></a>4. 解读</h3><p>控制反转，控制体现在什么地方？控制就体现在我们一开始的例子，上层需要去控制 new 下层对象。而反转意味着什么呢？ 反转意味着我们把对象创建的控制权交出去，交给谁呢？交给 IOC 容器，由 IOC 容器负责创建特定对象，并填充到各个声明需要特定对象的地方。同学们可能会对 IOC 和 DI 觉得很绕，其实 IOC 相当于接口，它规定了要实现什么？而依赖注入（DI）就是具体的实现，它实现了 IOC 想要的效果。IOC 的思想很好地体现了面向对象设计法则之一——好莱坞法则：“别找我们，我们找你”；即由 IoC 容器帮对象找相应的依赖对象并注入，而不是由对象主动去找。</p>
<p>如何减低耦合？我们举个例子，当在 IDEA 开发环境中我们添加插件的时候，却需要去知道该插件需要什么依赖，要怎么才能成功开启插件？是不是对用户相当不友好呢？既然我们要使用插件，意味着我们和插件之间是耦合的，无法避免。但是如果我们还需要知道插件需要的依赖和开启插件的步骤，说明我们和插件之间的耦合关系更强烈了。所以 SpringIOC 的定义当中写道“降低耦合”而非“消除耦合”，但只要耦合度降低的话，就有利于代码的维护和扩展。思考一下？是不是跟 Maven 的机制很类似呢？在 Maven 中声明依赖的话，Maven 的自动将该依赖所需的其他依赖递归的寻找。你可以把你自己想象成一个对象的设计师，你设计了一张对象内部构造的图纸，交给 SpringIOC，它会自动地根据这份图纸生成这个对象。</p>
<p>IOC 容器实现了开发中对象粒度的一种组件化，将每个对象当做组件一样放进容器当中。而每个组件都是可插拔，这种是最佳的对象解耦方式。一方面通过将对象之间的耦合关系从编译期推迟到运行期。一旦有需要这个对象的话，就直接使用，客户程序员完全不需要知道这个对象的来龙去脉。并且 IOC 容器对 Bean 的统一管理使得 AOP 的实现更加的方便。这样一来，我们客户程序员就可以更专注在业务代码的编写上。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-HTTP-API的6种设计原则"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/29/HTTP-API%E7%9A%846%E7%A7%8D%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/"
    >HTTP API的6种设计原则</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/29/HTTP-API%E7%9A%846%E7%A7%8D%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/" class="article-date">
  <time datetime="2019-12-29T13:32:40.000Z" itemprop="datePublished">2019-12-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址：<a target="_blank" rel="noopener" href="https://medium.com/@aldesantis/6-design-principles-for-your-http-apis-560434f9744e">https://medium.com/@aldesantis/6-design-principles-for-your-http-apis-560434f9744e</a></p>
<p>作者：<a target="_blank" rel="noopener" href="https://medium.com/@aldesantis?source=post_page-----560434f9744e----------------------">Alessandro Desantis</a></p>
<p>翻译：高行行</p>
</blockquote>
<p>良好的API设计是一门艺术，这一点没有争议。当我们遇到一个经过适当设计的API时，我们会感觉到。就像良好的视觉UI一样，良好的API不仅美观，而且功能强大并且可以节省每个人的时间。基于这种想法，可以说API实际上就是UI。它们也不仅仅适用于机器：由于有人在编程和使用这些机器，因此创建一个用户感到高兴与之交互的API是其开发团队的明智选择，我们应该做出选择。</p>
<p>关于视觉UI的设计原理，有很多资源，也有很多可以从中得到启发的好例子。另一方面，涉及API时，有很多文档说明了用于实现这些协议的不同协议，语言和框架，但是几乎没有足够的材料来说明使某些API易于使用和使用的基本原理和选择。别人的噩梦。</p>
<p>尽管没有什么能比以往更胜一筹，并且每个团队都针对API的出色之处制定了自己的规则，但我们可以通过在API设计中应用一些基本原则来从中受益。这些非常抽象，可以用许多不同的方式实现，但它们应始终指导我们的技术决策。</p>
<h1 id="1-一致性"><a href="#1-一致性" class="headerlink" title="1. 一致性"></a>1. 一致性</h1><p>一致性意味着相似的端点应该以相似的方式运行，包括在边缘场景中。您应该始终努力在整个API中保持词汇表，URL结构，请求&#x2F;响应格式和错误处理的一致性。</p>
<p>这提供了几个好处：</p>
<ul>
<li>它使与您的API的交互变得更加简单，因为用户始终知道期望什么，而不必阅读每个端点的文档，而可以随心所欲。</li>
<li>它允许编写客户端库，这些客户端库不知道API的确切架构，仅知道您遵守的规则。Stripe API客户端就是一个很好的例子：由于请求和响应的结构始终相同，因此它可以动态构建对象，并且仅在其中一个API规则更改时才需要更新。</li>
<li>它创建了一组经过实践检验的准则，在API中实现新功能时可以遵循这些准则。不再讨论使用数字ID还是UUID，因为您将继续使用已有的东西。</li>
</ul>
<p>一致性可能是您可以在API设计中实现的最有影响力的特征，并且您的用户会因此而爱您。</p>
<h1 id="2-性能"><a href="#2-性能" class="headerlink" title="2. 性能"></a>2. 性能</h1><p>HTTP API的性能非常棘手。由于最终用户不会直接使用API，因此很容易很长时间就不会注意到性能问题，尤其是在服务器到服务器交互的情况下。不幸的是，由于软件是为人开发的，因此所有类型的性能问题最终都会影响最终用户。</p>
<p>出于通常的原因，我强烈建议您不要进行早期优化：这会减慢MVP的开发速度，并且如果不首先制定正确的指标，就无法知道需要优化产品的哪些部分。您应该基于数据而非本能进行优化。</p>
<p>如此说来，从第一天开始收集数据就非常重要。如今，设置APM工具只需几秒钟，它将为您提供大量有关在现实世界中如何使用API的有用信息。</p>
<h1 id="3-文献资料"><a href="#3-文献资料" class="headerlink" title="3. 文献资料"></a>3. 文献资料</h1><p>不管您的API多么一致，用户仍然需要他们可以去的地方才能开始使用或获得有关API某些方面或功能的其他详细信息。</p>
<p>此外，API文档不应该只是呈现请求和响应模板。建议添加可能对用户有用的任何信息，例如有关在进行某个API调用时在后台发生的情况或用户可能需要完成其他交易的其他终结点的解释，这是有用的。</p>
<p>API文档的准确性和最新性非常重要。实现此目的的唯一方法是创建工作流，以将文档集成到开发过程中。一个好的方法是将文档检入VCS，并要求开发人员在更改API时对其进行更新。</p>
<p>让开发人员编写文档似乎是浪费时间，但是花在文档上的时间越多，花在回答问题和调查虚假错误报告上的时间就越少。</p>
<p>最后，确保不仅提供文档，而且请查阅。由于它是供人类食用的，因此在阅读文档时要特别注意UI和UX。无需您自己执行此操作，您只需采用<a target="_blank" rel="noopener" href="https://stoplight.io/">Stoplight之类</a>的服务即可为您存储和呈现标准格式的内容。</p>
<h1 id="4-易用性"><a href="#4-易用性" class="headerlink" title="4. 易用性"></a>4. 易用性</h1><p>虽然在数据库表和API资源之间建立1：1映射并不是天生的错误，但是您应该知道，这不是构建API的唯一方法。实际上，对于复杂的API而言，这通常不是最佳方法，因为这使按正确顺序将正确的一组操作组合在一起的所有负担都落在了用户的肩膀上。</p>
<p>如果您可以简化业务交易以仅需要一个API调用而不是两个API调用，为什么不这样做呢？视觉UI要求在后台发生的每个操作都需要用户输入是不可想象的-但是，当我们要求用户出于懒惰而做时，这正是我们在许多API中所做的。</p>
<p>API的一个示例就是该API，它允许用户添加新的付款方式并将一种付款方式标记为默认付款方式。如果我们希望用户希望添加新方法并立即将其标记<em>为</em>默认属性，则可以向支付方法创建端点添加标记<em>为</em>默认属性，并在一次交易中完成所有操作，而无需两次API调用。这样既节省了开发时间，又节省了带宽。</p>
<p>这种简化并非总是可能的：当您无法预先确定API的确切用例时（例如，在使用公共API的情况下），则应该尽可能地灵活（在上面的示例中，这意味着要添加该字段，还要维护一个单独的端点来设置默认付款方式）。</p>
<p>经验法则是将API的各个方面视为达到目的的手段，即完成业务流程。您如何最好地帮助用户实现该目标？一旦考虑到这一点，设计选择就会变得更加容易。</p>
<h1 id="5-简单"><a href="#5-简单" class="headerlink" title="5. 简单"></a>5. 简单</h1><p>在简单的，通用的标准和工具之上构建您的API。除非您有充分的理由使用信封，否则不需要信封，架构，API网关或任何其他深奥的解决方案。</p>
<p>HTTP RFC已经为您提供了构建可靠且可互操作的Web服务所需的大多数工具，因此<a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc2616#section-10.1.1">请继续阅读它</a>（是的，虽然很长，但是我可以保证值得）。</p>
<p>坚持基础并做好。简单意味着对人和机器的开销更少，并且出错的空间也更少。例如，以下是使用Stripe API向信用卡收费的方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl https://api.stripe.com/v1/charges \ </span><br><span class="line">  -u your_api_key: \ </span><br><span class="line">  -d amount=999 \ </span><br><span class="line">  -d currency=usd \ </span><br><span class="line">  -d description=&quot;Example charge&quot; \ </span><br><span class="line">  -d source=tok_visa</span><br></pre></td></tr></table></figure>

<p>它是如此简单，您无需查找文档即可进行操作，并且几乎不可能将其弄乱。这是您要争取的简单性。</p>
<p>（顺便说一下，Stripe API是周到的API设计的绝佳示例，因此，如果有空的话，请看一下<a target="_blank" rel="noopener" href="https://stripe.com/docs/api">API参考</a>。）</p>
<h1 id="6-演化"><a href="#6-演化" class="headerlink" title="6. 演化"></a>6. 演化</h1><p>传统的Web应用程序一直在更新：设计和添加新功能，改进和简化流行功能，弃用和删除不使用的功能。用户习惯于在不断变化的环境中生活和操作，有时环境会发生巨大变化。</p>
<p>大多数时候，产品在吸引用户采用新功能方面做得非常好：新闻通讯，应用内参观和良好的设计习惯可确保UX不会因最新的全面更新而中断。</p>
<p>另一方面，对于API来说，似乎只有两个可能的选择：要么从不更改接口以免破坏实现，要么不经通知就更改它，从而破坏了大多数客户的工作。发生这种情况是因为API团队通常不会与用户群断开连接，因为它们不会直接与用户互动。</p>
<p>但是，第三个选择是完全可能的：有了正确的基础架构和工具，您就可以拥有以对其用户可管理的方式进行更改的API。您可以使用度量标准来做出有关您公开的界面的明智决定：端点使用频率是多少？最近6个月内，有哪些用户称其为特定的API端点？确保您始终可以回答此类问题，因为它们将使您无需担心用户一天的噩梦就能开发自己的API。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-如果一个对象有多个方法加了-synchronized，那么该对象有几把锁？"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/26/%E5%A6%82%E6%9E%9C%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%A4%9A%E4%B8%AA%E6%96%B9%E6%B3%95%E5%8A%A0%E4%BA%86-synchronized%EF%BC%8C%E9%82%A3%E4%B9%88%E8%AF%A5%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%87%A0%E6%8A%8A%E9%94%81%EF%BC%9F/"
    > 如果一个对象有多个方法加了 synchronized，那么该对象有几把锁？</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/26/%E5%A6%82%E6%9E%9C%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%A4%9A%E4%B8%AA%E6%96%B9%E6%B3%95%E5%8A%A0%E4%BA%86-synchronized%EF%BC%8C%E9%82%A3%E4%B9%88%E8%AF%A5%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%87%A0%E6%8A%8A%E9%94%81%EF%BC%9F/" class="article-date">
  <time datetime="2019-12-26T13:52:15.000Z" itemprop="datePublished">2019-12-26</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>答案是一把锁 🔐</p>
</blockquote>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对象锁是在一个类的对象上加的的锁，只有一把，不管有几个方法进行了同步。</p>
<p>这些同步方法都共有一把锁，只要一个线程获得了这个对象锁，其他的线程就不能访问该对象的任何一个同步方法。</p>
<h3 id="对象锁："><a href="#对象锁：" class="headerlink" title="对象锁："></a>对象锁：</h3><p>synchronized 修饰实体里的非静态变量，锁的是对象</p>
<p>synchronized 修饰代码块，锁的是对象</p>
<p>synchronized 修饰非静态方法，锁的是对象</p>
<p>使用对象锁的情况，只有使用同一对象的线程才会受锁的影响，多个对象调用同一方法也不会受影响。</p>
<h3 id="类锁："><a href="#类锁：" class="headerlink" title="类锁："></a>类锁：</h3><p>synchronized 修饰类中的静态变量</p>
<p>synchronized 修饰静态方法</p>
<p>synchronized 修饰类.class</p>
<p>类锁是所有线程共享的锁，所以同一时刻，只能有一个线程使用加了锁的方法或方法体，不管是不是同一个实例。</p>
<blockquote>
<p>参考文章：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qa275267067/article/details/79804713">https://blog.csdn.net/qa275267067/article/details/79804713</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/fengzheng/p/12066239.html">https://www.cnblogs.com/fengzheng/p/12066239.html</a></p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-多个单列索引和联合索引的区别详解"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/25/%E5%A4%9A%E4%B8%AA%E5%8D%95%E5%88%97%E7%B4%A2%E5%BC%95%E5%92%8C%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8C%BA%E5%88%AB%E8%AF%A6%E8%A7%A3/"
    >多个单列索引和联合索引的区别详解</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/25/%E5%A4%9A%E4%B8%AA%E5%8D%95%E5%88%97%E7%B4%A2%E5%BC%95%E5%92%8C%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8C%BA%E5%88%AB%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2019-12-25T04:20:45.000Z" itemprop="datePublished">2019-12-25</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址：<a target="_blank" rel="noopener" href="https://blog.csdn.net/abysscarry/article/details/80792876">https://blog.csdn.net/abysscarry/article/details/80792876</a></p>
<p>作者：<a target="_blank" rel="noopener" href="https://blog.csdn.net/Abysscarry" title="深寒丶">深寒丶</a></p>
<p>对索引中的<strong>所有列</strong>执行搜索或仅对<strong>前几列</strong>执行搜索时，<strong>复合索引非常有用</strong>；<strong>仅对后面的任意列</strong>执行搜索时，<strong>复合索引则没有用处。</strong></p>
<p>or索引失效：</p>
<p>所谓的索引失效指的是：假如 or 连接的<strong>俩个查询条件字段中有一个没有索引</strong>的话,引擎会放弃索引而产生全表扫描。我们从 or 的基本含义出发应该能理解并认可这种说法，没啥问题。</p>
</blockquote>
<p><strong><em>背景：</em></strong></p>
<p><em>为了提高数据库效率，建索引是家常便饭；那么当查询条件为 2 个及以上时，我们是创建<strong>多个单列索引</strong>还是创建<strong>一个联合索引</strong>好呢？他们之间的区别是什么？哪个效率高呢？我在这里详细测试分析下。</em></p>
<h2 id="一、联合索引测试"><a href="#一、联合索引测试" class="headerlink" title="一、联合索引测试"></a>一、联合索引测试</h2><p><em>注：Mysql 版本为 5.7.20</em></p>
<p><strong>创建测试表(表记录数为 63188)：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `t_mobilesms_11` (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `userId` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;用户id，创建任务时的userid&#x27;</span>,</span><br><span class="line">  `mobile` <span class="type">varchar</span>(<span class="number">24</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;手机号码&#x27;</span>,</span><br><span class="line">  `billMonth` <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;账单月&#x27;</span>,</span><br><span class="line">  `<span class="type">time</span>` <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;收/发短信时间&#x27;</span>,</span><br><span class="line">  `peerNumber` <span class="type">varchar</span>(<span class="number">64</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;对方号码&#x27;</span>,</span><br><span class="line">  `location` <span class="type">varchar</span>(<span class="number">64</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;通信地(自己的)&#x27;</span>,</span><br><span class="line">  `sendType` <span class="type">varchar</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;SEND-发送; RECEIVE-收取&#x27;</span>,</span><br><span class="line">  `msgType` <span class="type">varchar</span>(<span class="number">8</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;SMS-短信; MSS-彩信&#x27;</span>,</span><br><span class="line">  `serviceName` <span class="type">varchar</span>(<span class="number">256</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;业务名称. e.g. 点对点(网内)&#x27;</span>,</span><br><span class="line">  `fee` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;通信费(单位分)&#x27;</span>,</span><br><span class="line">  `createTime` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">  `lastModifyTime` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;最后修改时间&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  KEY `联合索引` (`userId`,`mobile`,`billMonth`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">71185</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8 COMMENT<span class="operator">=</span><span class="string">&#x27;手机短信详情&#x27;</span></span><br></pre></td></tr></table></figure>

<p>我们为<code>userId</code>, <code>mobile</code>, <code>billMonth</code>三个字段添加上联合索引！</p>
<p>我们选择 <code>explain</code> 查看执行计划来观察索引利用情况：</p>
<h3 id="1-查询条件为-userid"><a href="#1-查询条件为-userid" class="headerlink" title="1.查询条件为 userid"></a><strong>1.查询条件为 <code>userid</code></strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_mobilesms_11` <span class="keyword">WHERE</span> userid<span class="operator">=</span><span class="string">&#x27;2222&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/2018062415524243?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>可以通过<code>key</code>看到，联合索引<strong>有效</strong></p>
<h3 id="2-查询条件为-mobile"><a href="#2-查询条件为-mobile" class="headerlink" title="2.查询条件为 mobile"></a><strong>2.查询条件为 <code>mobile</code></strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_mobilesms_11` <span class="keyword">WHERE</span> mobile<span class="operator">=</span><span class="string">&#x27;13281899972&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624155746192?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>可以看到联合索引<strong>无效</strong></p>
<h3 id="3-查询条件为-billMonth"><a href="#3-查询条件为-billMonth" class="headerlink" title="3.查询条件为 billMonth"></a><strong>3.查询条件为 <code>billMonth</code></strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_mobilesms_11` <span class="keyword">WHERE</span> billMonth<span class="operator">=</span><span class="string">&#x27;2018-04&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624155853370?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>联合索引<strong>无效</strong></p>
<h3 id="4-查询条件为-userid-and-mobile"><a href="#4-查询条件为-userid-and-mobile" class="headerlink" title="4.查询条件为 userid and mobile"></a><strong>4.查询条件为 <code>userid and mobile</code></strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_mobilesms_11` <span class="keyword">WHERE</span> userid<span class="operator">=</span><span class="string">&#x27;2222&#x27;</span> <span class="keyword">AND</span> mobile<span class="operator">=</span><span class="string">&#x27;13281899972&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624160135826?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>联合索引<strong>有效</strong></p>
<h3 id="5-查询条件为-mobile-and-userid"><a href="#5-查询条件为-mobile-and-userid" class="headerlink" title="5.查询条件为 mobile and userid"></a><strong>5.查询条件为 <code>mobile and userid</code></strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_mobilesms_11` <span class="keyword">WHERE</span>  mobile<span class="operator">=</span><span class="string">&#x27;13281899972&#x27;</span> <span class="keyword">AND</span> userid<span class="operator">=</span><span class="string">&#x27;2222&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624160251906?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>在 4 的基础上调换了查询条件的顺序，发现联合索引依旧<strong>有效</strong></p>
<h3 id="6-查询条件为-userid-or-mobile"><a href="#6-查询条件为-userid-or-mobile" class="headerlink" title="6.查询条件为 userid or mobile"></a><strong>6.查询条件为 <code>userid or mobile</code></strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_mobilesms_11` <span class="keyword">WHERE</span> userid<span class="operator">=</span><span class="string">&#x27;2222&#x27;</span> <span class="keyword">OR</span> mobile<span class="operator">=</span><span class="string">&#x27;13281899972&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624161125355?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>把 <code>and</code> 换成 <code>or</code>，发现联合所索引<strong>无效</strong>！</p>
<h3 id="7-查询条件为-userid-and-billMonth"><a href="#7-查询条件为-userid-and-billMonth" class="headerlink" title="7.查询条件为 userid and billMonth"></a><strong>7.查询条件为 <code>userid and billMonth</code></strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_mobilesms_11` <span class="keyword">WHERE</span> userid<span class="operator">=</span><span class="string">&#x27;2222&#x27;</span> <span class="keyword">AND</span> billMonth<span class="operator">=</span><span class="string">&#x27;2018-04&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624161421218?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>这两个条件分别位于联合索引位置的<strong>第一和第三</strong>，测试联合索引依旧<strong>有效</strong>！</p>
<h3 id="8-查询条件为-mobile-and-billMonth"><a href="#8-查询条件为-mobile-and-billMonth" class="headerlink" title="8.查询条件为 mobile and billMonth"></a><strong>8.查询条件为 <code>mobile and billMonth</code></strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_mobilesms_11` <span class="keyword">WHERE</span> mobile<span class="operator">=</span><span class="string">&#x27;13281899972&#x27;</span> <span class="keyword">AND</span> billMonth<span class="operator">=</span><span class="string">&#x27;2018-04&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624161555999?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>这两个条件分别位于联合索引位置的<strong>第二和第三</strong>，发现联合索引<strong>无效</strong>！</p>
<h3 id="9-查询条件为-userid-and-mobile-and-billMonth"><a href="#9-查询条件为-userid-and-mobile-and-billMonth" class="headerlink" title="9.查询条件为 userid and mobile and billMonth"></a><strong>9.查询条件为 <code>userid and mobile and billMonth</code></strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_mobilesms_11` <span class="keyword">WHERE</span>  userid<span class="operator">=</span><span class="string">&#x27;2222&#x27;</span> <span class="keyword">AND</span> mobile<span class="operator">=</span><span class="string">&#x27;13281899972&#x27;</span> <span class="keyword">AND</span> billMonth<span class="operator">=</span><span class="string">&#x27;2018-04&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624162525113?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>所有条件一起查询，联合索引<strong>有效</strong>！（当然，这才是最正统的用法啊！）</p>
<h2 id="二、单列索引测试"><a href="#二、单列索引测试" class="headerlink" title="二、单列索引测试"></a>二、单列索引测试</h2><p><em>创建三个单列索引：</em></p>
<p><img src="https://img-blog.csdn.net/20180624163253812?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<h3 id="1-查询条件为-userid-and-mobile-and-billMonth"><a href="#1-查询条件为-userid-and-mobile-and-billMonth" class="headerlink" title="1.查询条件为 userid and mobile and billMonth"></a><strong>1.查询条件为 <code>userid and mobile and billMonth</code></strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN SELECT * FROM `t_mobilesms_11` WHERE  userid=&#x27;2222&#x27; AND mobile=&#x27;13281899972&#x27; AND billMonth=&#x27;2018-04&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624163500567?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>我们发现三个单列索引<strong>只有 <code>userid</code> 有效（位置为查询条件第一个）</strong>，其他两个都没有用上。</p>
<p>那么为什么没有用上呢？按照我们的理解，三个字段都加索引了，无论怎么排列组合查询，应该都能利用到这三个索引才对！</p>
<p>其实这里其实涉及到了 mysql 优化器的<strong>优化策略</strong>！当多条件联合查询时，优化器会评估用哪个条件的索引效率最高！它会选择最佳的索引去使用，也就是说，此处<code>userid 、mobile 、billMonth</code>这三个索引列都能用，只不过<strong>优化器判断只需要使用<code>userid</code>这一个索引就能完成本次查询</strong>，故最终 explain 展示的 key 为 userid。</p>
<p>当然，如果优化器判断本次查询非要全使用三个索引才能效率最高，那么 explain 的 key 就会是<code>userid 、mobile 、billMonth</code>，都会生效！</p>
<h3 id="2-查询条件为-mobile-and-billMonth"><a href="#2-查询条件为-mobile-and-billMonth" class="headerlink" title="2.查询条件为 mobile and billMonth"></a><strong>2.查询条件为 <code>mobile and billMonth</code></strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN SELECT * FROM `t_mobilesms_11` WHERE mobile=&#x27;13281899972&#x27; AND billMonth=&#x27;2018-04&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180624163836916?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>我们发现此处两个查询条件<strong>只有 <code>mobile</code> 生效（位置也为查询条件第一个）</strong></p>
<h3 id="3-查询条件为-userid-or-mobile"><a href="#3-查询条件为-userid-or-mobile" class="headerlink" title="3.查询条件为 userid or mobile"></a><strong>3.查询条件为 <code>userid or mobile</code></strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN SELECT * FROM `t_mobilesms_11` WHERE  userid=&#x27;2222&#x27; OR mobile=&#x27;13281899972&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/2018062416412814?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FieXNzY2Fycnk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p>这次把 <code>and</code> 换成 <code>or</code>，发现两个查询条件都用上索引了！</p>
<p>我们在网上可能常常看到有人说 or 会导致索引失效，其实这<strong>并不准确</strong>。而且我们首先需要<strong>判断用的是哪个数据库哪个版本，什么引擎？</strong></p>
<p>比如我用的是 mysql5.7 版本，innodb 引擎，在<strong>这个环境下</strong>我们再去讨论索引的具体问题。</p>
<h3 id="关于-or-查询的真相是："><a href="#关于-or-查询的真相是：" class="headerlink" title="关于 or 查询的真相是："></a><strong>关于 or 查询的真相是：</strong></h3><p>所谓的索引失效指的是：假如 or 连接的<strong>俩个查询条件字段中有一个没有索引</strong>的话,引擎会放弃索引而产生全表扫描。我们从 or 的基本含义出发应该能理解并认可这种说法，没啥问题。</p>
<p>此刻需要注意<strong>type</strong>类型为<code>index_merge</code>。</p>
<p>我查资料说 mysql 5.0 版本之前 使用 or<strong>只会用到一个索引</strong>（即使如上我给 userid 和 mobile 都建立的单列索引），但自从 5.0 版本开始引入了<strong>index_merge 索引合并优化</strong>！也就是说，我们现在可以利用上多个索引去优化 or 查询了。</p>
<p><strong>index_merge 作用：</strong></p>
<p>1、索引合并是把几个索引的范围扫描合并成一个索引。</p>
<p>2、索引合并的时候，会对索引进行并集，交集或者先交集再并集操作，以便合并成一个索引。</p>
<p>3、这些需要合并的索引只能是一个表的。不能对多表进行索引合并。</p>
<p><strong>index_merge 应用场景：</strong></p>
<p>1.对 OR 语句求并集，如查询<code>SELECT * FROM TB1 WHERE c1=&quot;xxx&quot; OR c2=&quot;&quot;xxx&quot;</code>时，如果 c1 和 c2 列上分别有索引，可以按照 c1 和 c2 条件进行查询，再将查询结果合并（union）操作，得到最终结果</p>
<p>2.对 AND 语句求交集，如查询<code>SELECT * FROM TB1 WHERE c1=&quot;xxx&quot; AND c2=&quot;&quot;xxx&quot;</code>时，如果 c1 和 c2 列上分别有索引，可以按照 c1 和 c2 条件进行查询，再将查询结果取交集（intersect）操作，得到最终结果</p>
<p>3.对 AND 和 OR 组合语句求结果</p>
<h2 id="三、结论"><a href="#三、结论" class="headerlink" title="三、结论"></a>三、结论</h2><h3 id="通俗理解："><a href="#通俗理解：" class="headerlink" title="通俗理解："></a><strong>通俗理解：</strong></h3><p>利用索引中的附加列，您可以缩小搜索的范围，但使用<strong>一个具有两列的索引 不同于使用两个单独的索引</strong>。复合索引的结构与<strong>电话簿</strong>类似，人名由姓和名构成，电话簿首先按姓氏对进行排序，然后按名字对有相同姓氏的人进行排序。<strong>如果您知道姓，电话簿将非常有用；如果您知道姓和名，电话簿则更为有用，但如果您只知道名不姓，电话簿将没有用处</strong>。</p>
<p>所以说创建复合索引时，应该仔细考虑<strong>列的顺序</strong>。对索引中的<strong>所有列</strong>执行搜索或仅对<strong>前几列</strong>执行搜索时，<strong>复合索引非常有用</strong>；<strong>仅对后面的任意列</strong>执行搜索时，<strong>复合索引则没有用处。</strong></p>
<h3 id="重点："><a href="#重点：" class="headerlink" title="重点："></a><strong>重点：</strong></h3><p><strong>多个单列索引</strong>在<strong>多条件查询</strong>时优化器会选择<strong>最优索引策略</strong>，<strong>可能只用一个索引，也可能将多个索引全用上！</strong> 但多个单列索引底层会建立多个 B+索引树，比较占用空间，也会浪费一定搜索效率，故如果只有<strong>多条件联合查询时最好建联合索引！</strong></p>
<h3 id="最左前缀原则："><a href="#最左前缀原则：" class="headerlink" title="最左前缀原则："></a><strong>最左前缀原则：</strong></h3><p>顾名思义是最左优先，以<strong>最左边的为起点</strong>任何连续的索引都能匹配上，<br>注：如果第一个字段是<strong>范围查询需要单独建一个索引</strong><br>注：在创建联合索引时，要根据业务需求，where 子句中<strong>使用最频繁的一列放在最左边</strong>。这样的话扩展性较好，比如 <code>userid</code> 经常需要作为查询条件，而 <code>mobile</code> 不常常用，则需要把 <code>userid</code> 放在联合索引的<strong>第一位置，即最左边</strong></p>
<h3 id="同时存在联合索引和单列索引（字段有重复的），这个时候查询-mysql-会怎么用索引呢？"><a href="#同时存在联合索引和单列索引（字段有重复的），这个时候查询-mysql-会怎么用索引呢？" class="headerlink" title="同时存在联合索引和单列索引（字段有重复的），这个时候查询 mysql 会怎么用索引呢？"></a><strong>同时存在联合索引和单列索引（字段有重复的），这个时候查询 mysql 会怎么用索引呢？</strong></h3><p>这个涉及到 mysql 本身的<strong>查询优化器策略</strong>了，当一个表有多条索引可走时, Mysql 根据<strong>查询语句的成本</strong>来选择走哪条索引；</p>
<p>有人说 where 查询是按照从左到右的顺序，所以筛选力度大的条件尽量放前面。网上百度过，很多都是这种说法，但是据我研究，<strong>mysql 执行优化器会对其进行优化</strong>，<strong>当不考虑索引时，where 条件顺序对效率没有影响</strong>，<strong>真正有影响的是是否用到了索引</strong>！</p>
<h3 id="联合索引本质："><a href="#联合索引本质：" class="headerlink" title="联合索引本质："></a><strong>联合索引本质：</strong></h3><p>当创建**(a,b,c)联合索引<strong>时，相当于创建了</strong>(a)单列索引<strong>，</strong>(a,b)联合索引<strong>以及</strong>(a,b,c)联合索引**<br>想要索引生效的话,只能使用 a 和 a,b 和 a,b,c 三种组合；当然，我们上面测试过，<strong>a,c 组合也可以，但实际上只用到了 a 的索引，c 并没有用到！</strong><br>注：这个可以结合上边的 <em>通俗理解</em> 来思考！</p>
<h3 id="其他知识点："><a href="#其他知识点：" class="headerlink" title="其他知识点："></a><strong>其他知识点：</strong></h3><p>1、需要加索引的字段，<strong>要在 where 条件中</strong></p>
<p>2、<strong>数据量少的字段不需要加索引</strong>；因为<strong>建索引有一定开销</strong>，如果数据量小则没必要建索引（速度反而慢）</p>
<p>3、避免在 where 子句中使用<strong>or</strong>来连接条件,因为如果<strong>俩个字段中有一个没有索引</strong>的话,引擎会放弃索引而产生全表扫描</p>
<p>4、<strong>联合索引比对每个列分别建索引更有优势</strong>，因为索引建立得越多就越占磁盘空间，在更新数据的时候速度会更慢。另外建立多列索引时，顺序也是需要注意的，<strong>应该将严格的索引放在前面，这样筛选的力度会更大，效率更高</strong>。</p>
<h3 id="最后的说明："><a href="#最后的说明：" class="headerlink" title="最后的说明："></a><strong>最后的说明：</strong></h3><p>网上关于索引优化等文章太多了，针对各个数据库各个版本各种引擎都<strong>可能存在不一样的说法</strong>！</p>
<p>我们的 SQL 引擎自带的优化也越来越强大，说不定你的某个 SQL 优化认知，其 SQL 引擎在某次升级中早就自优化了。</p>
<p>所以要么<strong>跟进官方文档</strong>，要么<strong>关注数据库大牛的最新文章</strong>，要么在<strong>现有数据库环境下自己去亲手测试！</strong></p>
<p><em>数据库领域的水很深。。大家加油。。共勉 ~</em></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%B4%A2%E5%BC%95/" rel="tag">索引</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Boss直聘发布《2020人才资本趋势报告》，突变时代迎来八大趋势"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/19/Boss%E7%9B%B4%E8%81%98%E5%8F%91%E5%B8%83%E3%80%8A2020%E4%BA%BA%E6%89%8D%E8%B5%84%E6%9C%AC%E8%B6%8B%E5%8A%BF%E6%8A%A5%E5%91%8A%E3%80%8B%EF%BC%8C%E7%AA%81%E5%8F%98%E6%97%B6%E4%BB%A3%E8%BF%8E%E6%9D%A5%E5%85%AB%E5%A4%A7%E8%B6%8B%E5%8A%BF/"
    >Boss直聘发布《2020人才资本趋势报告》，突变时代迎来八大趋势</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/19/Boss%E7%9B%B4%E8%81%98%E5%8F%91%E5%B8%83%E3%80%8A2020%E4%BA%BA%E6%89%8D%E8%B5%84%E6%9C%AC%E8%B6%8B%E5%8A%BF%E6%8A%A5%E5%91%8A%E3%80%8B%EF%BC%8C%E7%AA%81%E5%8F%98%E6%97%B6%E4%BB%A3%E8%BF%8E%E6%9D%A5%E5%85%AB%E5%A4%A7%E8%B6%8B%E5%8A%BF/" class="article-date">
  <time datetime="2019-12-18T16:41:41.000Z" itemprop="datePublished">2019-12-19</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址：<a target="_blank" rel="noopener" href="https://36kr.com/p/5273796">https://36kr.com/p/5273796</a></p>
<p>作者：林鲁比@36氪Pro</p>
</blockquote>
<p>竞争、分化、抢人…2020年八个人才资本趋势。</p>
<p>近日，Boss直聘在北京举办了年度合作伙伴大会“ECHO2020”，在活动上发布了《2020人力资本趋势报告》，该报告由Boss直聘职业科学实验室及 Boss直聘研究院制作出品。</p>
<p>报告数据来源于Boss直聘平台以及《2020求职需求趋势调查》3060份调研问卷，其问卷样本包括23%核心高管、32%部门负责人以及45%的人力资源专员，覆盖互联网&#x2F;IT&#x2F;软件、电子通信、教育、金融、房地产、文娱等16个以及行业。</p>
<p>该报告主题为“突变时代”，突变的概念最早由法国数学家勒内 ▪ 托姆提出，他将系统内部状态的整体性“突跃”称为“突变(Mutation)”，主要用于形容过程连续但是结果不连续的状态。随着当前环境不确定性和市场竞争的加剧，企业为适应环境，其组织架构、人员调度也常常出现“突变”的状态：业务重组、撤销、工作流程设计等等频繁出现。突变理论认为，变革无法被管理，只能被影响，认识到突变时代的到来仅仅是第一步，更重要的是主动应对突变的环境。</p>
<p>在“就业市场—组织发展—个人发展”的研究视角下，Boss直聘总结出来了2020年的八大人才资本趋势，以下是报告的一些要点：</p>
<h3 id="趋势一：竞争分化加剧，能力比拼的勇敢者游戏"><a href="#趋势一：竞争分化加剧，能力比拼的勇敢者游戏" class="headerlink" title="趋势一：竞争分化加剧，能力比拼的勇敢者游戏"></a>趋势一：竞争分化加剧，能力比拼的勇敢者游戏</h3><p>报告认为，2019年就业市场的关键词是竞争与分化。</p>
<p>2019年企业招聘需求同比增加21%，平均招聘薪资为8082元，同比回落0.4%。求职市场竞争激烈主要体现在高校应届生数量增加；雇主对求职者的要求普遍提高；35岁以上主动求职者规模扩大；求职者薪资议价空间缩窄等方面。</p>
<p>在《2020求职需求趋势调查》中，67.8%的求职者认为今年在求职过程中“明显感到竞争更加激烈”，24.9%认为“有一定感受，但影响不大”，仅有7.3%认为竞争压力没有变化。</p>
<p>与此同时，企业的人才竞争也在加剧，63.3%的企业认为通过外部招聘补充合适人才的难度“明显变高”，32.9%的企业认为“有一定感受，但影响不大”，仅有3.8%的企业表示“没有类似感受”。</p>
<p><img src="https://img.36krcdn.com/20191209/v2_719c5d4f90f74bbfa8c311d09f701f5d_img_png" alt="Boss直聘发布《2020人才资本趋势报告》，突变时代迎来八大趋势"></p>
<p>数据显示，2019年招聘薪资分布曲线如上，正偏态分布十分显著，众数为5000元，中位数为6043元，平均薪资为8082元，即5000元是最常出现的月薪水平，有一半的招聘薪资数据低于6043元。</p>
<p>2019年薪资分布曲线向两端小幅移动，一方面是企业控制人力成本的表现，另一方面还说明求职者内部竞争两极化的加剧。</p>
<h3 id="趋势二：新兴职业崛起，人才成长追逐的追逐战"><a href="#趋势二：新兴职业崛起，人才成长追逐的追逐战" class="headerlink" title="趋势二：新兴职业崛起，人才成长追逐的追逐战"></a>趋势二：新兴职业崛起，人才成长追逐的追逐战</h3><p>随着各种新兴行业崛起，人工智能、大数据岗位、电竞玩家、无人机飞手、带货主播等岗位从无到有，从有到“热”。新职业发展过程中，学校教育已经落后于行业发展速度，企业人才培训的重要性也愈加凸显。</p>
<p><img src="https://img.36krcdn.com/20191209/v2_bdc2ffbc7ab3448580f786dfe1773686_img_png" alt="Boss直聘发布《2020人才资本趋势报告》，突变时代迎来八大趋势"></p>
<p>与大数据相关的岗位人才增速开始减缓，对中高端人才能力要求提升。</p>
<p>人工智能领域人才处于高速增长红利期。</p>
<p>网络直播、电竞领域人才处于爆发式增长，高度低龄化的阶段。</p>
<p>云计算、5G领域核心人才尚未迎来增长拐点。</p>
<h3 id="趋势三：区域化抢人大战升级"><a href="#趋势三：区域化抢人大战升级" class="headerlink" title="趋势三：区域化抢人大战升级"></a>趋势三：区域化抢人大战升级</h3><p>报告指出，当一个城市推出“抢人政策”，其所处区域内其他城市也会竞相推出类似政策，“城市抢人”明显向“区域化抢人”转变。</p>
<p>2019年一线城市（北上广深）人才持续留至新一线城市和省会城市。报告数据显示，截至2019年11月，一线城市职场人净流出率为0.58%，较2018年同期增加0.05%个百分点。杭州、东莞、武汉、长沙、苏州成为2019年求职者离开一线城市后的首选5大城市。</p>
<p><img src="https://img.36krcdn.com/20191209/v2_7631244e000347a29035e53579b632fc_img_png" alt="Boss直聘发布《2020人才资本趋势报告》，突变时代迎来八大趋势"></p>
<h3 id="趋势四：定制工作旅程，创造全息式员工体验"><a href="#趋势四：定制工作旅程，创造全息式员工体验" class="headerlink" title="趋势四：定制工作旅程，创造全息式员工体验"></a>趋势四：定制工作旅程，创造全息式员工体验</h3><p>为了吸引人才，许多企业在招聘阶段采用“薪资-文化-愿景”相结合的手段，但在人才入职后仍采用老旧的员工管理系统，先热后冷的处理方式潜藏人才流失风险。</p>
<p>报告认为，有必要从时间和空间两个维度继续对员工体验流程进行扩充，传统的流程式工作体验正变为旅程式工作体验，由此报告提出了一种新的员工体验图，即全息式员工体验图。</p>
<p><img src="https://img.36krcdn.com/20191209/v2_96c438f2105f4135b86199a9dfefbd78_img_png" alt="Boss直聘发布《2020人才资本趋势报告》，突变时代迎来八大趋势"></p>
<h3 id="趋势五：重构信息网络，识别“真实组织架构”"><a href="#趋势五：重构信息网络，识别“真实组织架构”" class="headerlink" title="趋势五：重构信息网络，识别“真实组织架构”"></a>趋势五：重构信息网络，识别“真实组织架构”</h3><p>报告认为，真实的组织架构由“解决一个问题应该去哪里、需要几个步骤找到正确的对接人，他们是否在组织中处于合适位置”决定，这是一张充满变化的复杂弹性网络。</p>
<p>组织网络分析（ONA，Organizational Network Analysis）是一项被证实有效的组织发展工具，其核心目标是刻画组织内的信息流动现状，进而判断信息“能够”如何流通和“应该”如何流通，并做出相应优化动作。</p>
<h3 id="趋势六：精练技能图谱，为职场竞争力定价"><a href="#趋势六：精练技能图谱，为职场竞争力定价" class="headerlink" title="趋势六：精练技能图谱，为职场竞争力定价"></a>趋势六：精练技能图谱，为职场竞争力定价</h3><p>报告发现，技能在职场中发挥的作用日益明显，更多企业不再单纯依赖求职者的自立，更易核心技能为导向筛选求职者。人工智能、算法类仍然是2019年最吃香的技能。</p>
<p>除了技术技能，软技能也受到企业关注，并且在某些行业和特定职位中，已经出现软技能等同于硬技能的迹象，企业对求职者创新性、创造力的要求越来越高。其中，时间管理能力、系统性思考能力、解决问题能力这三项软技能的竞争力排名靠前。</p>
<p>另外，在Boss直聘《2020企业人才需求趋势调查问卷》中，雇主最希望员工和候选人提升的素质能力还包括自主学习、人际沟通与协调、抗压与情绪管理能力。</p>
<p><img src="https://img.36krcdn.com/20191209/v2_49e1ce433e0e431f99ebf4f85f8393ee_img_png" alt="Boss直聘发布《2020人才资本趋势报告》，突变时代迎来八大趋势"></p>
<h3 id="趋势七：建设职场公平游戏"><a href="#趋势七：建设职场公平游戏" class="headerlink" title="趋势七：建设职场公平游戏"></a>趋势七：建设职场公平游戏</h3><p>近年来随着女性进入职场的比例逐渐升高，职场公平凸显一个窘境，即“大多数女性会停留在无法充分发挥其能力的岗位上”，这种现象被归纳为“宝拉原理（Paula Principle）”，相关现象被描绘为“玻璃天花板”效应和“粘地板”效应。</p>
<p>报告通过模型计算，探究在排除偏见和刻板印象之后，女性在“公平游戏”中的表现，男女性优于表现稳定程度带来职业发展差异，在一定程度上说明运气正在职业发展中的巨大作用。男性优于运气获得的收益，最终都将转化为组织的成本，使整体产出下降。能够连续获得晋升的女性往往比男性有更高的工作能力，玻璃天花板使得人力资本较高的女性无法充分施展，实际上降低了组织的整体绩效。</p>
<h3 id="趋势八：超越培训式学习，培养终身学习能力"><a href="#趋势八：超越培训式学习，培养终身学习能力" class="headerlink" title="趋势八：超越培训式学习，培养终身学习能力"></a>趋势八：超越培训式学习，培养终身学习能力</h3><p>格哈德 ▪ 费舍在其研究中指出，学习已经跨越了时间和空间的限制而进入全方位覆盖的阶段，即“终身学习（lifelong learning）”。报告指出，培训和终身学习、学校式学习和工作式学习在不同维度有差别。</p>
<p>在《2020求职需求趋势调查》中，比起求职者，雇主对学习能力的需求明显更高，这反映出工作化场景和在实践中交互对于终身学习能力培养的必要性。</p>
<p><img src="https://img.36krcdn.com/20191209/v2_e6dd408002fd40d0b1b9a7cae29f408d_img_png" alt="Boss直聘发布《2020人才资本趋势报告》，突变时代迎来八大趋势"></p>
<p>报告还发现，掌握终身学习能力可以降低转岗难度，也可以使求职者在相同类型的岗位上更容易完成晋升和提升，而且，对学习能力的需求还带动了培训行业的兴起。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-《程序员修炼之道》书评"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/18/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E4%BF%AE%E7%82%BC%E4%B9%8B%E9%81%93%E3%80%8B%E4%B9%A6%E8%AF%84/"
    >《程序员修炼之道》书评</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/18/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E4%BF%AE%E7%82%BC%E4%B9%8B%E9%81%93%E3%80%8B%E4%B9%A6%E8%AF%84/" class="article-date">
  <time datetime="2019-12-18T15:49:17.000Z" itemprop="datePublished">2019-12-18</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址：<a target="_blank" rel="noopener" href="https://book.douban.com/subject/5387402/">https://book.douban.com/subject/5387402/</a></p>
</blockquote>
<h3 id="1-我的源码让猫给吃了"><a href="#1-我的源码让猫给吃了" class="headerlink" title="1 我的源码让猫给吃了"></a>1 我的源码让猫给吃了</h3><p>不要寻找借口,从自身找原因</p>
<h3 id="2-软件的熵"><a href="#2-软件的熵" class="headerlink" title="2 软件的熵"></a>2 软件的熵</h3><p>一句话:不以善小而不为,勿以恶小而为之.</p>
<p>从初期就要做好规范,不要因为是poc这样的前提而放松对代码的规范,现在的项目就<br>有这种问题,初期的时候有人认为(自己也有这种想法)等到以后正式开发的时候再规范<br>,而往往还未到正式开发,到处出现不规范的东西.加上拷贝粘贴的大法,亡羊补牢都晚<br>了.这就是所谓破窗户理论.</p>
<h3 id="3-石头汤与煮青蛙"><a href="#3-石头汤与煮青蛙" class="headerlink" title="3 石头汤与煮青蛙"></a>3 石头汤与煮青蛙</h3><p>两个方面,一还是’软件的熵’当中的含义,喜欢书里面的这段话:’大多数的项目的拖<br>延都是一天一天发生的,系统一个特性一个特性的偏离其规范.一个又一个的补丁被打<br>到某段代码上,直到最初的代码一点没有留下’. 二是团队的协同合作,这样石头汤也很<br>鲜美.</p>
<h3 id="4足够好的软件"><a href="#4足够好的软件" class="headerlink" title="4足够好的软件"></a>4足够好的软件</h3><p>就是俗话说的一鸟在手胜于二鸟在林.<br>首先得确保软件可用性,至于亮点,特色,在可用以后才需要考虑.而且还得明确用户需<br>求(虽然这点始终被强调).大家都知道系统不可能做的完美,但是自己着手开发的时候<br>总是朝着尽可能完美的方向发展,欺骗自己说,这个功能多么伟大,一定要加上去,那个<br>功能多么惊天动地,最后反而成为四不像,使项目延期.<br>在第一次企图做那个todo list的时候,想着把calendar和task两项功能完整的结合,<br>同时还想着把contact功能也加入,甚至还有ms porject的管理功能,但是一切都太多,<br>以致于设计了少数几个界面以后就陷入了无止境的功能权衡中,因为太多东西又想完美<br>.所以第一次最终结果是除了最后那个简陋的复杂的界面,什么东西都没有,当然如今代<br>码也已经不知道是不是被自己删除,能够留在自己硬盘上并且使用的还是那个简简单单<br>的GeeTask,功能不多,但是的确对我来说,足够好了,如果还有新的功能,添加就是了,不<br>用一次就做一个大而全的玩意出来.<br>也想起在上一个公司参与的第一个项目,房地产的预警系统,先前同事通过研究,不知<br>道从哪里搞到一些其他人做的预警系统,动用高深的所谓经济学景气循环算法来计算,<br>艰难的实现这些公式.当然我们自己也不知道这个是不是准.后来我负责去给客户实施,<br>在客户处,得知了惊人的消息:客户需要的足够好的软件其实就是一个新闻发布功能的<br>东西,因为他们也不懂,是领导的要求—领导当然也是被上层领导要求.这个例子虽然<br>特殊,但是也说明了一定要及早知道客户心中的足够好的软件是什么.</p>
<h3 id="5-你的知识资产"><a href="#5-你的知识资产" class="headerlink" title="5 你的知识资产"></a>5 你的知识资产</h3><p>关于学习的一个章节,提到了不少如何学习,把学习知识作为投资一样看待,分析的也<br>很在理.自认为在这方面还是赶上了书中的要求,不然也不会看到这本书了^_^,学习是<br>一个过程,不会有立杆见影的效果,当然我们不是政客,不需要立马可见的政绩,那么种<br>种树又何妨呢?学习也要有实践,把学到的知识找机会就应用起来,起码,自己没用到,也<br>可以看看别人怎么用嘛.学的多了自然有了自己的判断,前两天不小心点开了jdk源码当<br>中关于Arrays.sort方法的实现.看到内部的合并排序法却不如《算法导论》中描述的<br>那么简洁,那么具有可读性,这时候,有了判断了,就不至于傻乎乎的研究它的写法,当然<br>,jdk里面的mergesort又有一些额外的处理(小数组优化),这个又是可以学习的地方.对<br>了,这一小节里面还有一段关于如何获得答案的方法,和国内论坛风靡一时的《提问的<br>智慧》一文有多处相似之处,不知道作者是否参考了本书.</p>
<h3 id="6-交流"><a href="#6-交流" class="headerlink" title="6 交流"></a>6 交流</h3><p>这个不用说就知道重要了.离开上一家公司最后一个项目就是最好的例子,一开始其<br>他同事从客户处带回来老系统的截图以及一些需求的说明,然后我们就要按照这些支离<br>破碎的东西进行开发.我们不是先知,不是某些领导人,可以自由的发挥,于是绞尽脑汁,<br>开始努力向可以吻合的方向发展,这种日子很不好受,直到我可以与客户联系上以后,直<br>接的面对面的确认客户的需求(又是需求) 才让项目的进展在几天里面比前面一个月都<br>要好的多.</p>
<h3 id="7-重复的危害"><a href="#7-重复的危害" class="headerlink" title="7 重复的危害"></a>7 重复的危害</h3><p>有时候是copy paste大法带来的后果，有时候是为了省事，总之，一份功能相同的代码在多处出现，更要命的是，需要修改这部分代码！这个可以毫不客气的说就是灾难，所以在设计，在编码初期就要有良好的规划，尽可能避免重复。实际工作中，发行有时候，尽管想要刻意避免，但是还是会出现。其中一个重要原因在于程序员的偷懒，还有是在于模块的可访问性。尤其是两个模块没有任何公用模块的时候，如何避免重复，或者说人工重复才是问题的关键，即使是build脚本去让两个模块出现相同的东西，也比人为维护两个东西都要好上千万倍。</p>
<h3 id="8-正交性"><a href="#8-正交性" class="headerlink" title="8 正交性"></a>8 正交性</h3><p>模块耦合，代码耦合，分层分模块，善用设计模式。正交的目标只有一个，让系统富有弹性，可以随需应变。</p>
<h3 id="9-可撤销性"><a href="#9-可撤销性" class="headerlink" title="9 可撤销性"></a>9 可撤销性</h3><p>还是系统的可变性，是否可以快速应付其中一些改变而快速改变。通常我们用面向接口的方式来做到这些。在前人的基础上，我们有corba ，com，ejb，webservice，odbc，jdbc等等让我们快速应变的基石，但是总有一些依赖我们自己的东西，接口，接口！</p>
<h3 id="10-曳光弹"><a href="#10-曳光弹" class="headerlink" title="10 曳光弹"></a>10 曳光弹</h3><p>很炫的名字，可惜就是在讲poc，Prove of Concept ，的确很有用。</p>
<p>11 原型与便笺<br>原型，没别的，常用的东西。</p>
<h3 id="12-领域语言"><a href="#12-领域语言" class="headerlink" title="12 领域语言"></a>12 领域语言</h3><p>不同语言有不同的优势，关键在于扬长避短，合理运用，有时候组合起来事半功倍。</p>
<h3 id="13-估算"><a href="#13-估算" class="headerlink" title="13 估算"></a>13 估算</h3><p>开始前做好计划，过程中最终计划，磨刀不误砍柴工。</p>
<h3 id="14-纯文本的威力"><a href="#14-纯文本的威力" class="headerlink" title="14 纯文本的威力"></a>14 纯文本的威力</h3><p>很多时候纯文本的简单让事情更容易。</p>
<h3 id="15-Shell游戏"><a href="#15-Shell游戏" class="headerlink" title="15 Shell游戏"></a>15 Shell游戏</h3><p>程序员必须掌握命令行，即使在windows下面。</p>
<h3 id="16-强力编辑"><a href="#16-强力编辑" class="headerlink" title="16 强力编辑"></a>16 强力编辑</h3><p>知道vi好，但是只会那么几个简单的命令，而且，通常我总是在windows下面工作，所以通常用crack的UltraEdit。不少实用的功能，加速编辑。倒是IDE的快捷键记住了不少，在实际工作中，发挥了很大的作用。<br>书上提到仍有不少人使用windows notepad写代码，我虽然不至于此，但倒是习惯使用它来写文章，记录东西，然而就在刚才，发现手工输入的东西都会出现几个黑色的黑框，可见一定要选择足够好的编辑器才行，何况，windows notepad只能撤销一次，而且你也不会知道撤销的到底是你那次的输入。</p>
<h3 id="17-源码控制"><a href="#17-源码控制" class="headerlink" title="17 源码控制"></a>17 源码控制</h3><p>凡是工作过的程序员，没有不用源码控制工具的吧？ 只是选择有所不同。</p>
<h3 id="18-调试"><a href="#18-调试" class="headerlink" title="18 调试"></a>18 调试</h3><p>读书的时候学习编程，觉得和其他人最不一样的地方在于两点，一是自己思考程序的流程，写下代码之前，知道代码将要（预期）执行的顺序逻辑，二是会调试代码，出现错误时不像一般人完全不知道该如何是好，而是去调试来寻找出错的原因。我相信，现在还是有不少工作了的程序员，不习惯去调试，他们期待的是自己的代码都是一次编写就能正确无误的执行，如果不行，那么别人大概可以帮忙解决。</p>
<p>一直以来，一直觉得，一个程序员的经验丰富情况很大程度依赖于他遇到的bug并解决的数量，所以一个人代码写的越多，解决的问题越多，那么他下次遇到问题时就越容易很快的定位。所以，有时候遇到问题并且成功的选择另外一个方案绕过去以后，不妨回头再看看原来到底为什么不行，毕竟下次也许你又要遇到，而且，更重要的是，可能到时候不能选择其他的方案。</p>
<h3 id="19-文本操纵"><a href="#19-文本操纵" class="headerlink" title="19 文本操纵"></a>19 文本操纵</h3><p>这一节没理解它真正的含义，表面看来是讲可以使用程序来读取操作文本的信息，来加快工作效率，但是到底指什么呢？不明白。不过倒是在工作上，多次嫌手工执行一些转换数据库工作麻烦，而写一些简短的工具来做批处理，效果也很不错。</p>
<h4 id="20-代码生成器"><a href="#20-代码生成器" class="headerlink" title="20 代码生成器"></a>20 代码生成器</h4><p>经常用，很好用。</p>
<h3 id="21-按合约设计"><a href="#21-按合约设计" class="headerlink" title="21 按合约设计"></a>21 按合约设计</h3><p>以前也看过类似的文章，当时还把它贴到公司的wiki上面，并且自从那以后一直坚持契约的方式编程。长久一来，我一直认为这是行之有效的方式，每个人把注意力放到自己的代码中，对他人的代码只作检查，不做包容，如果，对方的屁股没擦干净，一脚踹出去比请进来帮他擦更让人能够觉得舒畅，而且，也能防止有些家伙习惯性的先把屁股伸进来。</p>
<p>至于断言，以前学习VC6的时候因为其对程序的终止而不那么喜欢，而并非每次都写JUnit 也让自己并非常用。</p>
<h3 id="22-死程序不说谎"><a href="#22-死程序不说谎" class="headerlink" title="22 死程序不说谎"></a>22 死程序不说谎</h3><p>代码总是忠实的执行程序员的指令。一切程序员的错误最终将反映到代码上面来，在代码中随时做好踹别人屁股，甚至踹自己屁股的准备，因为崩溃比继续错误的运行更有好处。</p>
<h3 id="23-断言式编程"><a href="#23-断言式编程" class="headerlink" title="23 断言式编程"></a>23 断言式编程</h3><p>就是断言，同21节中的内容。</p>
<h3 id="24-何时使用异常"><a href="#24-何时使用异常" class="headerlink" title="24 何时使用异常"></a>24 何时使用异常</h3><p>因为在用java所以一直在和异常打交道，系统的，别人写的或者是自己写的。异常的处理可以说是所有java应用中最普遍的东西。配合上面3节，合理使用，让异常发挥最大的效用。</p>
<h3 id="25-怎样配平资源"><a href="#25-怎样配平资源" class="headerlink" title="25 怎样配平资源"></a>25 怎样配平资源</h3><p>记住并切实的执行一个原则：打开的资源一定要关闭，这个资源可以是文件，内存，io或者其他。虽然有些语言比如java有GC来管理内存，但是却管理不了文件，c的野指针问题，也都是因为只顾申请却不记得释放导致。还是前面的老话，屁股要自己擦干净，擦不干净当然会把裤子弄脏，脏了裤子是小，臭味熏了别人是大。</p>
<h3 id="26-解耦与得墨忒耳法则"><a href="#26-解耦与得墨忒耳法则" class="headerlink" title="26 解耦与得墨忒耳法则"></a>26 解耦与得墨忒耳法则</h3><p>没明白得墨忒耳法则的具体确切内容，不过减少耦合总是不错的。</p>
<h3 id="27-元程序设计"><a href="#27-元程序设计" class="headerlink" title="27 元程序设计"></a>27 元程序设计</h3><p>很多东西都应该以配置文件的形式来处理，这样的好处显而易见：修改这部分内容无需重新编译代码。而今，我又有一些新的体会： 配置可能会带来配置满天飞的灾难，所以一定要清晰易懂的配置。</p>
<h3 id="28-时间耦合"><a href="#28-时间耦合" class="headerlink" title="28 时间耦合"></a>28 时间耦合</h3><p>工作流的东西，到现在还没有去瞅过，管他呢，用的到时再说吧。</p>
<h3 id="29-它只是视图"><a href="#29-它只是视图" class="headerlink" title="29 它只是视图"></a>29 它只是视图</h3><p>mvc 常用的不行的东西，发布&#x2F;订阅，这个也是在设计、编码过程中自然而然想要使用的玩意。</p>
<h3 id="30-黑板"><a href="#30-黑板" class="headerlink" title="30 黑板"></a>30 黑板</h3><p>是指多系统共用数据吗？看着有点像，不确定。</p>
<h3 id="31-靠巧合编程"><a href="#31-靠巧合编程" class="headerlink" title="31 靠巧合编程"></a>31 靠巧合编程</h3><p>编写代码的方式是知道要做什么，然后写代码。所以要清楚的知道自己的代码每一步都做了些什么。对于很多程序来说，通常情况下，它是正确的，而某些情况下它却不正常了，那么这就可以归属于靠巧合编程。程序的错误，很多时候在于对边界条件的判断。</p>
<h3 id="32-算法速率"><a href="#32-算法速率" class="headerlink" title="32 算法速率"></a>32 算法速率</h3><p>就目前来说，项目已经很少需要精确到一个具体算法的速度，但是在比较广义的范围内，减少不必要的计算，提高整体运算速度，还是会是系统看起来更好。本节提到的算法复杂度，在很多书中都被提及，但是我从一开始就忽略了这部分的学习，所以，通常情况下，总是不知道一个算法的具体复杂的（总是忘记某些重要的结论，比如递归算法的复杂度计算公式），所以这个一定要补上来。</p>
<h3 id="33-重构"><a href="#33-重构" class="headerlink" title="33 重构"></a>33 重构</h3><p>没什么好说的。</p>
<h3 id="34-易于测试的代码"><a href="#34-易于测试的代码" class="headerlink" title="34 易于测试的代码"></a>34 易于测试的代码</h3><p>测试，保障代码质量，没什么好说的。</p>
<h3 id="35-邪恶的向导"><a href="#35-邪恶的向导" class="headerlink" title="35 邪恶的向导"></a>35 邪恶的向导</h3><p>为了节约时间，出现了各种向导工具，同时也让不明就里的人失去了了解细节的机会，因而，懒惰的人更不会去理会向导做了什么事情，这就是邪恶的原因所在。</p>
<h3 id="36-需求之坑"><a href="#36-需求之坑" class="headerlink" title="36 需求之坑"></a>36 需求之坑</h3><p>终于到了需求的部分，可是有没什么好说的了。</p>
<h3 id="37-解开不可能解开的迷题"><a href="#37-解开不可能解开的迷题" class="headerlink" title="37 解开不可能解开的迷题"></a>37 解开不可能解开的迷题</h3><p>有时候问题的解决需要跳出常规的思维。或者简单一点，用另外一种方法，而不是钻牛角尖。</p>
<h3 id="38-等你准备好"><a href="#38-等你准备好" class="headerlink" title="38 等你准备好"></a>38 等你准备好</h3><p>不打无准备的仗。没什么好说的。</p>
<h3 id="39-规范陷阱"><a href="#39-规范陷阱" class="headerlink" title="39 规范陷阱"></a>39 规范陷阱</h3><p>不要等万事具备才开始，因为不可能万事具备，用户总是在变。</p>
<h3 id="40-圆圈与箭头"><a href="#40-圆圈与箭头" class="headerlink" title="40 圆圈与箭头"></a>40 圆圈与箭头</h3><p>工具是拿来帮助加快开发，而不是束缚开发的。各种各样眼花缭乱的UML，其实只是为了能够清晰描述设计者的思想。当我还是高中生的时候，老师在课堂上面讲述着流程图这种工具，当时甚至5、6年以后我都没听说过uml，但是觉得流程图就是那么的实用。如今，已经很少见到有谁在使用流程图来描述。也许和设计的关注点不同有关，但是当自己在使用uml进行设计时，却又十分的想使用流程图，可惜，像rose之类的工具都没有，也不知道uml是否定义。viso倒貌似有，可是还没用过。前不久找了一个开源的digramdesinger的工具，在这方面倒做的不错。</p>
<h3 id="41-注重实效的团队"><a href="#41-注重实效的团队" class="headerlink" title="41 注重实效的团队"></a>41 注重实效的团队</h3><p>项目开发就脱不开团队，个人的项目除了兴趣爱好，还没听说过。团队重要性不言而喻，以往的经历告诉我一个合理的团队让人觉得有归属感，反之，就容易萌生去意。一起喝着可乐，听着破喇叭放出的音乐，并且加着班的团队在多年以后的记忆里面显得那么的美。</p>
<h3 id="42-无处不在的自动化"><a href="#42-无处不在的自动化" class="headerlink" title="42 无处不在的自动化"></a>42 无处不在的自动化</h3><p>程序的目的之一就是让原本繁琐复杂的重复劳动自动化的处理，而软件开发过程中也一样需要自动化。我一直坚信别人说过的一句话：凡是有人参与的过程，肯定会产生错误。所以，我也一直坚持能让机器去做的事情就交给机器，以减少人的参与，减少错误的发生几率。在过去，我尝试了多次为某些任务编写简单的程序来自动化处理，虽然，我的计划上，没有写一个程序这样的描述，但是，写程序自动处理更好，更有效，最重要的是，还能再次重复预设的动作。此外其他的自动化工具也是很值得推荐，比如自动化测试，代码生成器。</p>
<h3 id="43-无情的测试"><a href="#43-无情的测试" class="headerlink" title="43 无情的测试"></a>43 无情的测试</h3><p>测试是为了保障代码的质量。所以越是仔细，全面的测试，越是有助于系统的健壮，不负责任的程序员或者测试，总是拿着可以正常运行的数据来进行着测试。有条件还是需要专职的测试，合格的测试，而不是那种连代码都看不懂的刚毕业的小姑娘。</p>
<h3 id="44-全都是写"><a href="#44-全都是写" class="headerlink" title="44 全都是写"></a>44 全都是写</h3><p>文档和注释。自认为注释方面还过得去，但是有些情况下还是会忽略注释而后期弥补，这一点需要改正。 至于文档倒是需要好好努力的，这样能显的更“专业”，能更好的记录代码的情况。</p>
<h3 id="45-极大的期望"><a href="#45-极大的期望" class="headerlink" title="45 极大的期望"></a>45 极大的期望</h3><p>达到客户的期望，才是软件真正的成功。这一点，其实又涉及到“万恶的”需求。刚刚经历了一段做完的曳光弹被客户枪毙的事情。其实这一切，如果能从一开始就得到客户的期望，就不会如此的糟糕。而事实却是客户的期望，客户的需求却并非可以得到。虽说这不是好的软件工程的典型，但是至少，我们现在知道了什么是客户期望的。</p>
<h3 id="46-傲慢与偏激"><a href="#46-傲慢与偏激" class="headerlink" title="46 傲慢与偏激"></a>46 傲慢与偏激</h3><p>很cool的名字，不是吗?其实只是指了一个小事情，在你的代码上面留下你的足迹。这一点，在第一个公司的时候就已经养成了习惯，并且保留到现在。虽然现在没有诸如此类的要求，但是我还会继续这么做下去，因为对于自己，对于队友，都是很重要的好习惯，当别人发现有问题时，可以马上过来问我：嘿，为什么会有这个问题。他可以节约自己的时间，我也可以有机会再一次增加自己的经验（参见我之前的感受）。而且留下自己的痕迹，也留下一份责任心，不负责任的人，马上就能被发现。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-一次写作，到处发布-openwrite"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/16/%E4%B8%80%E6%AC%A1%E5%86%99%E4%BD%9C%EF%BC%8C%E5%88%B0%E5%A4%84%E5%8F%91%E5%B8%83-openwrite/"
    >一次写作，到处发布-openwrite</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/16/%E4%B8%80%E6%AC%A1%E5%86%99%E4%BD%9C%EF%BC%8C%E5%88%B0%E5%A4%84%E5%8F%91%E5%B8%83-openwrite/" class="article-date">
  <time datetime="2019-12-15T17:50:51.000Z" itemprop="datePublished">2019-12-16</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>网站地址：<a target="_blank" rel="noopener" href="https://openwrite.cn/">https://openwrite.cn/</a></p>
</blockquote>
<p>博客群发平台</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg611gc5iyj31ot0u04qq.jpg"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/" rel="tag">网站推荐</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-毁了你职业生涯的三个错误认知！"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/15/%E6%AF%81%E4%BA%86%E4%BD%A0%E8%81%8C%E4%B8%9A%E7%94%9F%E6%B6%AF%E7%9A%84%E4%B8%89%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E7%9F%A5%EF%BC%81/"
    >毁了你职业生涯的三个错误认知！</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/15/%E6%AF%81%E4%BA%86%E4%BD%A0%E8%81%8C%E4%B8%9A%E7%94%9F%E6%B6%AF%E7%9A%84%E4%B8%89%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E7%9F%A5%EF%BC%81/" class="article-date">
  <time datetime="2019-12-15T06:10:08.000Z" itemprop="datePublished">2019-12-15</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址：<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/4J_4Mfwd8PYd8VyBB0LXbA">https://mp.weixin.qq.com/s/4J_4Mfwd8PYd8VyBB0LXbA</a></p>
<p>小结：</p>
<p>三个错误认知：</p>
<ol>
<li><p><strong>进行大量重复练习？</strong></p>
<p>反复练习是效率最低的一种方式。这种学习方法是在助长人的惰性。单纯地重复练习意味着我们在机械地、快速地重复一些东西，想把它们烙在自己的记忆里</p>
<p>读书-思考-行动-反思</p>
</li>
<li><p><strong>努力努力再努力？</strong></p>
<p>底层逻辑是我们在思考问题的时候，最先的核心切入点，从这个点开始思考，从而作出之后的决定。</p>
<p>当围绕着底层逻辑思考时，做出的决定才是和初心一致，最贴合内心的，也是真实的人性反馈。</p>
</li>
<li><p><strong>一定要用最新，最流行的工具？</strong> </p>
<p>在尝试了使用工具便捷的甜头后，于是，我们容易掉进一个误区：追求使用最新，最流行的工具。</p>
<p>技术人，不要老是埋头敲代码，要有点产品思维，要注重思想上的提升。语言只是一种工具，一种实现的手段，不要只做工具的奴隶，而要做思想上的巨人。</p>
<p>一个只会熟练使用编程语言的程序员，如果只是一味地追求编程技术上的精进，而不注重编程思维的提升，那么也很难以获得新的突破。</p>
<p>技法固然重要，但凌驾于技法之上的，却是一个人的思想高度</p>
</li>
<li><p><strong>最后</strong></p>
<p>我们之所以努力，是因为努力本身能拓展我们的能力。你所做的事情决定了你会成为什么样的人，决定了你有能力做什么。你做的事情越多，你能做的事情也就越多。</p>
</li>
</ol>
<p>个人思考：</p>
<p>重复练习是在助长人的惰性，习得-思考-行动-反思</p>
<p>找到问题的底层逻辑</p>
<p>要注重编程思维的提升</p>
</blockquote>
<p>众所周知，在技术迅速转变、业务要求不断变化的 IT 行业，重塑职业道路似乎成为一个关乎生存的问题。</p>
<p>那么，程序员想要不被淘汰，避免自己在职场上过早地走入死胡同，最稳妥的办法–接受新技术，保持终身学习。</p>
<p>问题是，如何学？该避免哪些认知误区？</p>
<h2 id="1-进行大量重复练习？"><a href="#1-进行大量重复练习？" class="headerlink" title="1. 进行大量重复练习？"></a><strong>1. 进行大量重复练习？</strong></h2><p>在开始之前，我先跟大家分享一个故事：</p>
<p>上高中的第一天，班里来了一位学习非常刻苦勤奋的同学。这位同学勤奋到什么程度呢？书桌上的资料书堆起来后，可以完全把她淹没。课余时间，我们一般都会稍作休息，聊聊天，活动活动之类。</p>
<p>但她是那种一刻钟都不肯浪费的人。当我们在玩耍时，她在读书学习；当我们在学习时，她也在学习；当我们午休时，她还在争分夺秒学习。晚上宿舍关灯休息时，她就会走到楼道里，借着昏暗的灯光继续学。</p>
<p>像她这种勤奋的孩子，我们都以为她成绩很厉害。结果考试成绩出来，吓了我们一跳：全班倒数第五名。</p>
<p>后来我们发现，她所谓的勤奋，其实不过就是在不断重复背题，实践题海战术。好读书，但不求甚解。是典型的“死记硬背”类型。碰巧背对了题，成绩就会上升。一旦题目“变”了身，成绩就急剧下降。</p>
<p>我们一直以来接受的教育就是，倘若想要学好某门技能，就应把注意力完全放在这上面，然后通过不断重复的练习、练习、练习，直到掌握为止。</p>
<p>而我们大多数人，都对这个方法深信不疑。因为曾经在考试期间，通过在集中练习后，在短期内效果显著，尝过甜头。</p>
<p>像这种不断重复的练习，往往见效快，但时间一长，就暴露出其弊端。</p>
<p>在《认知天性》一书中，作者认为，<strong>反复练习是效率最低的一种方式。这种学习方法是在助长人的惰性。单纯地重复练习意味着我们在机械地、快速地重复一些东西，想把它们烙在自己的记忆里。</strong></p>
<p><strong>最熟悉的例子就是考前的”填鸭”，这种错误的方式让人觉得自己已经很熟练了，已经掌握了知识，但实际上这种方法不仅做不到真正的精通，也不会产生持久的记忆。</strong></p>
<p>那么正确的方法是什么呢？书中提出了一些解决方案，而我感受最深的莫过于间隔练习。</p>
<p> 我曾经有过这样的经历：</p>
<p>记得有一次，项目中要引入新技术，需要我们自己折腾学习。当时在学习的时候，遇到了一个技术性问题，而周遭又没有人可以指导，只能自己上网搜索。</p>
<p>当时只有一个心里念头：今晚不把问题解决，誓不罢休！</p>
<p>于是，加班加点，反复尝试，不断折腾。可是无论怎么折腾，结果还是没有任何进展，反而效果越来越糟糕。</p>
<p>夜已深。无奈之下，只好先行放弃。可待睡一觉后，第二天再尝试时，发现好像突然开窍，完成得比前一天更好。</p>
<p>这里，涉及到一个“间隔练习”的问题。间隔练习，在这里，我把它称之为“爱迪生工作法”，这个工作方式，类似于我们平时所说的“劳逸结合”方式。</p>
<p>据说爱迪生在工作一段时间后，就会躺在躺椅上小憩。每次他手里都会抓住一个铁球，如果不小心进入了深度睡眠，手里的铁球就会掉到地上把自己弄醒。这样，他就可以享受那种半梦半醒的状态，也是最有创造力的一段时间。</p>
<p>这也是我比较喜欢的一种工作方式。每学习或者工作一段时间后，休息一小段时间放松，这样让身心保持在一个舒适的状态，更容易让大脑建立新的连接，效率比持续工作&#x2F;学习要好很多。这也是间隔练习带来的好处。</p>
<p>关于该如何有效学习，在《认知心理学》里，提出了<strong>PQ4R</strong>法，即<strong>预习-提问-阅读-反思-复述-复习</strong>。</p>
<p>简单可以归结为，<strong>“读书-思考-行动-反思”循环模式</strong>。通过这个循环进行读书，才能把一本书逐渐读透。这个模式应用在学习，工作流程上也同样适用。</p>
<p>学习是反人性的事情，当你感觉难，那就是正确的状态！在安德斯·艾利克森的《刻意练习》这本书的理论基础是<strong>“刻意练习自己不擅长的部分”。</strong>这个过程会让大脑处于一种非常不舒服的状态，会非常艰辛，若想有所成，前路必然艰辛。</p>
<p>关键是，要在正确的方向上使力。认知错了，一切努力都是徒劳。</p>
<h2 id="2-努力努力再努力？"><a href="#2-努力努力再努力？" class="headerlink" title="2. 努力努力再努力？"></a><strong>2. 努力努力再努力？</strong></h2><p>有时候会发现，明明自己已经很努力，却依然还是没有找到解决问题的方法，别人稍稍发力，就能迅速地找到突破口。这里涉及到另一个关键点–底层逻辑。</p>
<p>滴滴打车的创始人程维说过，“遇到任何难以解决的问题，就会去想，最关键的底层逻辑是什么？” </p>
<p>那么，什么是底层逻辑？这里，可以理解为<strong>我们在思考问题的时候，最先的核心切入点，从这个点开始思考，从而作出之后的决定。</strong></p>
<p><strong>当围绕着底层逻辑思考时，做出的决定才是和初心一致，最贴合内心的，也是真实的人性反馈。</strong></p>
<p>这个怎么说呢？</p>
<p>在《颠覆认知》一书中，作者曾列举过一个例子：</p>
<p>你教小朋友骑自行车，如果跟他说一大堆平衡理论，动力理论，他还是学不会。你只要告诉他底层逻辑–向前奔跑的自行车不会倒下，那么他自己捣鼓一下，很快就能学会。</p>
<p>它的底层逻辑是什么，关键就是要看它能在根本上解决什么问题。作为新手，这个需要花时间去折腾，通过对事物的深入理解，熟悉后才能找到。</p>
<p>而在商业模式里，一个公司的底层逻辑，往往与其定位密切相关。 </p>
<p>例如，苹果公司的底层逻辑是“极致的人机交互体验”，所以苹果的产品设计都是“体验优先于性能”；</p>
<p>腾讯的底层逻辑是“用户体验”，所以腾讯员工的动作靠两个东西来约束：一个是KPI，另一个就是“用户体验”这个核心价值认知，而且用户体验大于KPI；</p>
<p>有了底层逻辑，公司在遇到难以解决的问题时，也就有了破题的切入点，这也是公司成功的一个关键。</p>
<p>同理，可以引申到学习与工作中去。</p>
<p>类比到学习。当学习java编程语言时，学过c语言的人可能更容易上手，因为学习语言的底层逻辑相同；当物理上讲到加速度时，有玩过过山车经验的人可能更容易理解。</p>
<p><strong>这个学习的过程，就像滚雪球一样，越滚越大。随着经验的丰富，看待世界更为成熟，面对新知识时也就更容易触类旁通，举一反三和迁移。</strong></p>
<p><strong>这些禀赋，在切换到新领域之后，都可以顺利移植，构成我们常说的底层逻辑。</strong></p>
<p>这种底层逻辑，与法纳姆街博客上解释说的心智模型有着异曲同工之处。</p>
<p>引用法纳姆街博客上的话来解释说，心智模型就是我们大脑做决定时所用的工具箱。工具箱里有的工具越多，你就更有可能做出正确的决定。因此，<strong>心智模型是工具，也是举一反三和学习迁移的基础，其重要性不言而喻。</strong></p>
<h2 id="3-一定要用最新，最流行的工具？"><a href="#3-一定要用最新，最流行的工具？" class="headerlink" title="3. 一定要用最新，最流行的工具？"></a><strong>3. 一定要用最新，最流行的工具？</strong></h2><p>荀子在《荀子·劝学》中说：“假舟楫者，非能水也，而绝江河。君子生非异也，善假于物也。”</p>
<p>由此可见，善于利用已有的条件，是我们成功的一个重要途径。</p>
<p>同理，引申至我们的学习，工作中，同样适用。例如，在处理大量的数据统计上，使用计算器，或借助程序演算，会比口算或者笔算来得便捷高效，从而节省了多余的时间，可以投入到深度工作中去。</p>
<p>例如，在项目趋向稳定阶段，需求变更较小，大量重复性验证的测试工作，可以通过使用自动化工具辅助解决，从而释放了更多的人力去做更重要的事情；</p>
<p>设计师熟练使用各种设计软件，借助设计软件，能快速高效地完成精美的设计图；</p>
<p>程序员熟悉使用编程语言，能开发出各种改变人类生活方式，甚至改变世界的软件；</p>
<p>产品经理借助原型工具，能有效地把用户需求转换成一张张“会说话”的原型图。</p>
<p>可以说，在信息科技发达的今天，善于利用身边已有的条件资源进行配置，会让你事半功倍。</p>
<p>在尝试了使用工具便捷的甜头后，于是，我们容易掉进一个误区：追求使用最新，最流行的工具。</p>
<p>正所谓，水能载舟，亦能覆舟。过度依赖工具，只会适得其反。</p>
<p>例如，一个精通使用各种设计软件的设计师，如果一直只是在对使用工具的技巧上精进，不断在新工具，流行工具的使用上打磨，而不注重创新，不注重设计理念的提升，那么充其量也只能算是个设计“工匠”；</p>
<p>一个只会熟练使用编程语言的程序员，如果只是一味地追求编程技术上的精进，而不注重编程思维的提升，那么也很难以获得新的突破。</p>
<p>以前的一个技术总监对我们说过一番话，“技术人，不要老是埋头敲代码，要有点产品思维，要注重思想上的提升。语言只是一种工具，一种实现的手段，不要只做工具的奴隶，而要做思想上的巨人。”</p>
<p>特里说：“即便你拥有一种专业技能，也会潮起潮落，新的热潮会开始涌现。如果你想站在最前沿，你的思想就要变得更开阔。关键不再仅仅是找到从A点到B点的最短捷径。”</p>
<p>由此可见，技法固然重要，但凌驾于技法之上的，却是一个人的思想高度。</p>
<h2 id="4-最-后"><a href="#4-最-后" class="headerlink" title="4. 最 后"></a><strong>4. 最 后</strong></h2><p>在《认知天性》里有一段话，“我们之所以努力，是因为努力本身能拓展我们的能力。你所做的事情决定了你会成为什么样的人，决定了你有能力做什么。你做的事情越多，你能做的事情也就越多。”</p>
<p>虽然我不太苟同，在 IT 行业有所谓的‘走入死胡同的工作’。但是技术在更新，工作一直在变化，这对IT人来说是个真正的痛点。</p>
<p>保持终身学习的习惯，拥有可迁移的底层能力以及不断提升的思想高度，即使有一天，AI替代了现在的我们，我们依然能去制造另一个AI，BI，CI……</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-如何在CentOS-7-Fedora-31-30-29上安装ELK-Stack"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/10/%E5%A6%82%E4%BD%95%E5%9C%A8CentOS-7-Fedora-31-30-29%E4%B8%8A%E5%AE%89%E8%A3%85ELK-Stack/"
    >如何在CentOS 7 / Fedora 31/30/29上安装ELK Stack</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/10/%E5%A6%82%E4%BD%95%E5%9C%A8CentOS-7-Fedora-31-30-29%E4%B8%8A%E5%AE%89%E8%A3%85ELK-Stack/" class="article-date">
  <time datetime="2019-12-10T10:54:43.000Z" itemprop="datePublished">2019-12-10</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址：<a target="_blank" rel="noopener" href="https://computingforgeeks.com/how-to-install-elk-stack-on-centos-fedora/">https://computingforgeeks.com/how-to-install-elk-stack-on-centos-fedora/</a></p>
<p>原作者： <a target="_blank" rel="noopener" href="https://computingforgeeks.com/author/mutai-josphat/" title="Josphat Mutai">Josphat Mutai</a></p>
<p>译者：高行行</p>
</blockquote>
<p>如何在 CentOS 7 &#x2F; Fedora 31&#x2F;30&#x2F;29 上安装 ELK Stack？“ <strong>ELK</strong> ”是 <code>Elasticsearch, Logstash, and Kibana</code> 的缩写。</p>
<ul>
<li><strong>Elasticsearch</strong>：这是一个开源的、基于 REST 和 JSON 的搜索引擎。它具有可扩展性、易用性和灵活性</li>
<li><strong>Logstash</strong> ：这是一个服务器端数据处理管道，它同时从多个来源中采集数据，转换数据，然后将其发送到类似 Elasticsearch 的“存储”中。</li>
<li><strong>Kibana</strong> 允许用户使用图表可视化 Elasticsearch 中的数据。</li>
</ul>
<p>对于 RHEL 8，请参阅：</p>
<p><a target="_blank" rel="noopener" href="https://computingforgeeks.com/how-to-install-the-elk-stack-on-rhel-8/" title="如何在RHEL / CentOS 8上安装ELK Stack">如何在 RHEL &#x2F; CentOS 8 上安装 ELK Stack</a></p>
<p>请按照以下步骤在 CentOS 7 &#x2F; Fedora 31&#x2F;30&#x2F;29 Linux 上安装和配置 ELK stack 工具。</p>
<h2 id="步骤-1：安装-Java"><a href="#步骤-1：安装-Java" class="headerlink" title="步骤 1：安装 Java"></a>步骤 1：安装 Java</h2><p>由于 Elasticsearch 依赖 Java，因此你需要在 CentOS 7 &#x2F; Fedora 系统上安装 Java。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install java-openjdk-devel java-openjdk</span><br></pre></td></tr></table></figure>

<h2 id="步骤-2：添加-ELK-存储库"><a href="#步骤-2：添加-ELK-存储库" class="headerlink" title="步骤 2：添加 ELK 存储库"></a>步骤 2：添加 ELK 存储库</h2><p>安装 Java 后，添加提供 ELK 堆栈软件包的 ELK 堆栈存储库。</p>
<p><strong>对于 Elasticsearch 7.x</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF | sudo tee /etc/yum.repos.d/elasticsearch.repo</span></span><br><span class="line"><span class="string">[elasticsearch-7.x]</span></span><br><span class="line"><span class="string">name=Elasticsearch repository for 7.x packages</span></span><br><span class="line"><span class="string">baseurl=https://artifacts.elastic.co/packages/7.x/yum</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"><span class="string">autorefresh=1</span></span><br><span class="line"><span class="string">type=rpm-md</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>

<p><strong>对于 Elasticsearch 6.x</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF | sudo tee /etc/yum.repos.d/elasticsearch.repo</span></span><br><span class="line"><span class="string">[elasticsearch-6.x]</span></span><br><span class="line"><span class="string">name=Elasticsearch repository for 6.x packages</span></span><br><span class="line"><span class="string">baseurl=https://artifacts.elastic.co/packages/6.x/yum</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"><span class="string">autorefresh=1</span></span><br><span class="line"><span class="string">type=rpm-md</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>

<p>添加仓库后，导入 GPG 密钥：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch</span><br></pre></td></tr></table></figure>

<p>清除并更新你的 YUM 软件包索引。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum clean all</span><br><span class="line">sudo yum makecache</span><br></pre></td></tr></table></figure>

<h2 id="步骤-3：安装和配置-Elasticsearch"><a href="#步骤-3：安装和配置-Elasticsearch" class="headerlink" title="步骤 3：安装和配置 Elasticsearch"></a>步骤 3：安装和配置 Elasticsearch</h2><p>Elasticsearch 存储库已准备就绪，可以使用。你可以使用以下命令安装 Elasticsearch：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install elasticsearch</span><br></pre></td></tr></table></figure>

<p>确认软件包安装。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -qi elasticsearch</span><br><span class="line"> Name        : elasticsearch</span><br><span class="line"> Epoch       : 0</span><br><span class="line"> Version     : 7.0.1</span><br><span class="line"> Release     : 1</span><br><span class="line"> Architecture: x86_64</span><br><span class="line"> Install Date: Mon 06 May 2019 09:59:57 PM EAT</span><br><span class="line"> Group       : Application/Internet</span><br><span class="line"> Size        : 571521653</span><br><span class="line"> License     : Elastic License</span><br><span class="line"> Signature   : RSA/SHA512, Mon 29 Apr 2019 05:14:11 PM EAT, Key ID d27d666cd88e42b4</span><br><span class="line"> Source RPM  : elasticsearch-7.0.1-1-src.rpm</span><br><span class="line"> Build Date  : Mon 29 Apr 2019 04:06:59 PM EAT</span><br><span class="line"> Build Host  : packer-virtualbox-iso-1553723689</span><br><span class="line"> Relocations : /usr</span><br><span class="line"> Packager    : Elasticsearch</span><br><span class="line"> Vendor      : Elasticsearch</span><br><span class="line"> URL         : https://www.elastic.co/</span><br><span class="line"> Summary     : Elasticsearch is a distributed RESTful search engine built <span class="keyword">for</span> the cloud. Reference documentation can be found at https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html and the <span class="string">&#x27;Elasticsearch: The Definitive Guide&#x27;</span> book can be found at https://www.elastic.co/guide/en/elasticsearch/guide/current/index.html</span><br><span class="line"> Description :</span><br><span class="line"> Elasticsearch subproject :distribution:packages</span><br></pre></td></tr></table></figure>

<p>你可以通过编辑文件来设置 JVM 选项（例如内存限制）： <code>/etc/elasticsearch/jvm.options</code></p>
<p>下面的示例设置总堆空间的初始&#x2F;最大大小</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-Xms1g</span><br><span class="line">-Xmx1g</span><br></pre></td></tr></table></figure>

<p>如果你的系统内存较少，则可以将其配置为使用较小的内存。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-Xms256m</span><br><span class="line">-Xmx512m</span><br></pre></td></tr></table></figure>

<p>启动并设置为开机时启用 elasticsearch 服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl <span class="built_in">enable</span> --now elasticsearch.service</span><br><span class="line"> Synchronizing state of elasticsearch.service with SysV service script with /usr/lib/systemd/systemd-sysv-install.</span><br><span class="line"> Executing: /usr/lib/systemd/systemd-sysv-install <span class="built_in">enable</span> elasticsearch</span><br><span class="line"> Created symlink /etc/systemd/system/multi-user.target.wants/elasticsearch.service → /usr/lib/systemd/system/elasticsearch.service.</span><br></pre></td></tr></table></figure>

<p>测试以验证其是否正常运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://127.0.0.1:9200</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span> : <span class="string">&quot;localhost.localdomain&quot;</span>,</span><br><span class="line">  <span class="string">&quot;cluster_name&quot;</span> : <span class="string">&quot;elasticsearch&quot;</span>,</span><br><span class="line">  <span class="string">&quot;cluster_uuid&quot;</span> : <span class="string">&quot;7fyD4TuqQ7yxog0fCnPXuA&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span> : &#123;</span><br><span class="line">    <span class="string">&quot;number&quot;</span> : <span class="string">&quot;7.5.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_flavor&quot;</span> : <span class="string">&quot;default&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_type&quot;</span> : <span class="string">&quot;rpm&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_hash&quot;</span> : <span class="string">&quot;e9ccaed468e2fac2275a3761849cbee64b39519f&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_date&quot;</span> : <span class="string">&quot;2019-11-26T01:06:52.518245Z&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_snapshot&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="string">&quot;lucene_version&quot;</span> : <span class="string">&quot;8.3.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;minimum_wire_compatibility_version&quot;</span> : <span class="string">&quot;6.8.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;minimum_index_compatibility_version&quot;</span> : <span class="string">&quot;6.0.0-beta1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;tagline&quot;</span> : <span class="string">&quot;You Know, for Search&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建一个测试的索引：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl -X PUT <span class="string">&quot;http://127.0.0.1:9200/mytest_index&quot;</span></span><br><span class="line">&#123;<span class="string">&quot;acknowledged&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;shards_acknowledged&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;index&quot;</span>:<span class="string">&quot;mytest_index&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步骤-4：安装和配置-Kibana"><a href="#步骤-4：安装和配置-Kibana" class="headerlink" title="步骤 4：安装和配置 Kibana"></a>步骤 4：安装和配置 Kibana</h2><p>从添加的 Elasticsearch 存储库下载并安装 Kibana。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install kibana</span><br></pre></td></tr></table></figure>

<p>成功安装后，配置 Kibana：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vim /etc/kibana/kibana.yml</span><br><span class="line">server.host: <span class="string">&quot;0.0.0.0&quot;</span></span><br><span class="line">server.name: <span class="string">&quot;kibana.example.com&quot;</span></span><br><span class="line">elasticsearch.url: <span class="string">&quot;http://localhost:9200&quot;</span></span><br></pre></td></tr></table></figure>

<p>根据需要更改其他设置，然后启动 kibana 服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> --now kibana</span><br></pre></td></tr></table></figure>

<p>访问 <strong><a target="_blank" rel="noopener" href="http://ip-address:5601/">http://ip-address:5601</a></strong> 以打开 Kibana 信息中心：</p>
<p><img src="https://computingforgeeks.com/wp-content/uploads/2018/08/elasticsearch-kibana-centos7-min-1024x372.png"></p>
<p>如果你有活动的防火墙服务，请允许使用 TCP <code>5601</code> 端口 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --add-port=5601/tcp --permanent</span><br><span class="line">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>

<h2 id="步骤-5：安装和配置-Logstash"><a href="#步骤-5：安装和配置-Logstash" class="headerlink" title="步骤 5：安装和配置 Logstash"></a>步骤 5：安装和配置 Logstash</h2><p>最后安装的是针对 Logstash 的。它将充当客户端系统的集中式日志服务器，该服务器运行诸如<a target="_blank" rel="noopener" href="https://www.elastic.co/products/beats/filebeat" title="filebeat">filebeat</a>之类的代理 。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install logstash</span><br></pre></td></tr></table></figure>

<p>Logstash 自定义配置可以放在 <code>/etc/logstash/conf.d/</code>目录下。</p>
<p>有关更多详细信息，请<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/logstash/current/index.html" title=" 参阅Logstash配置手册 "> 参阅 Logstash 配置手册 </a>。</p>
<h2 id="步骤-6：安装其他-ELK-工具-锦上添花"><a href="#步骤-6：安装其他-ELK-工具-锦上添花" class="headerlink" title="步骤 6：安装其他 ELK 工具-锦上添花"></a>步骤 6：安装其他 ELK 工具-锦上添花</h2><p>可以安装的其他 ELK 工具包括：</p>
<ul>
<li><strong>Filebeat</strong>：用于日志的轻量型采集器。通过提供一种转发和汇总日志与文件的轻量级方法，让简单的事情不再繁杂。</li>
<li><strong>Metricbeat</strong>：用于从系统和服务收集指标。Metricbeat 能够以一种轻量型的方式，输送各种系统和服务统计数据，从 CPU 到内存，从 Redis 到 Nginx，不一而足。</li>
<li><strong>Packetbeat</strong>：轻量型网络数据采集器。用于深挖网线上传输的数据，了解应用程序动态。Packetbeat 是一款轻量型网络数据包分析器，能够将数据发送至 Logstash 或 Elasticsearch。</li>
<li><strong>Heartbeat</strong>：用于正常运行时间监视的轻量型采集器。它通过主动探测帮助你监视服务的可用性</li>
<li><strong>Auditbeat</strong>：轻量型审计日志采集器，可帮助你审核系统上用户和进程的活动</li>
</ul>
<p>这些工具可以通过 <code>yum</code> 软件包管理器使用它们各自的名称一起进行安装。下面的示例将安装所有ELK插件工具。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install filebeat auditbeat metricbeat packetbeat heartbeat-elastic</span><br></pre></td></tr></table></figure>

<p>有关每种工具的配置和进一步的阅读，请参考官方的 <a target="_blank" rel="noopener" href="https://www.elastic.co/guide/index.html" title="ELK Stack文档">ELK Stack 文档</a> 以及 <a target="_blank" rel="noopener" href="https://www.elastic.co/learn" title="资源和培训">资源和培训</a>。</p>
<p>更多指南：</p>
<p><a target="_blank" rel="noopener" href="https://computingforgeeks.com/manage-logs-with-graylog-server-on-ubuntu-18-04/" title="在Ubuntu上使用Elasticsearch 6安装Graylog 3">在 Ubuntu 上使用 Elasticsearch 6 安装 Graylog 3</a></p>
<p><a target="_blank" rel="noopener" href="https://computingforgeeks.com/how-to-install-graylog-on-centos-rhel/" title="在CentOS / RHEL 8上安装Graylog 3">在 CentOS &#x2F; RHEL 8 上安装 Graylog 3</a></p>
<p><a target="_blank" rel="noopener" href="https://computingforgeeks.com/how-to-install-elasticsearch-on-centos/" title="在CentOS 7上安装Elasticsearch 7">在 CentOS 7 上安装 Elasticsearch 7</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">翻译</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-目前为止全网最全的-SpringBoot-参数传递方案"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/12/07/%E7%9B%AE%E5%89%8D%E4%B8%BA%E6%AD%A2%E5%85%A8%E7%BD%91%E6%9C%80%E5%85%A8%E7%9A%84-SpringBoot-%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E6%96%B9%E6%A1%88/"
    >目前为止全网最全的 SpringBoot 参数传递方案</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/12/07/%E7%9B%AE%E5%89%8D%E4%B8%BA%E6%AD%A2%E5%85%A8%E7%BD%91%E6%9C%80%E5%85%A8%E7%9A%84-SpringBoot-%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E6%96%B9%E6%A1%88/" class="article-date">
  <time datetime="2019-12-07T06:12:54.000Z" itemprop="datePublished">2019-12-07</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文作者：<a target="_blank" rel="noopener" href="https://yq.aliyun.com/users/js22r6xxzrg3m">小柒2012</a></p>
<p>原文地址：<a target="_blank" rel="noopener" href="https://yq.aliyun.com/articles/723593?utm_content=g_1000083974">https://yq.aliyun.com/articles/723593?utm_content=g_1000083974</a></p>
<p>小结：</p>
<p>String username, String password</p>
<p>SysUser user</p>
<p>多参数无实体一：</p>
<p>@RequestBody Map&lt;String,Object&gt; map</p>
<p>多参数无实体二：</p>
<p>@RequestParam Map&lt;String,Object&gt; map</p>
<p>数组：</p>
<p>@RequestParam(value &#x3D; “ids[]”) Integer[] ids</p>
<p>集合：</p>
<p>@RequestParam(value &#x3D; “ids[]”) List<Integer> ids</p>
<p>集合实体对象：</p>
<p>@RequestBody List<SysUser> list</p>
<p>集合实体对象一对多：</p>
<p>@RequestBody List<SysUser> list</p>
<ul>
<li><p><code>@RequestBody </code>注解，必须与 <code>contentType</code> 类型<code>application/json</code>配合使用。</p>
</li>
<li><p><code>@RequestParam </code>注解，必须与 <code>contentType</code> 类型<code>application/x-www-form-urlencoded</code>配合使用，其为默认类型。</p>
</li>
<li><p><code>JSON.stringify()</code> 把对象类型转换为字符串类型，一般配合 <code>@RequestBody </code>注解和<code>contentType</code> 类型<code>application/json</code>使用。</p>
</li>
</ul>
</blockquote>
<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><p>开发这么多年，肯定还有不少小伙伴搞不清各种类型的参数是如何传递的，很多同学都是拿来即用，复制粘贴一把撸，遇到问题还是一脸懵逼。</p>
<h2 id="2-姿势"><a href="#2-姿势" class="headerlink" title="2. 姿势"></a>2. 姿势</h2><p>学习参数传递的正确姿势，先说怎么做，再说为什么，本质上还是复制粘贴一把撸，问题是你想问不想问为什么！</p>
<h2 id="3-传递"><a href="#3-传递" class="headerlink" title="3. 传递"></a>3. 传递</h2><h4 id="用户登录"><a href="#用户登录" class="headerlink" title="用户登录"></a>用户登录</h4><p>前端代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> param = &#123;</span><br><span class="line">    <span class="string">&quot;username&quot;</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;password&quot;</span>: <span class="string">&quot;admin&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/sys/login&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: param,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>后端代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/sys&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(LoginController.class);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 登录</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(String username, String password)</span>&#123;</span><br><span class="line">        logger.info(<span class="string">&quot;用户登录&quot;</span>+username);</span><br><span class="line">        <span class="comment">//业务逻辑</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(<span class="string">&quot;登录成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然，你也可以这么实现，<code>@RequestParam(value=&quot;username&quot;, required=true)</code> ，<code>required</code> 默认为 <code>true</code>，如果前台不传递此参数，后台会报错。如果设置为 <code>false</code>，如果不传，默认为 <code>null</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 登录</span></span><br><span class="line"><span class="comment">  * https://blog.52itstyle.vip</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(<span class="meta">@RequestParam(value=&quot;username&quot;, required=true)</span> String username,</span></span><br><span class="line"><span class="params">                    <span class="meta">@RequestParam(value=&quot;password&quot;, required=true)</span> String password)</span>&#123;</span><br><span class="line">    logger.info(<span class="string">&quot;用户登录&quot;</span>+username);</span><br><span class="line">    <span class="comment">//业务逻辑</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(<span class="string">&quot;登录成功&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="用户注册"><a href="#用户注册" class="headerlink" title="用户注册"></a>用户注册</h4><p>前端代码，提交方式与登录基本保持一致。</p>
<p>后端代码：</p>
<p>用一个对象来接收前台参数，一般后端有对应的实体类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 注册</span></span><br><span class="line"><span class="comment">  * https://blog.52itstyle.vip</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/register&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">register</span><span class="params">(SysUser user)</span>&#123;</span><br><span class="line">    logger.info(<span class="string">&quot;&#123;&#125;，用户注册&quot;</span>,user.getUsername());</span><br><span class="line">    <span class="comment">//业务逻辑</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(<span class="string">&quot;注册成功&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="多参数无实体一"><a href="#多参数无实体一" class="headerlink" title="多参数无实体一"></a>多参数无实体一</h4><p>前端代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> param = &#123;</span><br><span class="line">    <span class="string">&quot;title&quot;</span>: <span class="string">&quot;爪哇笔记&quot;</span>,</span><br><span class="line">    <span class="string">&quot;content&quot;</span>: <span class="string">&quot;一个有趣的公众号&quot;</span>,</span><br><span class="line">    <span class="string">&quot;author&quot;</span>: <span class="string">&quot;小柒2012&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">param = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(param);</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/sys/multiParameter&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: param,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">contentType</span>: <span class="string">&quot;application/json&quot;</span>,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>后端实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 多参数</span></span><br><span class="line"><span class="comment">  * https://blog.52itstyle.vip</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/multiParameter&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">register</span><span class="params">(<span class="meta">@RequestBody</span> Map&lt;String,Object&gt; map)</span>&#123;</span><br><span class="line">    logger.info(<span class="string">&quot;多参数传递:&#123;&#125;,&#123;&#125;&quot;</span>,map.get(<span class="string">&quot;title&quot;</span>),map.get(<span class="string">&quot;content&quot;</span>));</span><br><span class="line">    <span class="comment">//业务逻辑</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(<span class="string">&quot;接收多参数成功&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="多参数无实体二"><a href="#多参数无实体二" class="headerlink" title="多参数无实体二"></a>多参数无实体二</h4><p>前端代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> param = &#123;</span><br><span class="line">    <span class="string">&quot;title&quot;</span>: <span class="string">&quot;爪哇笔记&quot;</span>,</span><br><span class="line">    <span class="string">&quot;content&quot;</span>: <span class="string">&quot;一个有趣的公众号&quot;</span>,</span><br><span class="line">    <span class="string">&quot;author&quot;</span>: <span class="string">&quot;小柒2012&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/sys/multiParameter&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: param,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>后端实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 多参数</span></span><br><span class="line"><span class="comment">  * https://blog.52itstyle.vip</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/multiParameter&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">register</span><span class="params">(<span class="meta">@RequestParam</span> Map&lt;String,Object&gt; map)</span>&#123;</span><br><span class="line">    logger.info(<span class="string">&quot;多参数传递:&#123;&#125;,&#123;&#125;&quot;</span>,map.get(<span class="string">&quot;title&quot;</span>),map.get(<span class="string">&quot;content&quot;</span>));</span><br><span class="line">    <span class="comment">//业务逻辑</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(<span class="string">&quot;接收多参数成功&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="传递数组"><a href="#传递数组" class="headerlink" title="传递数组"></a>传递数组</h4><p>前端代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> param = &#123;</span><br><span class="line">    <span class="string">&quot;ids&quot;</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&#125;</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/sys/array&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: param,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>后端实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 数组</span></span><br><span class="line"><span class="comment">  * https://blog.52itstyle.vip</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;array&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">array</span><span class="params">(<span class="meta">@RequestParam(value = &quot;ids[]&quot;)</span> Integer[] ids)</span> &#123;</span><br><span class="line">    logger.info(<span class="string">&quot;数据&#123;&#125;&quot;</span>, Arrays.asList(ids));</span><br><span class="line">    <span class="comment">//业务逻辑</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="传递集合"><a href="#传递集合" class="headerlink" title="传递集合"></a>传递集合</h4><p>前端代码与传递数组保持一致。</p>
<p>后端实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 集合</span></span><br><span class="line"><span class="comment">  * https://blog.52itstyle.vip</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;array&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">array</span><span class="params">(<span class="meta">@RequestParam(value = &quot;ids[]&quot;)</span> List&lt;Integer&gt; ids)</span> &#123;</span><br><span class="line">    logger.info(<span class="string">&quot;数据&#123;&#125;&quot;</span>, ids.toString());</span><br><span class="line">    <span class="comment">//业务逻辑</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="传递集合实体对象"><a href="#传递集合实体对象" class="headerlink" title="传递集合实体对象"></a>传递集合实体对象</h4><p>比如，后端想接收一个实体对象集合 <code>List</code></p>
<p>前端代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [];</span><br><span class="line">list.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="string">&quot;username&quot;</span>: <span class="string">&quot;小柒2012&quot;</span>,</span><br><span class="line">    <span class="string">&quot;mobile&quot;</span>: <span class="string">&quot;17762288888&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line">list.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="string">&quot;username&quot;</span>: <span class="string">&quot;小柒2013&quot;</span>,</span><br><span class="line">    <span class="string">&quot;mobile&quot;</span>: <span class="string">&quot;17762289999&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/sys/listUser&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(list),</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">contentType</span>: <span class="string">&quot;application/json&quot;</span>,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>后端代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 爪哇笔记</span></span><br><span class="line"><span class="comment">  * https://blog.52itstyle.vip</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;listUser&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">listUser</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;SysUser&gt; list)</span> &#123;</span><br><span class="line">   logger.info(<span class="string">&quot;数据&#123;&#125;&quot;</span>, list.size());</span><br><span class="line">   list.forEach(user-&gt;&#123;</span><br><span class="line">      <span class="comment">//输出实体对象</span></span><br><span class="line">      System.out.println(user.getUsername());</span><br><span class="line">   &#125;);</span><br><span class="line">   <span class="comment">//业务逻辑</span></span><br><span class="line">   <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="传递集合实体对象一对多"><a href="#传递集合实体对象一对多" class="headerlink" title="传递集合实体对象一对多"></a>传递集合实体对象一对多</h4><p>比如，一个用户有多个角色 <code>List roleList</code></p>
<p>前端代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> roleList = [];</span><br><span class="line">roleList.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="string">&quot;roleSign&quot;</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;roleName&quot;</span>: <span class="string">&quot;管理员&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line">roleList.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="string">&quot;roleSign&quot;</span>: <span class="string">&quot;user&quot;</span>,</span><br><span class="line">    <span class="string">&quot;roleName&quot;</span>: <span class="string">&quot;普通用户&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> list = [];</span><br><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line">    <span class="string">&quot;username&quot;</span>: <span class="string">&quot;小柒2012&quot;</span>,</span><br><span class="line">    <span class="string">&quot;mobile&quot;</span>: <span class="string">&quot;17762288888&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line">user.<span class="property">roleList</span> = roleList;</span><br><span class="line">list.<span class="title function_">push</span>(user);</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/sys/listUserRole&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(list),</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">contentType</span>: <span class="string">&quot;application/json&quot;</span>,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>后端实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 爪哇笔记</span></span><br><span class="line"><span class="comment">  * https://blog.52itstyle.vip</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;listUserRole&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">listUserRole</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;SysUser&gt; list)</span> &#123;</span><br><span class="line">    logger.info(<span class="string">&quot;数据&#123;&#125;&quot;</span>, list.size());</span><br><span class="line">    list.forEach(user-&gt;&#123;</span><br><span class="line">        List&lt;SysRole&gt; roleList = user.getRoleList();</span><br><span class="line">        roleList.forEach(role-&gt;&#123;</span><br><span class="line">          System.out.println(role.getRoleName());</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="炒鸡复杂"><a href="#炒鸡复杂" class="headerlink" title="炒鸡复杂"></a>炒鸡复杂</h4><p>传输对象有实体，有集合，有各种类型的数据，这时候最简单的方式就是传递 <code>Key-Value</code> 结构的 <code>JSON</code> 字符串，后台 <code>Map</code> 类型接收，然后通过<code>FastJson</code>的 <code>JSON.parseObject()</code> 和 <code>JSON.parseArray()</code> 方法转化为对应的实体或者集合。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> parseMap.get(<span class="string">&quot;user&quot;</span>).toString();</span><br><span class="line"><span class="type">SysUser</span> <span class="variable">sysUser</span> <span class="operator">=</span> JSON.parseObject(user,SysUser.class);</span><br><span class="line"><span class="type">String</span> <span class="variable">contractClause</span> <span class="operator">=</span> parseMap.get(<span class="string">&quot;rules&quot;</span>).toString();</span><br><span class="line">List&lt;Rule&gt; ruleList = JSON.parseArray(contractClause,Rule.class);</span><br></pre></td></tr></table></figure>

<h4 id="RESTful-风格"><a href="#RESTful-风格" class="headerlink" title="RESTful 风格"></a>RESTful 风格</h4><p>比如，访问某篇文章：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 爪哇笔记</span></span><br><span class="line"><span class="comment">  * https://blog.52itstyle.vip</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;article/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">article</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> String id)</span> &#123;</span><br><span class="line">    logger.info(<span class="string">&quot;文章&#123;&#125;&quot;</span>,id);</span><br><span class="line">    <span class="comment">//业务逻辑</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-原则"><a href="#4-原则" class="headerlink" title="4. 原则"></a>4. 原则</h2><p>记住以下几点：</p>
<ul>
<li><code>@RequestBody </code>注解，必须与 <code>contentType</code> 类型<code>application/json</code>配合使用。</li>
<li><code>@RequestParam </code>注解，必须与 <code>contentType</code> 类型<code>application/x-www-form-urlencoded</code>配合使用，其为默认类型。</li>
<li><code>JSON.stringify()</code> 把对象类型转换为字符串类型，一般配合 <code>@RequestBody </code>注解和<code>contentType</code> 类型<code>application/json</code>使用。</li>
</ul>
<h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><p>在以上只涉及了两种 <code>contentType</code> 类型，其实还有两种常见的类型：</p>
<h4 id="multipart-form-data"><a href="#multipart-form-data" class="headerlink" title="multipart/form-data"></a><code>multipart/form-data</code></h4><p>一般用于表单文件上传，必须让 form 的 enctype 等于这个值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; name=&quot;description&quot; value=&quot;爪哇笔记，一个神奇的公众号&quot;&gt;</span><br><span class="line">  &lt;input type=&quot;file&quot; name=&quot;myFile&quot;&gt;</span><br><span class="line">  &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<h4 id="text-xml"><a href="#text-xml" class="headerlink" title="text/xml"></a><code>text/xml</code></h4><p>做过微信支付的小伙伴一定会知道，微信就喜欢用这种方式，去年还发生过 <code>XXE</code> 漏洞，在解析XML文档时，解析器通过 ENTITY 扩展的功能，读取本地受保护的文件，并且使用扩展功能将受保护的文件发送到远程地址。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>不敢说是最完整的传参方案，但绝对敢保证是最正确的，因为所有的传参方式都经过 360° 官方检验。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag">转载</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/7/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2023
        <i class="ri-heart-fill heart_icon"></i> 高行行
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="高行行的个人博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://gaohanghang.lofter.com">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/twitter">Twitter</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://weibo.com/u/5125203090">微博</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>