<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="个人公众号《骇客与画家》" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 高行行的个人博客</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/Shen-Yu/hexo-theme-ayer"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">高行行的个人博客</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '科技需要人文的浇灌', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  <ul class="ads">
    
        <li>
            <a target="_blank" rel="noopener" href="https://curl.qcloud.com/kvO7hb43">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5ccc.jpg" width="300" alt="云服务器限时秒杀">
            </a>
        </li>
    
        <li>
            <a target="_blank" rel="noopener" href="https://www.vultr.com/?ref=8630075">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5cd7.png" width="300" alt="vultr优惠vps">
            </a>
        </li>
    
</ul>
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-程序员通用简写表"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/11/%E7%A8%8B%E5%BA%8F%E5%91%98%E9%80%9A%E7%94%A8%E7%AE%80%E5%86%99%E8%A1%A8/"
    >程序员通用简写表</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/11/%E7%A8%8B%E5%BA%8F%E5%91%98%E9%80%9A%E7%94%A8%E7%AE%80%E5%86%99%E8%A1%A8/" class="article-date">
  <time datetime="2019-06-11T13:25:02.000Z" itemprop="datePublished">2019-06-11</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p> 本文来源于：<a target="_blank" rel="noopener" href="http://blog.csdn.net/guoxiaoqian8028/article/details/8565889">http://blog.csdn.net/guoxiaoqian8028/article/details/8565889</a></p>
</blockquote>
<p>说明：</p>
<p>1、本缩写表是《编码命名规范》的附录。</p>
<p>2、本缩写表中列出的都是通用性缩写，不提供标准缩写，如：Win9x、COM 等。</p>
<p>3、使用本缩写表里的缩写时，请对其进行必要的注释说明。</p>
<p>4、除少数情况以外，大部分缩写与大小写无关。</p>
<p>通 用 缩 写 表</p>
<table>
<thead>
<tr>
<th>缩 写</th>
<th>全 称</th>
</tr>
</thead>
<tbody><tr>
<td>addr</td>
<td>Address</td>
</tr>
<tr>
<td>adm</td>
<td>Administrator</td>
</tr>
<tr>
<td>app</td>
<td>Application</td>
</tr>
<tr>
<td>arg</td>
<td>Argument</td>
</tr>
<tr>
<td>asm</td>
<td>assemble</td>
</tr>
<tr>
<td>asyn</td>
<td>asynchronization</td>
</tr>
<tr>
<td>avg</td>
<td>average</td>
</tr>
<tr>
<td>DB</td>
<td>Database</td>
</tr>
<tr>
<td>bk</td>
<td>back</td>
</tr>
<tr>
<td>bmp</td>
<td>Bitmap</td>
</tr>
<tr>
<td>btn</td>
<td>Button</td>
</tr>
<tr>
<td>buf</td>
<td>Buffer</td>
</tr>
<tr>
<td>calc</td>
<td>Calculate</td>
</tr>
<tr>
<td>char</td>
<td>Character</td>
</tr>
<tr>
<td>chg</td>
<td>Change</td>
</tr>
<tr>
<td>clk</td>
<td>Click</td>
</tr>
<tr>
<td>clr</td>
<td>color</td>
</tr>
<tr>
<td>cmd</td>
<td>Command</td>
</tr>
<tr>
<td>cmp</td>
<td>Compare</td>
</tr>
<tr>
<td>col</td>
<td>Column</td>
</tr>
<tr>
<td>coord</td>
<td>coordinates</td>
</tr>
<tr>
<td>cpy</td>
<td>copy</td>
</tr>
<tr>
<td>ctl &#x2F; ctrl</td>
<td>Control</td>
</tr>
<tr>
<td>cur</td>
<td>Current</td>
</tr>
<tr>
<td>cyl</td>
<td>Cylinder</td>
</tr>
<tr>
<td>dbg</td>
<td>Debug</td>
</tr>
<tr>
<td>dbl</td>
<td>Double</td>
</tr>
<tr>
<td>dec</td>
<td>Decrease</td>
</tr>
<tr>
<td>def</td>
<td>default</td>
</tr>
<tr>
<td>del</td>
<td>Delete</td>
</tr>
<tr>
<td>dest &#x2F; dst</td>
<td>Destination</td>
</tr>
<tr>
<td>dev</td>
<td>Device</td>
</tr>
<tr>
<td>dict</td>
<td>dictionary</td>
</tr>
<tr>
<td>diff</td>
<td>different</td>
</tr>
<tr>
<td>dir</td>
<td>directory</td>
</tr>
<tr>
<td>disp</td>
<td>Display</td>
</tr>
<tr>
<td>div</td>
<td>Divide</td>
</tr>
<tr>
<td>缩 写</td>
<td>全 称</td>
</tr>
<tr>
<td>dlg</td>
<td>Dialog</td>
</tr>
<tr>
<td>doc</td>
<td>Document</td>
</tr>
<tr>
<td>drv</td>
<td>Driver</td>
</tr>
<tr>
<td>dyna</td>
<td>Dynamic</td>
</tr>
<tr>
<td>env</td>
<td>Environment</td>
</tr>
<tr>
<td>err</td>
<td>error</td>
</tr>
<tr>
<td>ex&#x2F;ext</td>
<td>Extend</td>
</tr>
<tr>
<td>exec</td>
<td>execute</td>
</tr>
<tr>
<td>flg</td>
<td>flag</td>
</tr>
<tr>
<td>frm</td>
<td>Frame</td>
</tr>
<tr>
<td>func &#x2F; fn</td>
<td>Function</td>
</tr>
<tr>
<td>grp</td>
<td>group</td>
</tr>
<tr>
<td>horz</td>
<td>Horizontal</td>
</tr>
<tr>
<td>idx &#x2F; ndx</td>
<td>Index</td>
</tr>
<tr>
<td>img</td>
<td>Image</td>
</tr>
<tr>
<td>impl</td>
<td>Implement</td>
</tr>
<tr>
<td>inc</td>
<td>Increase</td>
</tr>
<tr>
<td>info</td>
<td>Information</td>
</tr>
<tr>
<td>init</td>
<td>Initial&#x2F;Initialize&#x2F;Initialization</td>
</tr>
<tr>
<td>ins</td>
<td>Insert</td>
</tr>
<tr>
<td>inst</td>
<td>Instance</td>
</tr>
<tr>
<td>INT &#x2F; intr</td>
<td>Interrupt</td>
</tr>
<tr>
<td>len</td>
<td>Length</td>
</tr>
<tr>
<td>lib</td>
<td>Library</td>
</tr>
<tr>
<td>lnk</td>
<td>Link</td>
</tr>
<tr>
<td>log</td>
<td>logical</td>
</tr>
<tr>
<td>lst</td>
<td>List</td>
</tr>
<tr>
<td>max</td>
<td>maximum</td>
</tr>
<tr>
<td>mem</td>
<td>Memory</td>
</tr>
<tr>
<td>mgr &#x2F; man</td>
<td>Manage &#x2F; Manager</td>
</tr>
<tr>
<td>mid</td>
<td>middle</td>
</tr>
<tr>
<td>min</td>
<td>minimum</td>
</tr>
<tr>
<td>msg</td>
<td>Message</td>
</tr>
<tr>
<td>mul</td>
<td>Multiply</td>
</tr>
<tr>
<td>num</td>
<td>Number</td>
</tr>
<tr>
<td>obj</td>
<td>Object</td>
</tr>
<tr>
<td>ofs</td>
<td>Offset</td>
</tr>
<tr>
<td>org</td>
<td>Origin &#x2F; Original</td>
</tr>
<tr>
<td>param</td>
<td>Parameter</td>
</tr>
<tr>
<td>pic</td>
<td>picture</td>
</tr>
<tr>
<td>pkg</td>
<td>package</td>
</tr>
<tr>
<td>pnt &#x2F; pt</td>
<td>Point</td>
</tr>
<tr>
<td>pos</td>
<td>Position</td>
</tr>
<tr>
<td>pre &#x2F; prev</td>
<td>previous</td>
</tr>
<tr>
<td>缩 写</td>
<td>全 称</td>
</tr>
<tr>
<td>prg</td>
<td>program</td>
</tr>
<tr>
<td>prn</td>
<td>Print</td>
</tr>
<tr>
<td>proc</td>
<td>Process &#x2F; Procedure</td>
</tr>
<tr>
<td>prop</td>
<td>Properties</td>
</tr>
<tr>
<td>psw</td>
<td>Password</td>
</tr>
<tr>
<td>ptr</td>
<td>Pointer</td>
</tr>
<tr>
<td>pub</td>
<td>Public</td>
</tr>
<tr>
<td>rc</td>
<td>rect</td>
</tr>
<tr>
<td>ref</td>
<td>Reference</td>
</tr>
<tr>
<td>reg</td>
<td>Register</td>
</tr>
<tr>
<td>req</td>
<td>request</td>
</tr>
<tr>
<td>res</td>
<td>Resource</td>
</tr>
<tr>
<td>ret</td>
<td>return</td>
</tr>
<tr>
<td>rgn</td>
<td>region</td>
</tr>
<tr>
<td>scr</td>
<td>screen</td>
</tr>
<tr>
<td>sec</td>
<td>Second</td>
</tr>
<tr>
<td>seg</td>
<td>Segment</td>
</tr>
<tr>
<td>sel</td>
<td>Select</td>
</tr>
<tr>
<td>src</td>
<td>Source</td>
</tr>
<tr>
<td>std</td>
<td>Standard</td>
</tr>
<tr>
<td>stg</td>
<td>Storage</td>
</tr>
<tr>
<td>stm</td>
<td>Stream</td>
</tr>
<tr>
<td>str</td>
<td>String</td>
</tr>
<tr>
<td>sub</td>
<td>Subtract</td>
</tr>
<tr>
<td>sum</td>
<td>summation</td>
</tr>
<tr>
<td>svr</td>
<td>Server</td>
</tr>
<tr>
<td>sync</td>
<td>Synchronization</td>
</tr>
<tr>
<td>sys</td>
<td>System</td>
</tr>
<tr>
<td>tbl</td>
<td>Table</td>
</tr>
<tr>
<td>temp &#x2F; tmp</td>
<td>Temporary</td>
</tr>
<tr>
<td>tran &#x2F; trans</td>
<td>translate&#x2F;transation&#x2F;transparent</td>
</tr>
<tr>
<td>tst</td>
<td>Test</td>
</tr>
<tr>
<td>txt</td>
<td>text</td>
</tr>
<tr>
<td>unk</td>
<td>Unknown</td>
</tr>
<tr>
<td>upd</td>
<td>Update</td>
</tr>
<tr>
<td>upg</td>
<td>Upgrade</td>
</tr>
<tr>
<td>util</td>
<td>Utility</td>
</tr>
<tr>
<td>var</td>
<td>Variable</td>
</tr>
<tr>
<td>ver</td>
<td>Version</td>
</tr>
<tr>
<td>vert</td>
<td>Vertical</td>
</tr>
<tr>
<td>vir</td>
<td>Virus</td>
</tr>
<tr>
<td>wnd</td>
<td>Window</td>
</tr>
</tbody></table>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Restful-Api写法心得之三《返回值篇》"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/09/Restful-Api%E5%86%99%E6%B3%95%E5%BF%83%E5%BE%97%E4%B9%8B%E4%B8%89%E3%80%8A%E8%BF%94%E5%9B%9E%E5%80%BC%E7%AF%87%E3%80%8B/"
    >Restful Api写法心得之三《返回值篇》</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/09/Restful-Api%E5%86%99%E6%B3%95%E5%BF%83%E5%BE%97%E4%B9%8B%E4%B8%89%E3%80%8A%E8%BF%94%E5%9B%9E%E5%80%BC%E7%AF%87%E3%80%8B/" class="article-date">
  <time datetime="2019-06-09T13:40:23.000Z" itemprop="datePublished">2019-06-09</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>这是关于api基础写法的第三篇文章了，这里给下前两篇连接<br>《路径定义篇》 《参数接收篇》 ，对于本篇文章我们主要说下接口的数据返回值的问题。</p>
<h2 id="格式选择"><a href="#格式选择" class="headerlink" title="格式选择"></a>格式选择</h2><p>返回格式目前主流的应该只有XML、JSON两种吧，这里我们不做对比，我们使用JSON作为接口的返回格式。</p>
<h2 id="数据返回格式"><a href="#数据返回格式" class="headerlink" title="数据返回格式"></a>数据返回格式</h2><p>数据的返回格式其实是个比较纠结的问题，在restful风格中很多文章都讲解使用的是http状态码控制请求的结果状态，例如：http状态码为200~300的时候，为正常状态，response响应体即为所需要返回的数据，404时代表没有查询到数据，响应体即为空，500为系统错误，响应体也为空等等，但是这种方式也是存在很大问题的，一是http状态码是有限的，而且每个状态码都已经被赋予特殊的含义，在企业开发中当接口遇到错误的时候，我们可能更希望将结果状态码标记的更为详细，更利于前端开发者使用，毕竟写接口的目的也是方便前端使用，这样也可以降低前后端开发人员沟通成本。 </p>
<p>下面给出我们在实际开发中使用的返回值统一格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhuma.demo.comm.result;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> com.zhuma.demo.comm.enums.ResultCode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zhumaer on 17/5/24.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> -<span class="number">3948389268046368059L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Result</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Result</span><span class="params">(Integer code, String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Result</span>();</span><br><span class="line">        result.setResultCode(ResultCode.SUCCESS);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">(Object data)</span> &#123;</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Result</span>();</span><br><span class="line">        result.setResultCode(ResultCode.SUCCESS);</span><br><span class="line">        result.setData(data);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">failure</span><span class="params">(ResultCode resultCode)</span> &#123;</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Result</span>();</span><br><span class="line">        result.setResultCode(resultCode);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">failure</span><span class="params">(ResultCode resultCode, Object data)</span> &#123;</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Result</span>();</span><br><span class="line">        result.setResultCode(resultCode);</span><br><span class="line">        result.setData(data);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setResultCode</span><span class="params">(ResultCode code)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code.code();</span><br><span class="line">        <span class="built_in">this</span>.msg = code.message();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>备注</p>
<ul>
<li>上面代码我们注意到其中引入了一个ResultCode枚举类，该类也是我们后面紧接着要说的，全局统一返回状态码。</li>
<li>这里说明下字段data不是在code&#x3D;1为成功的时候才会有值哦，比如当code为参数无效错误时，data可以放入更详细的错误描述，用于指明具体是哪个参数为什么导致的无效的。</li>
</ul> 
      <a class="article-more-link" href="/2019/06/09/Restful-Api%E5%86%99%E6%B3%95%E5%BF%83%E5%BE%97%E4%B9%8B%E4%B8%89%E3%80%8A%E8%BF%94%E5%9B%9E%E5%80%BC%E7%AF%87%E3%80%8B/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/restful/" rel="tag">restful</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-如何快速制作出漂亮的截图"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/09/%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9C%E5%87%BA%E6%BC%82%E4%BA%AE%E7%9A%84%E6%88%AA%E5%9B%BE/"
    >如何快速制作出漂亮的截图</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/09/%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9C%E5%87%BA%E6%BC%82%E4%BA%AE%E7%9A%84%E6%88%AA%E5%9B%BE/" class="article-date">
  <time datetime="2019-06-09T07:58:46.000Z" itemprop="datePublished">2019-06-09</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址 : <a target="_blank" rel="noopener" href="https://www.banpie.info/make-beautifully-screenshot/">如何快速制作出漂亮的截图</a></p>
</blockquote>
<p>对于新媒体营销者来说，如果你服务的企业是互联网企业，或者说用户需要在通过电脑来购买或者使用你的服务，那么在文章中通过截图来指导，是一件非常常见的事情。</p>
<p>可能你经常看到公众号的文章中看到过，类似这样的手机演示截图：</p>
<p><img src="http://www.banpie.info/wp-content/uploads/2019/04/20190402225430-2.png" alt="img"></p>
<p>或者是这样电脑端的浏览器截图：</p>
<p><img src="http://www.banpie.info/wp-content/uploads/2019/04/20190402222332-3.png" alt="img"></p>
<p>可能你会想，做出这样的截图应该是挺复杂的吧？得先截图后，在找到浏览器或者 iPhone 手机的素材，然后再在 Photoshop 之类的软件中设计……</p>
<p>但反你认为麻烦的时候，你都应该要想一想：是不是有工具直接能一键完成。</p>
<p>顺着这个思路，我还是上了 <a target="_blank" rel="noopener" href="https://www.producthunt.com/#">Product Hunt – The best new products in tech.</a>，利用「 Screenshot 」找到了<a target="_blank" rel="noopener" href="https://www.screely.com/">Screely – Generate Beautiful Mockups</a>，可以通过 Chrome 浏览器的方式，点击插件按钮，直接一键生成电脑端操作截图。</p>
<p><img src="http://www.banpie.info/wp-content/uploads/2019/04/1552223236739-b16e9b6a-3041-4073-94a3-66af6a321555-3.png" alt="image.png"></p>
<p>同样，对于移动端的截图，你可以使用 <a target="_blank" rel="noopener" href="https://www.kapwing.com/mobile-mock">Mobile Mockup – Kapwing</a> 一键生成手机端操作截图。</p>
<p><img src="http://www.banpie.info/wp-content/uploads/2019/04/1552223512303-465c7f88-e518-4742-9d1e-b7358feb93ee-3.png" alt="image.png"></p>
<p>当然，如果你想要更高级的自定义移动端的设备类型，比如iPhone X 系列的「留海」等等，你可以同样搜索到非常多类似的工具，如果你有好的推荐，也欢迎你留言告诉我。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Restful-Api写法心得之二《参数接收篇》"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/09/Restful-Api%E5%86%99%E6%B3%95%E5%BF%83%E5%BE%97%E4%B9%8B%E4%BA%8C%E3%80%8A%E5%8F%82%E6%95%B0%E6%8E%A5%E6%94%B6%E7%AF%87%E3%80%8B/"
    >Restful Api写法心得之二《参数接收篇》</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/09/Restful-Api%E5%86%99%E6%B3%95%E5%BF%83%E5%BE%97%E4%B9%8B%E4%BA%8C%E3%80%8A%E5%8F%82%E6%95%B0%E6%8E%A5%E6%94%B6%E7%AF%87%E3%80%8B/" class="article-date">
  <time datetime="2019-06-09T06:42:41.000Z" itemprop="datePublished">2019-06-09</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址：<a target="_blank" rel="noopener" href="https://blog.csdn.net/aiyaya_/article/details/78208528">Restful Api写法心得之二《参数接收篇》</a></p>
<p>原文作者：<a target="_blank" rel="noopener" href="https://blog.csdn.net/aiyaya_">筑码-井哥</a></p>
</blockquote>
<p>本篇文章主要说下接口的数据参数到底该如何接收，我们知道一个http请求最重要的意义就是将数据在服务器上进行传入与传出，本章主要讲的也就是传入。一次请求传递参数的方式主要有 URL路径中、请求头中、请求体中还有通过cookie等，下面我们分别对几种方式进行讲解。</p>
<h2 id="MediaType的选择"><a href="#MediaType的选择" class="headerlink" title="MediaType的选择"></a>MediaType的选择</h2><p>MediaType即是Internet Media Type，互联网媒体类型；也叫做MIME类型，在Http协议消息头中，使用Content-Type来表示具体请求中的媒体类型信息。</p>
<ul>
<li>对于POST、PUT、PATCH这种HTTP方法，统一使用 application&#x2F;json，将参数放在请求体中以JSON格式传递至服务器</li>
<li>对于GET、DELETE的HTTP方法，使用默认类型（application&#x2F;x-www-form-urlencoded）</li>
</ul>
<p>★<strong>备注</strong> </p>
<p>特殊情况特殊考虑，例如进行文件上传时，使用 multipart&#x2F;form-data类型等</p>
<h2 id="路径参数"><a href="#路径参数" class="headerlink" title="路径参数"></a>路径参数</h2><p>对应spring mvc框架中@PathVariable注解</p>
<p><strong>★备注</strong> </p>
<p>这里有个注意的点，当路径参数值中有带点”.”的情况时，spring mvc框架中有对点做特殊处理，这导致在程序中只能接收到点之前的内容，例如你的请求是：GET <a target="_blank" rel="noopener" href="https://api.zhuma.com/users/hehe.haha%EF%BC%8C%E5%90%8E%E7%AB%AF%E5%9C%A8%E6%8E%A5%E6%94%B6userId=%E2%80%99hehe.haha%E2%80%99%E6%97%B6%EF%BC%8C%E5%8F%AA%E4%BC%9A%E6%8E%A5%E6%94%B6%E5%88%B0hehe%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E5%90%8E%E9%9D%A2%E7%9A%84%E9%83%A8%E5%88%86%EF%BC%88.haha%EF%BC%89%E8%A2%AB%E8%88%8D%E5%BC%83%E6%8E%89%E4%BA%86%E3%80%82">https://api.zhuma.com/users/hehe.haha，后端在接收userId=’hehe.haha’时，只会接收到hehe字符串，后面的部分（.haha）被舍弃掉了。</a></p>
<p>解决方式是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhuma.demo.analyst.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.PathMatchConfigurer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MvcConfig</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurerAdapter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configurePathMatch</span><span class="params">(PathMatchConfigurer configurer)</span> &#123;</span><br><span class="line">        configurer.setUseSuffixPatternMatch(<span class="literal">false</span>);<span class="comment">//可以让URL路径中带小数点 &#x27;.&#x27; 后面的值不被忽略 </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="请求头参数"><a href="#请求头参数" class="headerlink" title="请求头参数"></a>请求头参数</h2><p>对应spring mvc框架中@RequestHeader注解</p>
<p>对于提供给APP（android、ios、pc） 的接口我们可能需要关注一些调用信息，例如 用户登录信息、调用来源、app版本号、api的版本号、安全验证信息 等等，我们将这些信息放入头信息（HTTP HEAD中），下面给出在参数命名的例子：</p>
<ul>
<li>X-Token 用户的登录token（用于兑换用户登录信息）</li>
<li>Api-Version api的版本号</li>
<li>App-Version app版本号</li>
<li>Call-Source 调用来源(IOS、ANDROID、PC、WECHAT、WEB)</li>
<li>Authorization 安全校验参数（后面会有文章详细介绍该如何做安全校验）<br>这时你可能会思考一下几个问题：</li>
</ul>
<ol>
<li><p>为什么需要收集 api版本号、app版本号、调用来源这些信息呢？<br>这里解释下，主要有几个原因： </p>
<p>①. 方便线上环境定位问题，这也是一个重要的原因（我们后面会讲通过切面全局打印非GET请求的接口调用日志）。</p>
<p>②. 我们可以通过这些参数信息处理我们的业务逻辑，而没有必要在用到的时候我们才想起来让调用者将信息传递过来，导致同一功能性的参数，参数名和参数值不统一的情况发生。</p>
</li>
<li><p>是每个接口都要这些参数么？<br>是的，建议将所有的接口都传递上述参数信息。</p>
</li>
<li><p>怎么做这些参数的校验呢？</p>
<p>你可以写个拦截器，统一校验你的接口中全局的header参数，如果还是不太会写，可以参考这篇文章<a target="_blank" rel="noopener" href="http://blog.csdn.net/aiyaya_/article/details/78314783">《统一参数校验》</a></p>
</li>
</ol> 
      <a class="article-more-link" href="/2019/06/09/Restful-Api%E5%86%99%E6%B3%95%E5%BF%83%E5%BE%97%E4%B9%8B%E4%BA%8C%E3%80%8A%E5%8F%82%E6%95%B0%E6%8E%A5%E6%94%B6%E7%AF%87%E3%80%8B/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/restful/" rel="tag">restful</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Restful-Api写法心得之一《路径定义篇》"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/09/Restful-Api%E5%86%99%E6%B3%95%E5%BF%83%E5%BE%97%E4%B9%8B%E4%B8%80%E3%80%8A%E8%B7%AF%E5%BE%84%E5%AE%9A%E4%B9%89%E7%AF%87%E3%80%8B/"
    >Restful Api写法心得之一《路径定义篇》</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/09/Restful-Api%E5%86%99%E6%B3%95%E5%BF%83%E5%BE%97%E4%B9%8B%E4%B8%80%E3%80%8A%E8%B7%AF%E5%BE%84%E5%AE%9A%E4%B9%89%E7%AF%87%E3%80%8B/" class="article-date">
  <time datetime="2019-06-09T06:20:28.000Z" itemprop="datePublished">2019-06-09</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址 : <a target="_blank" rel="noopener" href="https://blog.csdn.net/aiyaya_/article/details/78208420">Restful Api写法心得之一《路径定义篇》</a></p>
<p>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/aiyaya_">筑码-井哥</a></p>
</blockquote>
<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><p>目前网站上已经有很多关于如何去写restful风格的api的文章，主要说明下我接下来写的关于api写法的连载文章的目的，一个是主要把自己在这方面的心得分享给大家，二是希望大家也能给出更好的意见、建议，欢迎在看文章后讨论。</p>
<p>本篇文章主要说下接口路径该怎么定义，一个URL地址的可读性对于调用者和维护者都是很重要的，当你规划好URL该怎么定义后，这也决定了java项目中你的controller类的划分，我们知道一个HTTP接口通常主要结构为： 协议:&#x2F;&#x2F;域名&#x2F;应用content path&#x2F;自定义路径?查询参数，例如：<a target="_blank" rel="noopener" href="https://api.zhuma.com/zm-back/users?pageSize=10&pageNum=1">https://api.zhuma.com/zm-back/users?pageSize=10&amp;pageNum=1</a> 代表筑码网后台管理用户功能的API。</p>
<p>那我们到底该怎么定义我们的API URL会更好一些呢？下面给出几点建议。</p>
<h2 id="2-域名的利用"><a href="#2-域名的利用" class="headerlink" title="2. 域名的利用"></a>2. 域名的利用</h2><p>若域名无法区分出是api还是页面功能的时候，api路径后面统一加&#x2F;api用于区分是接口服务。</p>
<ol>
<li><p><a target="_blank" rel="noopener" href="https://back.zhuma.com/api/login">https://back.zhuma.com/api/login</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://api-back.zhuma.com/login">https://api-back.zhuma.com/login</a></p>
</li>
</ol>
<p>上面举例中back代表着后台管理的意思，所以想要进入后台管理页面路径应该为：<a target="_blank" rel="noopener" href="https://back.zhuma.com/">https://back.zhuma.com</a> 前台当然要留给<a target="_blank" rel="noopener" href="https://www.zhuma.com,在域名使用中我们可以利用三级域名对我们整体系统大的功能或应用进行很好的划分,正是因此,我们看到举例中路径上并没有加上应用的content/">https://www.zhuma.com，在域名使用中我们可以利用三级域名对我们整体系统大的功能或应用进行很好的划分，正是因此，我们看到举例中路径上并没有加上应用的content</a> path。</p>
<p><strong>★ 备注</strong></p>
<p>建议通过域名去区分api，也就是举例中2的方式</p>
<p>在开发中对于多环境开发我们也可以通过域名来区分，例如：</p>
<p><a target="_blank" rel="noopener" href="https://fe-api-back.zhuma.com/">https://fe-api-back.zhuma.com</a> 为联调环境，</p>
<p><a target="_blank" rel="noopener" href="https://qa-api-back.zhuma.com为qa测试环境,/">https://qa-api-back.zhuma.com为QA测试环境，</a></p>
<p><a target="_blank" rel="noopener" href="https://stg-api-back.zhuma.com/">https://stg-api-back.zhuma.com</a> 为仿真环境，</p>
<p><a target="_blank" rel="noopener" href="https://api-back.zhuma.com/">https://api-back.zhuma.com</a> 为生产环境等。</p>
<h2 id="3-词性使用"><a href="#3-词性使用" class="headerlink" title="3. 词性使用"></a>3. 词性使用</h2><p>定义自定义路径部分时，使用名词的复数形式定义一个资源，如若有动词词性在url中考虑以下划线区分。</p>
<p><strong>基本操作</strong></p>
<p>GET &#x2F;users                    # 获取用户列表</p>
<p>GET &#x2F;users&#x2F;{userId}       # 查看某个具体的用户信息</p>
<p>POST &#x2F;users                 # 新建一个用户</p>
<p>PUT &#x2F;users&#x2F;{userId}       # 全量更新某一个用户信息</p>
<p>PATCH &#x2F;users&#x2F;{userId}   # 选择性更新某一个用户信息</p>
<p>DELETE &#x2F;users&#x2F;{userId} # 删除某一个用户</p>
<p><strong>批量操作</strong></p>
<p>POST &#x2F;users&#x2F;_mget         # 批量获取多个用户</p>
<p>POST &#x2F;users&#x2F;_mcreate    # 批量创建多个用户</p>
<p>POST &#x2F;users&#x2F;_mupdate   # 批量更新多个用户</p>
<p>POST &#x2F;users&#x2F;_mdelete    # 批量删除多个用户</p>
<p>POST &#x2F;users&#x2F;_bulk          # 批量功能组装（后面会讲到）</p>
<p>动词词性加入url（原则上此种情况是不被推荐的）</p>
<p>GET &#x2F;users&#x2F;_search        # 搜索用户</p>
<p>POST &#x2F;users&#x2F;_init         # 初化所有用户</p> 
      <a class="article-more-link" href="/2019/06/09/Restful-Api%E5%86%99%E6%B3%95%E5%BF%83%E5%BE%97%E4%B9%8B%E4%B8%80%E3%80%8A%E8%B7%AF%E5%BE%84%E5%AE%9A%E4%B9%89%E7%AF%87%E3%80%8B/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/restful/" rel="tag">restful</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-springBoot注解大全"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/09/springBoot%E6%B3%A8%E8%A7%A3%E5%A4%A7%E5%85%A8/"
    >springBoot注解大全</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/09/springBoot%E6%B3%A8%E8%A7%A3%E5%A4%A7%E5%85%A8/" class="article-date">
  <time datetime="2019-06-09T05:52:57.000Z" itemprop="datePublished">2019-06-09</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p><em>来自：博客园（作者：tanwei81）</em></p>
<p><em>原文链接：</em></p>
<p><em><a target="_blank" rel="noopener" href="https://www.cnblogs.com/tanwei81/p/6814022.html">https://www.cnblogs.com/tanwei81/p/6814022.html</a></em></p>
</blockquote>
<h2 id="一、注解-annotations-列表"><a href="#一、注解-annotations-列表" class="headerlink" title="一、注解(annotations)列表"></a><strong>一、注解(annotations)列表</strong></h2><p><strong>@SpringBootApplication</strong>：包含了@ComponentScan、@Configuration和@EnableAutoConfiguration注解。其中@ComponentScan让spring Boot扫描到Configuration类并把它加入到程序上下文。</p>
<p><strong>@Configuration</strong> 等同于spring的XML配置文件；使用Java代码可以检查类型安全。</p>
<p><strong>@EnableAutoConfiguration</strong> 自动配置。</p>
<p><strong>@ComponentScan</strong> 组件扫描，可自动发现和装配一些Bean。</p>
<p><strong>@Component</strong>可配合CommandLineRunner使用，在程序启动后执行一些基础任务。</p>
<p><strong>@RestController</strong>注解是@Controller和@ResponseBody的合集,表示这是个控制器bean,并且是将函数的返回值直 接填入HTTP响应体中,是REST风格的控制器。</p>
<p><strong>@Autowired</strong>自动导入。</p>
<p><strong>@PathVariable</strong>获取参数。</p>
<p><strong>@JsonBackReference</strong>解决嵌套外链问题。</p>
<p><strong>@RepositoryRestResourcepublic</strong>配合spring-boot-starter-data-rest使用。</p>
<h2 id="二、注解-annotations-详解"><a href="#二、注解-annotations-详解" class="headerlink" title="二、注解(annotations)详解"></a>二、注解(annotations)详解</h2><p><strong>@SpringBootApplication</strong>：申明让spring boot自动给程序进行必要的配置，这个配置等同于：@Configuration ，@EnableAutoConfiguration 和 @ComponentScan 三个配置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package com.example.myproject; </span><br><span class="line">import org.springframework.boot.SpringApplication; </span><br><span class="line">import org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line">@SpringBootApplication // same as @Configuration @EnableAutoConfiguration @ComponentScan </span><br><span class="line">public class Application &#123; </span><br><span class="line">public static void main(String[] args) &#123; </span><br><span class="line">SpringApplication.run(Application.class, args); </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>**@**ResponseBody：表示该方法的返回结果直接写入HTTP response body中，一般在异步获取数据时使用，用于构建RESTful的api。在使用@RequestMapping后，返回值通常解析为跳转路径，加上@responsebody后返回结果不会被解析为跳转路径，而是直接写入HTTP response body中。比如异步获取json数据，加上@responsebody后，会直接返回json数据。该注解一般会配合@RequestMapping一起使用。示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(“/test”)</span> </span><br><span class="line"><span class="meta">@ResponseBody</span> </span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">test</span><span class="params">()</span>&#123; </span><br><span class="line">	<span class="keyword">return</span>”ok”; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>@Controller</strong>：用于定义控制器类，在spring 项目中由控制器负责将用户发来的URL请求转发到对应的服务接口（service层），一般这个注解在类中，通常方法需要配合注解@RequestMapping。示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span> </span><br><span class="line"><span class="meta">@RequestMapping(“/demoInfo”)</span> </span><br><span class="line">publicclass DemoController &#123; </span><br><span class="line">  <span class="meta">@Autowired</span> </span><br><span class="line">  <span class="keyword">private</span> DemoInfoService demoInfoService;</span><br><span class="line">  <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(Map&lt;String,Object&gt; map)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;DemoController.hello()&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;from TemplateController.helloHtml&quot;</span>);</span><br><span class="line">    <span class="comment">//会使用hello.html或者hello.ftl模板进行渲染显示.</span></span><br><span class="line">    <span class="keyword">return</span><span class="string">&quot;/hello&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>@RestController</strong>：用于标注控制层组件(如struts中的action)，@ResponseBody和@Controller的合集。示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kfit.demo.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping; </span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span> </span><br><span class="line"><span class="meta">@RequestMapping(“/demoInfo2”)</span> </span><br><span class="line">publicclass DemoController2 &#123;</span><br><span class="line">  <span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">  <span class="keyword">return</span><span class="string">&quot;ok&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>@RequestMapping</strong>：提供路由信息，负责URL到Controller中的具体函数的映射。</p>
<p><strong>@EnableAutoConfiguration</strong>：Spring Boot自动配置（auto-configuration）：尝试根据你添加的jar依赖自动配置你的Spring应用。例如，如果你的classpath下存在HSQLDB，并且你没有手动配置任何数据库连接beans，那么我们将自动配置一个内存型（in-memory）数据库”。你可以将@EnableAutoConfiguration或者@SpringBootApplication注解添加到一个@Configuration类上来选择自动配置。如果发现应用了你不想要的特定自动配置类，你可以使用@EnableAutoConfiguration注解的排除属性来禁用它们。</p>
<p><strong>@ComponentScan</strong>：表示将该类自动发现扫描组件。个人理解相当于，如果扫描到有@Component、@Controller、@Service等这些注解的类，并注册为Bean，可以自动收集所有的Spring组件，包括@Configuration类。我们经常使用@ComponentScan注解搜索beans，并结合@Autowired注解导入。可以自动收集所有的Spring组件，包括@Configuration类。我们经常使用@ComponentScan注解搜索beans，并结合@Autowired注解导入。如果没有配置的话，Spring Boot会扫描启动类所在包下以及子包下的使用了@Service,@Repository等注解的类。</p>
<p><strong>@Configuration</strong>：相当于传统的xml配置文件，如果有些第三方库需要用到xml文件，建议仍然通过@Configuration类作为项目的配置主类——可以使用@ImportResource注解加载xml配置文件。</p>
<p><strong>@Import</strong>：用来导入其他配置类。</p>
<p><strong>@ImportResource</strong>：用来加载xml配置文件。</p>
<p><strong>@Autowired</strong>：自动导入依赖的bean</p>
<p><strong>@Service</strong>：一般用于修饰service层的组件</p>
<p><strong>@Repository</strong>：使用@Repository注解可以确保DAO或者repositories提供异常转译，这个注解修饰的DAO或者repositories类会被ComponetScan发现并配置，同时也不需要为它们提供XML配置项。</p>
<p><strong>@Bean</strong>：用@Bean标注方法等价于XML中配置的bean。</p>
<p><strong>@Value</strong>：注入Spring boot application.properties配置的属性的值。示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(value = “#&#123;message&#125;”)</span> </span><br><span class="line"><span class="keyword">private</span> String message;</span><br></pre></td></tr></table></figure>

<p><strong>@Inject</strong>：等价于默认的@Autowired，只是没有required属性；</p>
<p><strong>@Component</strong>：泛指组件，当组件不好归类的时候，我们可以使用这个注解进行标注。</p>
<p><strong>@Bean</strong>:相当于XML中的,放在方法的上面，而不是类，意思是产生一个bean,并交给spring管理。</p>
<p><strong>@AutoWired</strong>：自动导入依赖的bean。byType方式。把配置好的Bean拿来用，完成属性、方法的组装，它可以对类成员变量、方法及构造函数进行标注，完成自动装配的工作。当加上（required&#x3D;false）时，就算找不到bean也不报错。</p>
<p><strong>@Qualifier</strong>：当有多个同一类型的Bean时，可以用@Qualifier(“name”)来指定。与@Autowired配合使用。@Qualifier限定描述符除了能根据名字进行注入，但能进行更细粒度的控制如何选择候选者，具体使用方式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span> </span><br><span class="line"><span class="meta">@Qualifier(value = “demoInfoService”)</span> </span><br><span class="line"><span class="keyword">private</span> DemoInfoService demoInfoService;</span><br></pre></td></tr></table></figure>

<p>**@Resource(name&#x3D;”name”,type&#x3D;”type”)**：没有括号内内容的话，默认byName。与@Autowired干类似的事。</p> 
      <a class="article-more-link" href="/2019/06/09/springBoot%E6%B3%A8%E8%A7%A3%E5%A4%A7%E5%85%A8/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-docsify使用"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/07/docsify%E4%BD%BF%E7%94%A8/"
    >docsify使用</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/07/docsify%E4%BD%BF%E7%94%A8/" class="article-date">
  <time datetime="2019-06-07T10:27:15.000Z" itemprop="datePublished">2019-06-07</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址 <a target="_blank" rel="noopener" href="https://hooray.github.io/posts/ed9dc49e/">docsify全接触</a></p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://i.loli.net/2018/08/08/5b6a49c8c93fc.png"><img src="https://i.loli.net/2018/08/08/5b6a49c8c93fc.png" alt="img"></a></p>
<p>一直以来我都习惯直接用 markdown 写一些简单的项目文档，并且通过 git 同步到 Github 或者国内的码云上，以满足备份和查看的需求，但直到我遇到了 <a target="_blank" rel="noopener" href="https://docsify.js.org/">docsify</a> ，在初步了解了一天后，我觉得这款工具或许可以代替我之前写文档的方式。</p>
<h2 id="什么是-docsify"><a href="#什么是-docsify" class="headerlink" title="什么是 docsify"></a>什么是 docsify</h2><blockquote>
<p>docsify 是一个动态生成文档网站的工具。不同于 GitBook、Hexo 的地方是它不会生成将 <code>.md</code> 转成 <code>.html</code>文件，所有转换工作都是在运行时进行。</p>
</blockquote>
<p>官方的介绍其实就已经打动我了，因为 GitBook 和 Hexo ，一个有了解过，一个现在正在使用，它们的“特点”就是都需要编译，相对来说就会比较费时，而运行时编译就方便了很多，而且整个文档目录也不会被 <code>.html</code> 文件“污染”，虽然 SEO 会受到影响，但我不在乎！</p>
<h2 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>官方推荐安装 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/docsify-cli">docsify-cli</a> 工具，可以方便创建及本地预览文档网站。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i docsify-cli -g</span><br></pre></td></tr></table></figure>

<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>建议在项目的 <code>./docs</code> 目录里写文档，可以通过下面的方式初始化项目：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docsify init ./docs</span><br></pre></td></tr></table></figure>

<p>这里我也可以直接创建一个纯文档项目：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docsify init ./</span><br></pre></td></tr></table></figure>

<h3 id="本地预览"><a href="#本地预览" class="headerlink" title="本地预览"></a>本地预览</h3><p>在上一步初始化完毕后，会看到 <code>Initialization succeeded! Please run docsify serve ./</code> ，那我们接着执行 <code>docsify serve ./</code> 就可以运行起一个支持实时预览的本地网站，通过 <a target="_blank" rel="noopener" href="http://localhost:3000/">http://localhost:3000</a> 可以访问。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docsify serve ./</span><br></pre></td></tr></table></figure>

<h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><p><a target="_blank" rel="noopener" href="https://i.loli.net/2018/08/08/5b6a82e9cf935.png"><img src="https://i.loli.net/2018/08/08/5b6a82e9cf935.png" alt="img"></a></p>
<p>运行好后看到这样的页面就代表运行成功了，在开始写文档之前，先来了解一下初始化好后的这三个文件分别是做什么的。</p>
<ul>
<li><code>.nojekyll</code> 用于阻止 GitHub Pages 会忽略掉下划线开头的文件</li>
<li><code>index.html</code> 入口文件，也可以理解为项目配置文件</li>
<li><code>README.md</code> 文档默认主页</li>
</ul> 
      <a class="article-more-link" href="/2019/06/07/docsify%E4%BD%BF%E7%94%A8/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-如何设计一个电商平台积分兑换系统？"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/07/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%94%B5%E5%95%86%E5%B9%B3%E5%8F%B0%E7%A7%AF%E5%88%86%E5%85%91%E6%8D%A2%E7%B3%BB%E7%BB%9F%EF%BC%9F/"
    >如何设计一个电商平台积分兑换系统？</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/07/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%94%B5%E5%95%86%E5%B9%B3%E5%8F%B0%E7%A7%AF%E5%88%86%E5%85%91%E6%8D%A2%E7%B3%BB%E7%BB%9F%EF%BC%9F/" class="article-date">
  <time datetime="2019-06-07T06:10:55.000Z" itemprop="datePublished">2019-06-07</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="如何设计一个电商平台积分兑换系统？"><a href="#如何设计一个电商平台积分兑换系统？" class="headerlink" title="如何设计一个电商平台积分兑换系统？"></a>如何设计一个电商平台积分兑换系统？</h1><blockquote>
<p>公众号：狸猫技术窝</p>
<p>作者：原子弹大侠，高级技术专家</p>
</blockquote>
<p><strong>目录</strong></p>
<p>1.拉开差距的一类面试题 </p>
<p>2.业务需求描述</p>
<p>3.对业务流程的思考</p>
<p>4.物流配送进度查询，考虑到了吗？</p>
<p>5.事务的保证</p>
<p>6.消息中间件的引入</p>
<p>7.重试机制的引入</p>
<p>8.引入幂等性机制</p>
<p>9.对这类面试题的总结</p>
<h3 id="1、拉开差距的一类面试题"><a href="#1、拉开差距的一类面试题" class="headerlink" title="1、拉开差距的一类面试题"></a>1、拉开差距的一类面试题</h3><p>现在面试经常会遇到一类问题，面试官让你现场设计出某个业务场景下的一个系统，这个系统往往在业务或者技术上有一定难度，主要考察的是你多年积淀下来的系统设计的能力以及技术思维的能力。</p>
<p>类似的这类系统设计题目很多，比如：</p>
<ul>
<li>请你设计一个秒杀系统</li>
<li>请你设计一个支撑百万用户的IM消息系统</li>
<li>请你设计一个微信红包系统</li>
<li>请你设计一个电商平台积分兑换系统</li>
</ul>
<p>这些题目本身都是开放式命题，没有固定答案。遇到这种问题，一定不要慌，关键是在现场要思路清楚，有理有据，慢慢分析。</p>
<p>本文就其中一个问题：<strong>设计一个电商平台的积分兑换系统</strong>，来详细阐述一下。文中会详细指出在系统设计的时候要考虑哪些要点，给大家展示出来这类问题思考的一个过程。</p>
<h3 id="2、业务需求的描述"><a href="#2、业务需求的描述" class="headerlink" title="2、业务需求的描述"></a>2、业务需求的描述</h3><p>假设面试官现在给出来对于这个电商平台的积分兑换系统的相关需求如下：</p>
<ol>
<li>用户在电商平台里平时通过购买商品、晒单评论可以有不断的积累积分</li>
<li>积累到足够的积分后，就可以在电商平台的积分兑换页面中，选择使用自己的积分来兑换一些礼品</li>
</ol>
<p>需求其实就这么简单，那么面试官说了，针对这个业务场景给出你对这个机制实现的思考过程以及这里要注意的一些地方。</p>
<h3 id="3、对业务流程的思考"><a href="#3、对业务流程的思考" class="headerlink" title="3、对业务流程的思考"></a>3、对业务流程的思考</h3><p>如何思考？首先，用户不停的购买商品以及晒单评论，会不断的获取积分，那么是不是需要一张积分表，专门用来存储每个用户的积分呢？</p>
<p>没错，这个表是一定需要的，可以现场给出下述的表结构。</p>
<p><strong>积分表</strong>：</p>
<ul>
<li><strong>id</strong>（自增id主键）</li>
<li><strong>user_id</strong>（用户id）</li>
<li><strong>credit</strong>（积分）</li>
</ul>
<p>继续来看，假设在积分兑换页面，用户选择用自己的20000积分兑换一瓶洗发水，后台的逻辑应该如何设计呢？</p>
<p>这个也是必须得现场给出一个思考过程的，这个其实看起来简单，但是很多年纪较轻，经验不足的朋友，可能没法快速思考出来。</p>
<p>首先你要用20000积分去进行兑换，那么一定是必须要在积分表里扣减掉这20000积分的吧？所以在流程设计中，首先就得有一个20000积分扣减的过程。</p>
<p>其次，你用这20000积分兑换了什么东西呢？</p>
<p>所以你是不是还需要一张单独的表，叫做积分兑换记录表，记录下来你这个用户本次用多少积分兑换了一件什么商品？</p>
<p>这个积分兑换记录表的结构如下所示，你是不是需要在下面的那个表里插入一条记录，说这个用户本次用多少积分兑换了哪个商品？</p>
<p><strong>积分兑换表</strong>：</p>
<ul>
<li><strong>id</strong>（自增id主键）</li>
<li><strong>user_id</strong>（用户id）</li>
<li><strong>exchanged_credit</strong>（用于兑换的积分）</li>
<li><strong>product_id</strong>（兑换的商品id）</li>
</ul>
<p>最后，光是插入上述那条积分兑换记录是不够的，你必须得调用仓储业务模块的接口，通知仓储业务模块新增一条发货申请，而且应该是积分兑换对应的发货申请，这样保证仓库可以准备对应的商品进行发货。</p>
<p>这个发货申请大致对应如下的表结构：</p>
<p><strong>发货申请表</strong>：</p>
<ul>
<li><strong>id</strong>（自增id主键）</li>
<li><strong>type</strong>（发货类型，1：购买，2：积分兑换）</li>
<li><strong>credit_exchange_id</strong>（积分兑换表的id）</li>
<li><strong>product_id</strong>（要发货的商品id）</li>
</ul>
<p>其实这里的发货申请表简化了很多，按理说还得有发货商品的数量等等字段，但是这里可以简化处理也没事，毕竟是面试现场。</p>
<p>简单画出来这个流程大致如下所示。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190607144159.png"></p> 
      <a class="article-more-link" href="/2019/06/07/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%94%B5%E5%95%86%E5%B9%B3%E5%8F%B0%E7%A7%AF%E5%88%86%E5%85%91%E6%8D%A2%E7%B3%BB%E7%BB%9F%EF%BC%9F/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" rel="tag">系统设计</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-IM表结构设计"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/05/IM%E8%A1%A8%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/"
    >IM表结构设计</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/05/IM%E8%A1%A8%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="article-date">
  <time datetime="2019-06-05T11:02:21.000Z" itemprop="datePublished">2019-06-05</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">User(--用户表</span><br><span class="line">              </span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">U_ID    Int        主键、自增</span><br><span class="line">U_LoginID    Varchar（20）    (登陆账号)    </span><br><span class="line">U_NickName    Varchar（20）    (昵称)    </span><br><span class="line">U_PassWord    Varchar（20）    (密码)    </span><br><span class="line">U_SignaTure    Varchar（150）    (个性签名)    Null</span><br><span class="line">U_Sex    Bit    (性别)    Null</span><br><span class="line">U_Birthday    Datetime    (生日)    Null</span><br><span class="line">U_Telephone    Varchar（30）    (电话)    Null</span><br><span class="line">U_Name    Varchar（30）    (真实姓名)    Null</span><br><span class="line">U_Email    Varchar（50）    (邮箱)    Null</span><br><span class="line">U_Intro    Varchar（300）    (简介)    Null</span><br><span class="line">U_HeadPortrait     Varchar（100）    (头像)    </span><br><span class="line">U_ShengXiao    Char（2）    生肖    Null</span><br><span class="line">U_Age    Int    年龄    Null</span><br><span class="line">U_Constellation    Char(6)    星座    Null</span><br><span class="line">U_BloodType    Varchar（10）    血型    Null</span><br><span class="line">U_SchoolTag    Varchar（50）    毕业学校    Null</span><br><span class="line">U_Vocation    Varchar（30）    (职业)    Null</span><br><span class="line">U_NationID    Int    (国家ID)    外键</span><br><span class="line">U_ProvinceID    Int    （省份ID）    外键</span><br><span class="line">U_CityID    Int    （城市ID）    外键</span><br><span class="line">U_FriendshipPolicyID    Int    好友策略ID    外键</span><br><span class="line">U_UserStateID    Int    (用户状态ID)    外键</span><br><span class="line">U_FriendPolicyQuestion    Varchar(30)    好友策略问题    Null</span><br><span class="line">U_FriendPolicyAnswer    Varchar（30）    好友策略答案    Null</span><br><span class="line">U_FriendPolicyPassword    Varchar（30）    好友策略密码    Null</span><br><span class="line">)</span><br><span class="line">UserState(--用户状态表</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">US_ID    Int    (ID)    主键</span><br><span class="line">US _Name    Varchar（10）    (状态名字)    </span><br><span class="line">            </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Friends(--好友表</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">F_ID    Int    主键ID    主键</span><br><span class="line">F_FirendID    Int    朋友的ID    外键</span><br><span class="line">F_UserID    Int    自己的ID    外键</span><br><span class="line">F_Name    Varchar（30）    备注昵称    Null</span><br><span class="line">F_FriendTypeID    Int    (好友类型)    外键</span><br><span class="line">F_FriendGroupsID    Int    (所属分组ID)    外键</span><br><span class="line">            </span><br><span class="line">) </span><br><span class="line">User_FriendshipPolicy(--添加好友策略</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">U_FP_ID主键    Int    策略ID    主键</span><br><span class="line">U_FriendshipPolicy    varchar    好友添加方式    </span><br><span class="line">)</span><br><span class="line">FriendGroups(--好友分组表</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">FG_ID    Int    (分组ID)    主键</span><br><span class="line">FG_Name    Varchar    (分组名字)    </span><br><span class="line">FG_UserID    Int    用户ID    外键</span><br><span class="line">)</span><br><span class="line">FriendType (--好友类型</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">FT_ID    Int    （类型ID）    主键</span><br><span class="line">FT_Name    Varchar（20）    (类型名称)    </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">Messages(--聊天记录表</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">M_ID    Int    (消息ID)    主键，自增</span><br><span class="line">M_PostMessages    Text    (消息内容)    </span><br><span class="line">M_ status    Bit    (接收状态)    </span><br><span class="line">M_Time    Datetime    (发送时间)    默认值</span><br><span class="line">M_MessagesTypeID    Int    (消息类型ID)    外键</span><br><span class="line">M_ FromUserID     Int    (发送者ID)指向用户表    外键</span><br><span class="line">M_ToUserID     Int    (接收者ID)指向用户表    外键</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">MessagesType（--消息类型</span><br><span class="line"></span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">MT_ID    Int    (类型ID)    主键</span><br><span class="line">MT_Name    Varchar（20）    类型名称    </span><br><span class="line"></span><br><span class="line">） </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Nation (--国家</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">N_ID    Int    (国家ID)    主键</span><br><span class="line">N_Name    Varchar（30）    (名字)    </span><br><span class="line">)</span><br><span class="line">Province (--省份</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">P_ID    Int    （省份ID）    </span><br><span class="line">P_Name    Varchar（30）    (名字)    </span><br><span class="line">P_NationID    Int    所属国家ID    外键</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">City (--城市</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">C_ID    Int    （城市ID）    </span><br><span class="line">C_Name    Varchar（30）    (名字)    </span><br><span class="line">C_ProvinceID    Int    所属省份ID    外键</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">User_Groups(--用户群表</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">UG_ID    Int    群ID    主键</span><br><span class="line">UG_Name    Varchar（30）    群名称    </span><br><span class="line">UG_CreateTime    Datetime    创建时间    默认值</span><br><span class="line">UG_AdminID    Int    群主ID（指向用户表）    </span><br><span class="line">UG_ICon    Varchar（30）    群图标    </span><br><span class="line">UG_Notice    Varchar（200）    群公告    </span><br><span class="line">UG_Intro    Varchar（200）    群简介    </span><br><span class="line">）</span><br><span class="line"></span><br><span class="line">User_GroupsToUser(--群用户关联表</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">UG_ID    Int    ID    主键</span><br><span class="line">UG _UserID    Int    用户ID    外键</span><br><span class="line">UG _GroupID    Int    群ID    外键</span><br><span class="line">UG _CreateTime    Datetime    发送时间    Null</span><br><span class="line">UG _GroupNick    Varchar(15)    群内用户昵称    Null</span><br><span class="line">）</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">User_GroupsMSGContent(--群消息内容表</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">GM _ID    Int    群消息ID    主键</span><br><span class="line">GM _Content    Text    消息内容    </span><br><span class="line">GM _FromID    Int    发送者ID    </span><br><span class="line">GM _FromUName    Varchar（30）    发送者昵称    </span><br><span class="line">GM _CreateTime    Datetime    发送时间    </span><br><span class="line">            </span><br><span class="line">）</span><br><span class="line">User_GroupsMSGToUser(--群消息关联表</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">GM_ID    Int    ID    主键</span><br><span class="line">GM _UserID    Int    接收者ID    </span><br><span class="line">GM _GroupMessageID    Int    群消息ID    外键</span><br><span class="line">GM _State    Bit    接收状态    </span><br><span class="line">GM _CreateTime    Datetime    发送时间    </span><br><span class="line">            </span><br><span class="line">）</span><br><span class="line">User_GroupsMSGUserToUser(--群内私聊消息关联表</span><br><span class="line">字段    字段类型    字段描述    备注</span><br><span class="line">GM _ID    Int    ID    主键</span><br><span class="line">GM _FromUserID    Int    发送者ID    </span><br><span class="line">GM _FromUserName    Varchar（30）    发送者昵称    </span><br><span class="line">GM _ToUserID    Int    接收者ID    </span><br><span class="line">GM _MSGContent    Varchar（300）    消息内容    </span><br><span class="line">GM _State    Bit    接收状态    </span><br><span class="line">GM _CreateTime    Datetime    发送时间    </span><br><span class="line">GM_ UserGroupID    Int    所属群ID    </span><br><span class="line">）</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IM/" rel="tag">IM</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-使用Swagger2Markup实现导出API文档"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/04/%E4%BD%BF%E7%94%A8Swagger2Markup%E5%AE%9E%E7%8E%B0%E5%AF%BC%E5%87%BAAPI%E6%96%87%E6%A1%A3/"
    >使用Swagger2Markup实现导出API文档</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/04/%E4%BD%BF%E7%94%A8Swagger2Markup%E5%AE%9E%E7%8E%B0%E5%AF%BC%E5%87%BAAPI%E6%96%87%E6%A1%A3/" class="article-date">
  <time datetime="2019-06-04T11:31:41.000Z" itemprop="datePublished">2019-06-04</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文链接 <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1332445">使用Swagger2Markup实现导出API文档</a></p>
<p>原作者 <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/user/3024838">飞狗</a></p>
</blockquote>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在学会了如何使用Swagger之后，我们已经能够轻松地为Spring MVC或SpringBoot的Web项目自动构建出API文档了。但是，构建的文档必须通过在项目中整合<code>swagger-ui</code>、或使用单独部署的<code>swagger-ui</code>和<code>/v2/api-docs</code>返回的配置信息才能展现出您所构建的API文档。本文将在使用Swagger的基础上，再介绍一种生成静态API文档的方法，以便于构建更轻量部署和使用的API文档。  Swagger使用说明：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8a08446d5bf8">REST API文档工具Swagger2，以及与SpringBoot的集成</a></p>
<h2 id="Swagger2Markup简介"><a href="#Swagger2Markup简介" class="headerlink" title="Swagger2Markup简介"></a>Swagger2Markup简介</h2><p>Swagger2Markup是Github上的一个开源项目。该项目主要用来将Swagger自动生成的文档转换成几种流行的格式以便于静态部署和使用，比如：AsciiDoc、Markdown、Confluence。</p>
<p>项目主页：<a target="_blank" rel="noopener" href="https://github.com/Swagger2Markup/swagger2markup">https://github.com/Swagger2Markup/swagger2markup</a></p>
<h2 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h2><p>在使用Swagger2Markup之前，我们先需要准备一个使用了Swagger的Web项目，<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8a08446d5bf8">REST API文档工具Swagger2，以及与SpringBoot的集成</a>。</p>
<h3 id="生成AsciiDoc"><a href="#生成AsciiDoc" class="headerlink" title="生成AsciiDoc"></a>生成AsciiDoc</h3><p>生成AsciiDoc的方式有两种：</p>
<ol>
<li>通过Java代码来生成</li>
</ol>
<p>第一步：编辑<code>pom.xml</code>增加需要使用的相关依赖和仓库</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.swagger2markup<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>swagger2markup<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">updatePolicy</span>&gt;</span>always<span class="tag">&lt;/<span class="name">updatePolicy</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>jcenter-releases<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>jcenter<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://jcenter.bintray.com<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>第二步：编写一个单元测试用例来生成执行生成文档的代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成AsciiDocs格式文档</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> <span class="variable">Exception</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">generateAsciiDocs</span>() throws <span class="title class_">Exception</span> &#123;</span><br><span class="line">        <span class="comment">//    输出Ascii格式</span></span><br><span class="line">        <span class="title class_">Swagger2MarkupConfig</span> config = <span class="keyword">new</span> <span class="title class_">Swagger2MarkupConfigBuilder</span>()</span><br><span class="line">                .<span class="title function_">withMarkupLanguage</span>(<span class="title class_">MarkupLanguage</span>.<span class="property">ASCIIDOC</span>)</span><br><span class="line">                .<span class="title function_">withOutputLanguage</span>(<span class="title class_">Language</span>.<span class="property">ZH</span>)</span><br><span class="line">                .<span class="title function_">withPathsGroupedBy</span>(<span class="title class_">GroupBy</span>.<span class="property">TAGS</span>)</span><br><span class="line">                .<span class="title function_">withGeneratedExamples</span>()</span><br><span class="line">                .<span class="title function_">withoutInlineSchema</span>()</span><br><span class="line">                .<span class="title function_">build</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">Swagger2MarkupConverter</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&quot;http://127.0.0.1:8082/v2/api-docs&quot;</span>))</span><br><span class="line">                .<span class="title function_">withConfig</span>(config)</span><br><span class="line">                .<span class="title function_">build</span>()</span><br><span class="line">                .<span class="title function_">toFolder</span>(<span class="title class_">Paths</span>.<span class="title function_">get</span>(<span class="string">&quot;./docs/asciidoc/generated&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成Markdown格式文档</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> <span class="variable">Exception</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">generateMarkdownDocs</span>() throws <span class="title class_">Exception</span> &#123;</span><br><span class="line">        <span class="comment">//    输出Markdown格式</span></span><br><span class="line">        <span class="title class_">Swagger2MarkupConfig</span> config = <span class="keyword">new</span> <span class="title class_">Swagger2MarkupConfigBuilder</span>()</span><br><span class="line">                .<span class="title function_">withMarkupLanguage</span>(<span class="title class_">MarkupLanguage</span>.<span class="property">MARKDOWN</span>)</span><br><span class="line">                .<span class="title function_">withOutputLanguage</span>(<span class="title class_">Language</span>.<span class="property">ZH</span>)</span><br><span class="line">                .<span class="title function_">withPathsGroupedBy</span>(<span class="title class_">GroupBy</span>.<span class="property">TAGS</span>)</span><br><span class="line">                .<span class="title function_">withGeneratedExamples</span>()</span><br><span class="line">                .<span class="title function_">withoutInlineSchema</span>()</span><br><span class="line">                .<span class="title function_">build</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">Swagger2MarkupConverter</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&quot;http://localhost:8082/v2/api-docs&quot;</span>))</span><br><span class="line">                .<span class="title function_">withConfig</span>(config)</span><br><span class="line">                .<span class="title function_">build</span>()</span><br><span class="line">                .<span class="title function_">toFolder</span>(<span class="title class_">Paths</span>.<span class="title function_">get</span>(<span class="string">&quot;./docs/markdown/generated&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成Confluence格式文档</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> <span class="variable">Exception</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">generateConfluenceDocs</span>() throws <span class="title class_">Exception</span> &#123;</span><br><span class="line">        <span class="comment">//    输出Confluence使用的格式</span></span><br><span class="line">        <span class="title class_">Swagger2MarkupConfig</span> config = <span class="keyword">new</span> <span class="title class_">Swagger2MarkupConfigBuilder</span>()</span><br><span class="line">                .<span class="title function_">withMarkupLanguage</span>(<span class="title class_">MarkupLanguage</span>.<span class="property">CONFLUENCE_MARKUP</span>)</span><br><span class="line">                .<span class="title function_">withOutputLanguage</span>(<span class="title class_">Language</span>.<span class="property">ZH</span>)</span><br><span class="line">                .<span class="title function_">withPathsGroupedBy</span>(<span class="title class_">GroupBy</span>.<span class="property">TAGS</span>)</span><br><span class="line">                .<span class="title function_">withGeneratedExamples</span>()</span><br><span class="line">                .<span class="title function_">withoutInlineSchema</span>()</span><br><span class="line">                .<span class="title function_">build</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">Swagger2MarkupConverter</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&quot;http://localhost:8082/v2/api-docs&quot;</span>))</span><br><span class="line">                .<span class="title function_">withConfig</span>(config)</span><br><span class="line">                .<span class="title function_">build</span>()</span><br><span class="line">                .<span class="title function_">toFolder</span>(<span class="title class_">Paths</span>.<span class="title function_">get</span>(<span class="string">&quot;./docs/confluence/generated&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成AsciiDocs格式文档,并汇总成一个文件</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> <span class="variable">Exception</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">generateAsciiDocsToFile</span>() throws <span class="title class_">Exception</span> &#123;</span><br><span class="line">        <span class="comment">//    输出Ascii到单文件</span></span><br><span class="line">        <span class="title class_">Swagger2MarkupConfig</span> config = <span class="keyword">new</span> <span class="title class_">Swagger2MarkupConfigBuilder</span>()</span><br><span class="line">                .<span class="title function_">withMarkupLanguage</span>(<span class="title class_">MarkupLanguage</span>.<span class="property">ASCIIDOC</span>)</span><br><span class="line">                .<span class="title function_">withOutputLanguage</span>(<span class="title class_">Language</span>.<span class="property">ZH</span>)</span><br><span class="line">                .<span class="title function_">withPathsGroupedBy</span>(<span class="title class_">GroupBy</span>.<span class="property">TAGS</span>)</span><br><span class="line">                .<span class="title function_">withGeneratedExamples</span>()</span><br><span class="line">                .<span class="title function_">withoutInlineSchema</span>()</span><br><span class="line">                .<span class="title function_">build</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">Swagger2MarkupConverter</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&quot;http://localhost:8082/v2/api-docs&quot;</span>))</span><br><span class="line">                .<span class="title function_">withConfig</span>(config)</span><br><span class="line">                .<span class="title function_">build</span>()</span><br><span class="line">                .<span class="title function_">toFile</span>(<span class="title class_">Paths</span>.<span class="title function_">get</span>(<span class="string">&quot;./docs/asciidoc/generated/all&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成Markdown格式文档,并汇总成一个文件</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> <span class="variable">Exception</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">generateMarkdownDocsToFile</span>() throws <span class="title class_">Exception</span> &#123;</span><br><span class="line">        <span class="comment">//    输出Markdown到单文件</span></span><br><span class="line">        <span class="title class_">Swagger2MarkupConfig</span> config = <span class="keyword">new</span> <span class="title class_">Swagger2MarkupConfigBuilder</span>()</span><br><span class="line">                .<span class="title function_">withMarkupLanguage</span>(<span class="title class_">MarkupLanguage</span>.<span class="property">MARKDOWN</span>)</span><br><span class="line">                .<span class="title function_">withOutputLanguage</span>(<span class="title class_">Language</span>.<span class="property">ZH</span>)</span><br><span class="line">                .<span class="title function_">withPathsGroupedBy</span>(<span class="title class_">GroupBy</span>.<span class="property">TAGS</span>)</span><br><span class="line">                .<span class="title function_">withGeneratedExamples</span>()</span><br><span class="line">                .<span class="title function_">withoutInlineSchema</span>()</span><br><span class="line">                .<span class="title function_">build</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">Swagger2MarkupConverter</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&quot;http://localhost:8082/v2/api-docs&quot;</span>))</span><br><span class="line">                .<span class="title function_">withConfig</span>(config)</span><br><span class="line">                .<span class="title function_">build</span>()</span><br><span class="line">                .<span class="title function_">toFile</span>(<span class="title class_">Paths</span>.<span class="title function_">get</span>(<span class="string">&quot;./docs/markdown/generated/all&quot;</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>以上代码内容很简单，大致说明几个关键内容：</p>
<ul>
<li><code>MarkupLanguage.ASCIIDOC</code>：指定了要输出的最终格式。除了ASCIIDOC之外，还有MARKDOWN和CONFLUENCE_MARKUP</li>
<li><code>from(new URL(&quot;http://localhost:8080/v2/api-docs&quot;)</code>：指定了生成静态部署文档的源头配置，可以是这样的URL形式，也可以是符合Swagger规范的String类型或者从文件中读取的流。如果是对当前使用的Swagger项目，我们通过使用访问本地Swagger接口的方式，如果是从外部获取的Swagger文档配置文件，就可以通过字符串或读文件的方式</li>
<li><code>toFolder(Paths.get(&quot;src/docs/asciidoc/generated&quot;)</code>：指定最终生成文件的具体<em>目录</em>位置  <strong>输出到单个文件</strong></li>
</ul> 
      <a class="article-more-link" href="/2019/06/04/%E4%BD%BF%E7%94%A8Swagger2Markup%E5%AE%9E%E7%8E%B0%E5%AF%BC%E5%87%BAAPI%E6%96%87%E6%A1%A3/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/api/" rel="tag">api</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/28/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="page-number" href="/page/28/">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/">30</a><a class="page-number" href="/page/31/">31</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/30/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2023
        <i class="ri-heart-fill heart_icon"></i> 高行行
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="高行行的个人博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://gaohanghang.lofter.com">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/twitter">Twitter</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://weibo.com/u/5125203090">微博</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>