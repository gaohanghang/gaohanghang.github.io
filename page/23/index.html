<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="个人公众号《骇客与画家》" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 高行行的个人博客</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/Shen-Yu/hexo-theme-ayer"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">高行行的个人博客</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '科技需要人文的浇灌', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  <ul class="ads">
    
        <li>
            <a target="_blank" rel="noopener" href="https://curl.qcloud.com/kvO7hb43">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5ccc.jpg" width="300" alt="云服务器限时秒杀">
            </a>
        </li>
    
        <li>
            <a target="_blank" rel="noopener" href="https://www.vultr.com/?ref=8630075">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5cd7.png" width="300" alt="vultr优惠vps">
            </a>
        </li>
    
</ul>
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-RecursiveTask和RecursiveAction的使用-以及java-8-并行流和顺序流"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/24/RecursiveTask%E5%92%8CRecursiveAction%E7%9A%84%E4%BD%BF%E7%94%A8-%E4%BB%A5%E5%8F%8Ajava-8-%E5%B9%B6%E8%A1%8C%E6%B5%81%E5%92%8C%E9%A1%BA%E5%BA%8F%E6%B5%81/"
    >RecursiveTask和RecursiveAction的使用 以及java 8 并行流和顺序流</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/24/RecursiveTask%E5%92%8CRecursiveAction%E7%9A%84%E4%BD%BF%E7%94%A8-%E4%BB%A5%E5%8F%8Ajava-8-%E5%B9%B6%E8%A1%8C%E6%B5%81%E5%92%8C%E9%A1%BA%E5%BA%8F%E6%B5%81/" class="article-date">
  <time datetime="2019-07-24T15:29:48.000Z" itemprop="datePublished">2019-07-24</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址: <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41404773/article/details/80733324">https://blog.csdn.net/weixin_41404773/article/details/80733324</a></p>
</blockquote>
<h2 id="什么是Fork-x2F-Join框架"><a href="#什么是Fork-x2F-Join框架" class="headerlink" title="什么是Fork&#x2F;Join框架"></a>什么是Fork&#x2F;Join框架</h2><p>Fork&#x2F;Join框架是Java7提供了的一个用于并行执行任务的框架， 是一个把大任务分割成若干个小任务，最终汇总每个小任务结果后得到大任务结果的框架。</p>
<p>我们再通过Fork和Join这两个单词来理解下Fork&#x2F;Join框架，Fork就是把一个大任务切分为若干子任务并行的执行，Join就是合并这些子任务的执行结果，最后得到这个大任务的结果。比如计算1+2+。。＋10000，可以分割成10个子任务，每个子任务分别对1000个数进行求和，最终汇总这10个子任务的结果。Fork&#x2F;Join的运行流程图如下：</p>
<h2 id="工作窃取算法"><a href="#工作窃取算法" class="headerlink" title="工作窃取算法"></a>工作窃取算法</h2><p>工作窃取（work-stealing）算法是指某个线程从其他队列里窃取任务来执行。工作窃取的运行流程图如下：</p>
<p> 那么为什么需要使用工作窃取算法呢？假如我们需要做一个比较大的任务，我们可以把这个任务分割为若干互不依赖的子任务，为了减少线程间的竞争，于是把这些子任务分别放到不同的队列里，并为每个队列创建一个单独的线程来执行队列里的任务，线程和队列一一对应，比如A线程负责处理A队列里的任务。但是有的线程会先把自己队列里的任务干完，而其他线程对应的队列里还有任务等待处理。干完活的线程与其等着，不如去帮其他线程干活，于是它就去其他线程的队列里窃取一个任务来执行。而在这时它们会访问同一个队列，所以为了减少窃取任务线程和被窃取任务线程之间的竞争，通常会使用双端队列，被窃取任务线程永远从双端队列的头部拿任务执行，而窃取任务的线程永远从双端队列的尾部拿任务执行。        </p>
<p>工作窃取算法的优点是充分利用线程进行并行计算，并减少了线程间的竞争，其缺点是在某些情况下还是存在竞争，比如双端队列里只有一个任务时。并且消耗了更多的系统资源，比如创建多个线程和多个双端队列。</p>
<h3 id="ForkJoinPool"><a href="#ForkJoinPool" class="headerlink" title="ForkJoinPool"></a>ForkJoinPool</h3><p>Java提供了ForkJoinPool来支持将一个任务拆分成多个“小任务”并行计算，再把多个“小任务”的结果合成总的计算结果。</p>
<p>ForkJoinPool是ExecutorService的实现类，因此是一种特殊的线程池。ForkJoinPool提供了如下两个常用的构造器。</p>
<ul>
<li><p>public ForkJoinPool(int parallelism)：创建一个包含parallelism个并行线程的ForkJoinPool</p>
</li>
<li><p>public ForkJoinPool() ：以Runtime.getRuntime().availableProcessors()的返回值作为parallelism来创建ForkJoinPool</p>
</li>
</ul>
<p>创建ForkJoinPool实例后，可以调用ForkJoinPool的submit(ForkJoinTask<T> task)或者invoke(ForkJoinTask<T> task)来执行指定任务。其中ForkJoinTask代表一个可以并行、合并的任务。ForkJoinTask是一个抽象类，它有两个抽象子类：RecursiveAction和RecursiveTask。</p>
<ul>
<li>RecursiveTask代表有返回值的任务</li>
<li>RecursiveAction代表没有返回值的任务。</li>
</ul>
<h3 id="RecursiveAction"><a href="#RecursiveAction" class="headerlink" title="RecursiveAction"></a>RecursiveAction</h3><p>下面以一个没有返回值的大任务为例，介绍一下RecursiveAction的用法。</p>
<p>大任务是：打印0-100的数值。</p>
<p>小任务是：每次只能打印20个数值。</p>
<p>代码执行</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.jedis.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.RecursiveAction;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> : Wukn</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> : 2018/2/5</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RaskDemo</span> <span class="keyword">extends</span> <span class="title class_">RecursiveAction</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  每个&quot;小任务&quot;最多只打印20个数</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MAX</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> start;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> end;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RaskDemo</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.start = start;</span><br><span class="line">        <span class="built_in">this</span>.end = end;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">compute</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//当end-start的值小于MAX时，开始打印</span></span><br><span class="line">        <span class="keyword">if</span>((end-start) &lt; MAX) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i= start; i&lt;end;i++) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;i的值&quot;</span>+i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 将大任务分解成两个小任务</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">middle</span> <span class="operator">=</span> (start + end) / <span class="number">2</span>;</span><br><span class="line">            <span class="type">RaskDemo</span> <span class="variable">left</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RaskDemo</span>(start, middle);</span><br><span class="line">            <span class="type">RaskDemo</span> <span class="variable">right</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RaskDemo</span>(middle, end);</span><br><span class="line">            left.fork();</span><br><span class="line">            right.fork();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">    <span class="comment">// 创建包含Runtime.getRuntime().availableProcessors()返回值作为个数的并行线程的ForkJoinPool</span></span><br><span class="line">    <span class="type">ForkJoinPool</span> <span class="variable">forkJoinPool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ForkJoinPool</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 提交可分解的PrintTask任务</span></span><br><span class="line">    forkJoinPool.submit(<span class="keyword">new</span> <span class="title class_">RaskDemo</span>(<span class="number">0</span>, <span class="number">1000</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//阻塞当前线程直到 ForkJoinPool 中所有的任务都执行结束</span></span><br><span class="line">    forkJoinPool.awaitTermination(<span class="number">2</span>, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 关闭线程池</span></span><br><span class="line">    forkJoinPool.shutdown();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<p>从上面结果来看，ForkJoinPool启动了四个线程来执行这个打印任务，我的计算机的CPU是四核的。大家还可以看到程序虽然打印了0-999这一千个数字，但是并不是连续打印的，这是因为程序将这个打印任务进行了分解，分解后的任务会并行执行，所以不会按顺序打印。</p>
<h3 id="RecursiveTask"><a href="#RecursiveTask" class="headerlink" title="RecursiveTask"></a>RecursiveTask</h3><p>下面以一个有返回值的大任务为例，介绍一下RecursiveTask的用法。</p> 
      <a class="article-more-link" href="/2019/07/24/RecursiveTask%E5%92%8CRecursiveAction%E7%9A%84%E4%BD%BF%E7%94%A8-%E4%BB%A5%E5%8F%8Ajava-8-%E5%B9%B6%E8%A1%8C%E6%B5%81%E5%92%8C%E9%A1%BA%E5%BA%8F%E6%B5%81/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java8/" rel="tag">java8</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-分布式缓存Redis之与Memcached的比较"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/17/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98Redis%E4%B9%8B%E4%B8%8EMemcached%E7%9A%84%E6%AF%94%E8%BE%83/"
    >分布式缓存Redis之与Memcached的比较</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/17/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98Redis%E4%B9%8B%E4%B8%8EMemcached%E7%9A%84%E6%AF%94%E8%BE%83/" class="article-date">
  <time datetime="2019-07-17T15:24:52.000Z" itemprop="datePublished">2019-07-17</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>文章地址 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/aspirant/p/8883871.html">Redis和Memcache的区别总结-京东阿里面试</a></p>
</blockquote>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>Redis支持的数据类型要丰富得多,Redis不仅仅支持简单的k&#x2F;v类型的数据，同时还提供String，List,Set,Hash,Sorted Set,pub&#x2F;sub,Transactions数据结构的存储。其中Set是HashMap实现的，value永远为null而已</p>
<p>memcache支持简单数据类型，需要客户端自己处理复杂对象 </p>
<h3 id="持久性"><a href="#持久性" class="headerlink" title="持久性"></a>持久性</h3><p>redis支持数据落地持久化存储,</p>
<p>可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用。 </p>
<p>memcache不支持数据持久存储 </p>
<h3 id="分布式存储"><a href="#分布式存储" class="headerlink" title="分布式存储"></a>分布式存储</h3><p>redis支持master-slave复制模式</p>
<p>memcache可以使用一致性hash做分布式</p>
<h3 id="value大小不同"><a href="#value大小不同" class="headerlink" title="value大小不同"></a>value大小不同</h3><p>memcache是一个内存缓存，key的长度小于250字符<strong>，单个item存储要小于1M</strong>，不适合虚拟机使用</p>
<h3 id="数据一致性不同"><a href="#数据一致性不同" class="headerlink" title="数据一致性不同"></a>数据一致性不同</h3><p>Redis只使用单核，而Memcached可以使用多核，所以平均每一个核上Redis在存储小数据时比Memcached性能更高。而在100k以上的数据中，Memcached性能要高于Redis，虽然Redis最近也在存储大数据的性能上进行优化，但是比起Memcached，还是稍有逊色。 </p>
<p>redis使用的是单线程模型，保证了数据按顺序提交。</p>
<p>memcache需要使用cas保证数据一致性。CAS（Check and Set）是一个确保并发一致性的机制，属于“乐观锁”范畴；原理很简单：拿版本号，操作，对比版本号，如果一致就操作，不一致就放弃任何操作 </p>
<h3 id="cpu利用"><a href="#cpu利用" class="headerlink" title="cpu利用"></a>cpu利用</h3><p>redis单线程模型只能使用一个cpu，可以开启多个redis进程</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-HashMap为什么要用红黑树？"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/17/HashMap%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91%EF%BC%9F/"
    >HashMap为什么要用红黑树？</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/17/HashMap%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91%EF%BC%9F/" class="article-date">
  <time datetime="2019-07-17T15:16:16.000Z" itemprop="datePublished">2019-07-17</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>文章地址 <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/41396844">数据结构笔试面试知识集合之HashMap的红黑树</a></p>
</blockquote>
<p>当HashMap中有大量的元素存放都同一个桶中时，这个桶下有一条长长的链表，这个时候HashMap就相当于一个单链表，假如单链表有n个元素，遍历的时间复杂度就是O(n)，完全失去了它的优势。</p>
<p>针对这种情况，JDK1.8中引入了红黑树来优化这个问题，为什么不引入二叉查找树呢？因为二叉查找树的一般操作的执行时间为O(lgn)，但是二叉查找树若退化成了一棵具有n个结点的线性链后，则这些操作最坏情况运行时间为O(n)。与单链表一样。</p>
<p>所以此时我们需要红黑树它在二叉查找树的基础上增加了着色和相关的性质使得红黑树相对平衡，从而保证了红黑树的查找、插入、删除的时间复杂度最坏为O(log n)。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-tcp三次握手、四次挥手"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/17/tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E3%80%81%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/"
    >tcp三次握手、四次挥手</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/17/tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E3%80%81%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/" class="article-date">
  <time datetime="2019-07-17T13:59:22.000Z" itemprop="datePublished">2019-07-17</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="视频讲解总结1"><a href="#视频讲解总结1" class="headerlink" title="视频讲解总结1"></a>视频讲解总结1</h2><blockquote>
<p>视频地址 <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=TEh6t8meORo">tcp三次握手、四次挥手</a></p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190717220026.png"></p>
<ol>
<li>SYN  J</li>
<li>SYN K, ACK  J+1    服务器对 J+1说明服务器准备好了</li>
<li>ACK K+1  客户端对 K+1 说明客户端准备好了</li>
</ol>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190717220719.png"></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190717221253.png"></p>
<p>在TCP中，如果有一方收到了对方的数据，一定会发送ACK确认包给发送方</p>
<p>而在UDP中，没有这个过程，因此导致了TCP稳定，而UDP不稳定</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190717222019.png"></p>
<ol>
<li>FIN seq &#x3D; x+2 ACK &#x3D; y +1    FIN(final)客户端要close的标志，ACK是确认收到了上次数据包</li>
<li>ACK &#x3D; x + 3    收到了</li>
<li>FIN seq &#x3D; y + 1  服务端调用socket close 发送FIN告诉客户端我也要关了</li>
<li>ACK &#x3D; y + 2 客户端表示收到了</li>
</ol>
<h2 id="TCP为什么是四次，而不是三次？"><a href="#TCP为什么是四次，而不是三次？" class="headerlink" title="TCP为什么是四次，而不是三次？"></a>TCP为什么是四次，而不是三次？</h2><p>收到主动方发来的FIN报，被动方会立刻回答主动方，让主动方进入FIN-WAIT-1状态。防止主动方重复的发FIN报。</p> 
      <a class="article-more-link" href="/2019/07/17/tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E3%80%81%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-使用-Google-jib-快速构建springboot项目镜像"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/16/%E4%BD%BF%E7%94%A8-Google-jib-%E5%BF%AB%E9%80%9F%E6%9E%84%E5%BB%BAspringboot%E9%A1%B9%E7%9B%AE%E9%95%9C%E5%83%8F/"
    >使用 Google jib 快速构建springboot项目镜像</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/16/%E4%BD%BF%E7%94%A8-Google-jib-%E5%BF%AB%E9%80%9F%E6%9E%84%E5%BB%BAspringboot%E9%A1%B9%E7%9B%AE%E9%95%9C%E5%83%8F/" class="article-date">
  <time datetime="2019-07-15T16:16:10.000Z" itemprop="datePublished">2019-07-16</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>google jib 是Google于18年7月发布的一个针对Java应用的构建镜像的工具(支持Maven和Gradle) ，好处是能够复用构建缓存，能够加快构建，减小传输体积（后文会详细讲解），并且让Java工程师不需要理解Docker相关知识就可以简单构建镜像并且发布到指定registry里（不需要docker build , tag, push）</p>
</blockquote>
<blockquote>
<p>项目地址: <a target="_blank" rel="noopener" href="https://github.com/hacker-and-painter/springboot-jib-docker">https://github.com/hacker-and-painter/springboot-jib-docker</a></p>
</blockquote>
<h2 id="运行效果"><a href="#运行效果" class="headerlink" title="运行效果"></a>运行效果</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull gaohanghang/springboot-jib-docker</span><br><span class="line"></span><br><span class="line">docker run -p 8080:8080 -t gaohanghang/springboot-jib-docker</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190715231430.png"></p>
<h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><ol>
<li>dockerhub中创建Repository</li>
</ol>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190715231800.png"></p>
<ol start="2">
<li>创建springboot项目，添加HelloController.java</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>pom.xml中添加jib plugin</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;plugin&gt;</span><br><span class="line">    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.3.0&lt;/version&gt;</span><br><span class="line">    &lt;configuration&gt;</span><br><span class="line">        &lt;from&gt;</span><br><span class="line">            &lt;!--base image--&gt;</span><br><span class="line">            &lt;image&gt;openjdk:alpine&lt;/image&gt;</span><br><span class="line">        &lt;/from&gt;</span><br><span class="line">        &lt;to&gt;</span><br><span class="line">            &lt;!--&lt;image&gt;registry.cn-hangzhou.aliyuncs.com/m65536/jibtest&lt;/image&gt;--&gt;</span><br><span class="line">            &lt;!--目标镜像registry地址，为了方便测试，你需要换成自己的地址，如果你的网络不好，可以选用国内加速器，比如阿里云的--&gt;</span><br><span class="line">            &lt;image&gt;registry.hub.docker.com/gaohanghang/springboot-jib-docker&lt;/image&gt;</span><br><span class="line">        &lt;/to&gt;</span><br><span class="line">    &lt;/configuration&gt;</span><br><span class="line">    &lt;executions&gt;</span><br><span class="line">        &lt;execution&gt;</span><br><span class="line">            &lt;phase&gt;package&lt;/phase&gt;</span><br><span class="line">            &lt;goals&gt;</span><br><span class="line">                &lt;goal&gt;build&lt;/goal&gt;</span><br><span class="line">            &lt;/goals&gt;</span><br><span class="line">        &lt;/execution&gt;</span><br><span class="line">    &lt;/executions&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>将<code>&lt;image&gt;registry.hub.docker.com/gaohanghang/springboot-jib-docker&lt;/image&gt;</code>中的gaohanghang&#x2F;springboot-jib-docker修改为你在dockerhub中创建的Repository</p>
</li>
<li><p>使用maven package打包项目，jib会自动构建镜像到dockerhub</p>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190715232421.png"></p>
<ol start="6">
<li>拉取镜像并运行</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull gaohanghang/springboot-jib-docker</span><br><span class="line"></span><br><span class="line">docker run -p 8080:8080 -t gaohanghang/springboot-jib-docker</span><br></pre></td></tr></table></figure>

<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5b4e9c316fb9a04fa01d39d6">Jib构建你的第一个java镜像</a><br><a target="_blank" rel="noopener" href="https://www.infoq.cn/article/2018/07/google-opensource-Jib">谷歌开源 Java 镜像构建工具 Jib</a><br><a href="%5Bhttps://juejin.im/post/5c60c021f265da2dd37bf85b%5D()">加速和简化构建Docker(基于Google jib)</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/springboot/" rel="tag">springboot</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-使用vue2-0实现购物车和地址选配功能"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/15/%E4%BD%BF%E7%94%A8vue2-0%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%92%8C%E5%9C%B0%E5%9D%80%E9%80%89%E9%85%8D%E5%8A%9F%E8%83%BD/"
    >使用vue2.0实现购物车和地址选配功能</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/15/%E4%BD%BF%E7%94%A8vue2-0%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%92%8C%E5%9C%B0%E5%9D%80%E9%80%89%E9%85%8D%E5%8A%9F%E8%83%BD/" class="article-date">
  <time datetime="2019-07-15T11:01:22.000Z" itemprop="datePublished">2019-07-15</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="第1章-课程介绍"><a href="#第1章-课程介绍" class="headerlink" title="第1章 课程介绍"></a>第1章 课程介绍</h2><h3 id="1-1-Vue基础知识介绍"><a href="#1-1-Vue基础知识介绍" class="headerlink" title="1-1 Vue基础知识介绍"></a>1-1 Vue基础知识介绍</h3><h4 id="1-Vue基础知识介绍"><a href="#1-Vue基础知识介绍" class="headerlink" title="1. Vue基础知识介绍"></a>1. Vue基础知识介绍</h4><p><strong>易用</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190715193311.png"></p>
<p><strong>灵活 - 渐进式</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190715191128.png"></p>
<p><strong>高效</strong></p>
<ul>
<li><p>16kb min+gzip 的运行大小</p>
</li>
<li><p>超快虚拟 DOM</p>
</li>
<li><p>最省心的优化</p>
</li>
</ul>
<h4 id="2-Vue基础指令介绍"><a href="#2-Vue基础指令介绍" class="headerlink" title="2. Vue基础指令介绍"></a>2. Vue基础指令介绍</h4><p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190715192645.png"></p>
<ul>
<li>指令的使用: v-model v-text v-show v-if v-bind v-for</li>
<li>过滤器filter(对接口获得的数据做业务转换)</li>
<li>组件Component</li>
</ul>
<h2 id="第2章-创建Vue实例"><a href="#第2章-创建Vue实例" class="headerlink" title="第2章 创建Vue实例"></a>第2章 创建Vue实例</h2><h3 id="2-1-创建Vue实例"><a href="#2-1-创建Vue实例" class="headerlink" title="2-1 创建Vue实例"></a>2-1 创建Vue实例</h3> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-《微习惯》读书笔记"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/13/%E3%80%8A%E5%BE%AE%E4%B9%A0%E6%83%AF%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"
    >《微习惯》读书笔记</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/13/%E3%80%8A%E5%BE%AE%E4%B9%A0%E6%83%AF%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2019-07-13T10:43:58.000Z" itemprop="datePublished">2019-07-13</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190714111111.png"></p>
<p>豆瓣地址 <a target="_blank" rel="noopener" href="https://book.douban.com/subject/26877306/">https://book.douban.com/subject/26877306/</a></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190714114303.png"></p>
<blockquote>
<p>1天一个俯卧撑-1天一页书-1天50字 | 每天只做一点点的无负担习惯养成法</p>
</blockquote>
<blockquote>
<p>一生二，二生三，三生万物</p>
</blockquote>
<h2 id="第1章-微习惯是什么"><a href="#第1章-微习惯是什么" class="headerlink" title="第1章　微习惯是什么"></a>第1章　微习惯是什么</h2><p>微习惯就是你强迫自己每天做的微不足道的积极行为</p>
<p>一个行为变成习惯所需的时间平均为66天</p>
<h2 id="第2章-大脑的工作原理"><a href="#第2章-大脑的工作原理" class="headerlink" title="第2章　大脑的工作原理"></a>第2章　大脑的工作原理</h2><blockquote>
<p>大脑是我的一切，华生，身体只是附件而已。</p>
<p>—— 阿瑟 · 柯南 · 道儿</p>
</blockquote>
<p>大脑分为主动与被动部分(即意识和潜意识部分)</p>
<p>前额皮层控制意识部分，基底神经节控制潜意识部分</p>
<h2 id="第3章-动力-v-s-意志力"><a href="#第3章-动力-v-s-意志力" class="headerlink" title="第3章　动力 v.s. 意志力"></a>第3章　动力 v.s. 意志力</h2><h3 id="激发动力策略的诸多问题"><a href="#激发动力策略的诸多问题" class="headerlink" title="激发动力策略的诸多问题"></a>激发动力策略的诸多问题</h3><ul>
<li>动力并不可靠</li>
<li>你不会每次都激发动力</li>
<li>有人习惯性的认为动力是行动的唯一基础</li>
<li>“热情递减法则” 是动力让我们失败的原因</li>
</ul>
<h3 id="为什么意志力能打败动力"><a href="#为什么意志力能打败动力" class="headerlink" title="为什么意志力能打败动力"></a>为什么意志力能打败动力</h3><ul>
<li>意志力可靠</li>
<li>意志力可以被强化</li>
<li>意志力策略可以通过计划执行</li>
</ul>
<h3 id="意志力的工作原理"><a href="#意志力的工作原理" class="headerlink" title="意志力的工作原理"></a>意志力的工作原理</h3><ol>
<li><p>做决定会消耗意志力</p>
</li>
<li><p>意志力元分析</p>
<p>自我损耗的5个最重要因素</p>
<ul>
<li>努力程度</li>
<li>感知难度</li>
<li>消极情绪</li>
<li>主观疲劳</li>
<li>血糖水平</li>
</ul>
</li>
</ol>
<p><strong>小结</strong></p>
<ul>
<li>我们使用动力或意志力开启新的(非习惯)行为的</li>
<li>动力不可靠，所以不能充当建立习惯的策略</li>
<li>意志力可靠，但前提是你没有把它耗尽</li>
<li>引起一直损耗的5个主要因素：努力程度、感知程度、消息情绪、主观疲劳和血糖水平</li>
<li>如果我们能成功克服这个5项障碍，我们就应该能走向成功</li>
</ul>
<h2 id="第4章-微习惯策略"><a href="#第4章-微习惯策略" class="headerlink" title="第4章　微习惯策略"></a>第4章　微习惯策略</h2><blockquote>
<p>塑造你生活的不是你偶尔做的一两件事，而是你一贯坚持做的事。</p>
<p>—— 安东尼 · 罗宾</p>
</blockquote>
<h3 id="以微习惯方式运用意志力"><a href="#以微习惯方式运用意志力" class="headerlink" title="以微习惯方式运用意志力"></a>以微习惯方式运用意志力</h3><h4 id="努力程度"><a href="#努力程度" class="headerlink" title="努力程度"></a>努力程度</h4><p>微习惯只需要非常少的努力</p>
<h4 id="感知难度"><a href="#感知难度" class="headerlink" title="感知难度"></a>感知难度</h4><p>不会感到困难</p>
<h4 id="消极情绪"><a href="#消极情绪" class="headerlink" title="消极情绪"></a>消极情绪</h4><p>微习惯不会感觉到任何消极情绪</p>
<h4 id="主观疲劳"><a href="#主观疲劳" class="headerlink" title="主观疲劳"></a>主观疲劳</h4><p>主观疲劳无法消除，但是微习惯可以有效缓解主观疲劳</p>
<h4 id="血糖水平"><a href="#血糖水平" class="headerlink" title="血糖水平"></a>血糖水平</h4><p>虽然血糖水平和微习惯相互独立，但微习惯的确会节约能力和意志力，而且会在心理上不断给予你能量</p>
<h3 id="微习惯如何拓宽你的舒适区"><a href="#微习惯如何拓宽你的舒适区" class="headerlink" title="微习惯如何拓宽你的舒适区"></a>微习惯如何拓宽你的舒适区</h3><p>一小步 + 想做的事 &#x3D; 较高的进一步的可能性</p>
<h3 id="出现阻力的两个时间节点"><a href="#出现阻力的两个时间节点" class="headerlink" title="出现阻力的两个时间节点"></a>出现阻力的两个时间节点</h3><h4 id="行动前的阻力"><a href="#行动前的阻力" class="headerlink" title="行动前的阻力"></a>行动前的阻力</h4><h4 id="继续行动时面对的阻力"><a href="#继续行动时面对的阻力" class="headerlink" title="继续行动时面对的阻力"></a>继续行动时面对的阻力</h4><h3 id="跨域障碍的微习惯"><a href="#跨域障碍的微习惯" class="headerlink" title="跨域障碍的微习惯"></a>跨域障碍的微习惯</h3><h4 id="精神障碍-你有锻炼的经历，却不想锻炼"><a href="#精神障碍-你有锻炼的经历，却不想锻炼" class="headerlink" title="精神障碍: 你有锻炼的经历，却不想锻炼"></a>精神障碍: 你有锻炼的经历，却不想锻炼</h4><h4 id="身体障碍-因为很累，所以你的身体并不想锻炼"><a href="#身体障碍-因为很累，所以你的身体并不想锻炼" class="headerlink" title="身体障碍: 因为很累，所以你的身体并不想锻炼"></a>身体障碍: 因为很累，所以你的身体并不想锻炼</h4><p>如果连渺小的习惯目标都无法实现，这多让人无地自容</p>
<blockquote>
<p>把微习惯融入生活</p>
</blockquote>
<h2 id="第5章-微习惯的独特之处"><a href="#第5章-微习惯的独特之处" class="headerlink" title="第5章　微习惯的独特之处"></a>第5章　微习惯的独特之处</h2><blockquote>
<p>是故胜兵先胜而后求战，败兵先战而后求胜</p>
</blockquote>
<h3 id="微习惯能与现有习惯一较高下"><a href="#微习惯能与现有习惯一较高下" class="headerlink" title="微习惯能与现有习惯一较高下"></a>微习惯能与现有习惯一较高下</h3><p>大脑会抗拒大幅度的改变</p>
<p>微习惯就像消耗很低的特洛伊木马</p>
<h3 id="微步骤-意志力是必胜组合"><a href="#微步骤-意志力是必胜组合" class="headerlink" title="微步骤 + 意志力是必胜组合"></a>微步骤 + 意志力是必胜组合</h3><h3 id="微习惯没有截止时间"><a href="#微习惯没有截止时间" class="headerlink" title="微习惯没有截止时间"></a>微习惯没有截止时间</h3><h3 id="微习惯能提升自我效能感"><a href="#微习惯能提升自我效能感" class="headerlink" title="微习惯能提升自我效能感"></a>微习惯能提升自我效能感</h3><p>微习惯策略是一个产出自我效能感的机器</p>
<h3 id="微习惯能给予你自主权"><a href="#微习惯能给予你自主权" class="headerlink" title="微习惯能给予你自主权"></a>微习惯能给予你自主权</h3><p>完成微习惯后，你就可以自由选择做自己想做的事情</p>
<h3 id="抽象和具体目标与微习惯相结合"><a href="#抽象和具体目标与微习惯相结合" class="headerlink" title="抽象和具体目标与微习惯相结合"></a>抽象和具体目标与微习惯相结合</h3><p>微习惯能促进抽象目标和具体目标的进展</p>
<h3 id="远离恐惧、怀疑、胆怯或犹豫"><a href="#远离恐惧、怀疑、胆怯或犹豫" class="headerlink" title="远离恐惧、怀疑、胆怯或犹豫"></a>远离恐惧、怀疑、胆怯或犹豫</h3><p>行动是征服这些消极情绪的最佳武器</p>
<h3 id="微习惯增强正念和意志力，给你超乎想象的惊喜"><a href="#微习惯增强正念和意志力，给你超乎想象的惊喜" class="headerlink" title="微习惯增强正念和意志力，给你超乎想象的惊喜"></a>微习惯增强正念和意志力，给你超乎想象的惊喜</h3><h2 id="第6章-彻底改变只需八步"><a href="#第6章-彻底改变只需八步" class="headerlink" title="第6章　彻底改变只需八步"></a>第6章　彻底改变只需八步</h2><blockquote>
<p>一个得不到执行的念头只会消亡</p>
<p>—— 罗杰 · 冯 · 欧克</p>
</blockquote>
<h3 id="第1步-选择适合你的微习惯和计划"><a href="#第1步-选择适合你的微习惯和计划" class="headerlink" title="第1步: 选择适合你的微习惯和计划"></a>第1步: 选择适合你的微习惯和计划</h3><h4 id="一周弹性计划-推荐"><a href="#一周弹性计划-推荐" class="headerlink" title="一周弹性计划(推荐)"></a>一周弹性计划(推荐)</h4><h4 id="单一微计划"><a href="#单一微计划" class="headerlink" title="单一微计划"></a>单一微计划</h4><h4 id="多项微计划"><a href="#多项微计划" class="headerlink" title="多项微计划"></a>多项微计划</h4><h4 id="把你的微计划变成”小的不可思议的一小步”"><a href="#把你的微计划变成”小的不可思议的一小步”" class="headerlink" title="把你的微计划变成”小的不可思议的一小步”"></a>把你的微计划变成”小的不可思议的一小步”</h4><h4 id="如何培养每周微习惯"><a href="#如何培养每周微习惯" class="headerlink" title="如何培养每周微习惯"></a>如何培养每周微习惯</h4><h3 id="第2步-挖掘每个微习惯的内在价值"><a href="#第2步-挖掘每个微习惯的内在价值" class="headerlink" title="第2步: 挖掘每个微习惯的内在价值"></a>第2步: 挖掘每个微习惯的内在价值</h3><h4 id="用”为什么”找到源头"><a href="#用”为什么”找到源头" class="headerlink" title="用”为什么”找到源头"></a>用”为什么”找到源头</h4><h3 id="第3步-明确习惯依据，将其纳入日程"><a href="#第3步-明确习惯依据，将其纳入日程" class="headerlink" title="第3步: 明确习惯依据，将其纳入日程"></a>第3步: 明确习惯依据，将其纳入日程</h3><p>培养习惯的依据有两种: 时间和行为方式</p>
<h4 id="自由度高德非具体习惯"><a href="#自由度高德非具体习惯" class="headerlink" title="自由度高德非具体习惯"></a>自由度高德非具体习惯</h4><p>把上床睡觉作为一天结束的标志</p>
<h4 id="决策时刻"><a href="#决策时刻" class="headerlink" title="决策时刻"></a>决策时刻</h4><p>带有一项依据的微习惯成功率会更高</p>
<h3 id="第4步-建立回报机制，以奖励提升成就感"><a href="#第4步-建立回报机制，以奖励提升成就感" class="headerlink" title="第4步: 建立回报机制，以奖励提升成就感"></a>第4步: 建立回报机制，以奖励提升成就感</h3><h4 id="回报关联"><a href="#回报关联" class="headerlink" title="回报关联"></a>回报关联</h4><p>大笑会释放出让你心情变好的化学物质，可以看些搞笑视频来</p>
<p>微习惯建立在享受和巧用微小成就感的基础上</p>
<h4 id="回报策略"><a href="#回报策略" class="headerlink" title="回报策略"></a>回报策略</h4><p>成功会带来更多成功</p>
<h4 id="回报对意志力测重建作用"><a href="#回报对意志力测重建作用" class="headerlink" title="回报对意志力测重建作用"></a>回报对意志力测重建作用</h4><h3 id="第5步-记录与追踪完成情况"><a href="#第5步-记录与追踪完成情况" class="headerlink" title="第5步: 记录与追踪完成情况"></a>第5步: 记录与追踪完成情况</h3><h4 id="大日历-推荐"><a href="#大日历-推荐" class="headerlink" title="大日历(推荐)"></a>大日历(推荐)</h4><h4 id="数字化追踪"><a href="#数字化追踪" class="headerlink" title="数字化追踪"></a>数字化追踪</h4><ul>
<li>Lift</li>
<li>Habit Streak Pian</li>
<li>Joes Goals</li>
<li>Goals On Track</li>
</ul>
<h3 id="第6步-微量开始，超额完成"><a href="#第6步-微量开始，超额完成" class="headerlink" title="第6步: 微量开始，超额完成"></a>第6步: 微量开始，超额完成</h3><h4 id="强化意志力的微习惯"><a href="#强化意志力的微习惯" class="headerlink" title="强化意志力的微习惯"></a>强化意志力的微习惯</h4><h4 id="带来进步的微习惯"><a href="#带来进步的微习惯" class="headerlink" title="带来进步的微习惯"></a>带来进步的微习惯</h4><p>A. 微习惯超额环节</p>
<p>B. 微习惯安全网(培养实实在在的微习惯)</p>
<h4 id="减轻意志力损耗的微习惯"><a href="#减轻意志力损耗的微习惯" class="headerlink" title="减轻意志力损耗的微习惯"></a>减轻意志力损耗的微习惯</h4><h3 id="第7步-服从计划安排，拜托高期待值"><a href="#第7步-服从计划安排，拜托高期待值" class="headerlink" title="第7步: 服从计划安排，拜托高期待值"></a>第7步: 服从计划安排，拜托高期待值</h3><h3 id="第8步-微习惯养成的标志"><a href="#第8步-微习惯养成的标志" class="headerlink" title="第8步: 微习惯养成的标志"></a>第8步: 微习惯养成的标志</h3><ul>
<li>没有抵触情绪</li>
<li>身份</li>
<li>行动无需考虑</li>
<li>你不再担心了</li>
<li>常态化</li>
<li>它很无聊</li>
</ul>
<h4 id="对超额完成任务的态度"><a href="#对超额完成任务的态度" class="headerlink" title="对超额完成任务的态度"></a>对超额完成任务的态度</h4><p>超额完成了任务，你很了不起</p>
<p>没有超额完成任务，你还是很了不起</p>
<h2 id="第7章-微习惯策略的八大规则"><a href="#第7章-微习惯策略的八大规则" class="headerlink" title="第7章　微习惯策略的八大规则"></a>第7章　微习惯策略的八大规则</h2><h3 id="1-绝不要自欺欺人"><a href="#1-绝不要自欺欺人" class="headerlink" title="1. 绝不要自欺欺人"></a>1. 绝不要自欺欺人</h3><p> 不要调高期待值</p>
<h3 id="2-满意每一个进步"><a href="#2-满意每一个进步" class="headerlink" title="2. 满意每一个进步"></a>2. 满意每一个进步</h3><p>微习惯是一种行动优于动力的生活哲理</p>
<p>要满意，但别满足</p>
<h3 id="3-经常回报自己，尤其在完成微习惯之后"><a href="#3-经常回报自己，尤其在完成微习惯之后" class="headerlink" title="3. 经常回报自己，尤其在完成微习惯之后"></a>3. 经常回报自己，尤其在完成微习惯之后</h3><p>回报也能给你回报</p>
<h3 id="4-保持头脑清醒"><a href="#4-保持头脑清醒" class="headerlink" title="4. 保持头脑清醒"></a>4. 保持头脑清醒</h3><p>要力求维持冷静的思维模式并信任你选择的策略</p>
<h3 id="5-感到强烈抵触时，后退一步并缩小目标"><a href="#5-感到强烈抵触时，后退一步并缩小目标" class="headerlink" title="5. 感到强烈抵触时，后退一步并缩小目标"></a>5. 感到强烈抵触时，后退一步并缩小目标</h3><h3 id="6-提醒自己这件事很轻松"><a href="#6-提醒自己这件事很轻松" class="headerlink" title="6. 提醒自己这件事很轻松"></a>6. 提醒自己这件事很轻松</h3><h3 id="7-绝不要小看微步骤"><a href="#7-绝不要小看微步骤" class="headerlink" title="7. 绝不要小看微步骤"></a>7. 绝不要小看微步骤</h3><h3 id="8-用多余精力超额完成任务，而不是制定更大目标"><a href="#8-用多余精力超额完成任务，而不是制定更大目标" class="headerlink" title="8. 用多余精力超额完成任务，而不是制定更大目标"></a>8. 用多余精力超额完成任务，而不是制定更大目标</h3> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-联合索引的最左前缀匹配原则"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/13/%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95%E7%9A%84%E6%9C%80%E5%B7%A6%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D%E5%8E%9F%E5%88%99/"
    >联合索引的最左前缀匹配原则</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/13/%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95%E7%9A%84%E6%9C%80%E5%B7%A6%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D%E5%8E%9F%E5%88%99/" class="article-date">
  <time datetime="2019-07-13T03:39:30.000Z" itemprop="datePublished">2019-07-13</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>作者：Jokerone_</p>
<p>链接：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/b7911e0394b0">https://www.jianshu.com/p/b7911e0394b0</a></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `user2` (</span><br><span class="line">  `userid` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `username` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  `password` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  `usertype` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`userid`),</span><br><span class="line">  KEY `a_b_c_index` (`username`,`password`,`usertype`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">2</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure>

<p>上表中有一个联合索引，下面开始验证最左匹配原则。<br> 当存在username时会使用索引查询：</p>
<p>上表中有一个联合索引，下面开始验证最左匹配原则。<br>当存在username时会使用索引查询：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> user2 <span class="keyword">where</span> username <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> password <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190713114237.png"></p>
<p>当没有username时，不会使用索引查询：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> user2 <span class="keyword">where</span> password <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190713114306.png"></p>
<p>当有username，但顺序乱序时也可以使用索引：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> user2 <span class="keyword">where</span> password <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> username <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190713114326.png"></p>
<p>在最左匹配原则中，有如下说明：</p>
<ol>
<li><p>最左前缀匹配原则，非常重要的原则，mysql会一直向右匹配直到遇到范围查询(&gt;、&lt;、between、like)就停止匹配，比如a &#x3D; 1 and b &#x3D; 2 and c &gt; 3 and d &#x3D; 4 如果建立(a,b,c,d)顺序的索引，d是用不到索引的，如果建立(a,b,d,c)的索引则都可以用到，a,b,d的顺序可以任意调整。</p>
</li>
<li><p>&#x3D;和in可以乱序，比如a &#x3D; 1 and b &#x3D; 2 and c &#x3D; 3 建立(a,b,c)索引可以任意顺序，mysql的查询优化器会帮你优化成索引可以识别的形式</p>
</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Java-访问权限控制：你真的了解-protected-关键字吗？"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/12/Java-%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%EF%BC%9A%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3-protected-%E5%85%B3%E9%94%AE%E5%AD%97%E5%90%97%EF%BC%9F/"
    >Java 访问权限控制：你真的了解 protected 关键字吗？</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/12/Java-%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%EF%BC%9A%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3-protected-%E5%85%B3%E9%94%AE%E5%AD%97%E5%90%97%EF%BC%9F/" class="article-date">
  <time datetime="2019-07-12T11:02:47.000Z" itemprop="datePublished">2019-07-12</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p><strong>版权声明：</strong></p>
<p>本文原创作者：<a target="_blank" rel="noopener" href="http://my.csdn.net/justloveyou_">书呆子Rico</a><br>作者博客地址：<a target="_blank" rel="noopener" href="http://blog.csdn.net/justloveyou_/">http://blog.csdn.net/justloveyou_&#x2F;</a></p>
</blockquote>
<p>摘要：</p>
<p>　　对于类的成员而言，其能否被其他类所访问，取决于该成员的修饰词；而对于一个类而言，其能否被其他类所访问，也取决于该类的修饰词。在Java中，类成员访问权限修饰词有四类：private，无（包访问权限），protected 和 public，而其中只有包访问权限和public才能修饰一个类（内部类除外）。特别地，很多Java书籍对protected可见性的介绍都比较笼统，本文重点说明了protected关键字的可见性内涵，并介绍了一些其他的修饰符。</p>
<h2 id="一-Package"><a href="#一-Package" class="headerlink" title="一. Package"></a>一. Package</h2><p>　关于包的使用，只需注意一点：在一个项目中，不可以有相同的两个包名，也就是说，包名不能和项目中其他的包名重复，这里不但包括自定义包名也包括项目所引用的类库的包名。看下面例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyObject</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException &#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">        System.out.println(o.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　我们给自己的程序设置的包名是java.lang，事实上，java.lang是JDK使用的包名。这时，程序可以正常编译，但当我们运行程序时会有包冲突警告并抛出 “java.lang.SecurityException: Prohibited package name: java.lang”，如下图所示:</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190712190554.png"></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190712190611.png"></p>
<p>　此外，我们需要注意：在程序中，package语句必须是文件中除注释外第一句程序代码，否则不能通过编译。</p>
<h2 id="二-Java访问权限概述"><a href="#二-Java访问权限概述" class="headerlink" title="二. Java访问权限概述"></a>二. Java访问权限概述</h2><p>　　 对于一个类，其成员（包括成员变量和成员方法）能否被其他类所访问，取决于该成员的修饰词。在Java中，类成员的访问权限修饰词有四个：private，无（包访问权限），protected 和 public，其权限控制如下表所示：</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190712190656.png"></p>
<p>　　特别要注意的是，不同于类成员的访问权限类别，对于非内部类而言，类的访问权限修饰词仅有public和包访问权限两种（内部类可以是private或protected的，关于内部类进一步了解请见我的博客《Java 内部类综述》）。特别地，如果你不希望其他任何人对该类拥有访问权，你可以把所有的构造器都指定为private的，从而阻止任何人创建该类的对象。这个时候，该类的对象就只能在其static成员内部进行创建，这种情形有点像单例模式，例如像下面的例子那样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">       <span class="comment">// private Constructor!</span></span><br><span class="line">       <span class="keyword">private</span> <span class="title function_">Test</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">       <span class="comment">// Allow creation via static method:</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">static</span> Test <span class="title function_">getTest</span><span class="params">()</span> &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure> 
      <a class="article-more-link" href="/2019/07/12/Java-%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%EF%BC%9A%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3-protected-%E5%85%B3%E9%94%AE%E5%AD%97%E5%90%97%EF%BC%9F/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-用了-Lambda-之后，发现可以忘记设计模式了"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/12/%E7%94%A8%E4%BA%86-Lambda-%E4%B9%8B%E5%90%8E%EF%BC%8C%E5%8F%91%E7%8E%B0%E5%8F%AF%E4%BB%A5%E5%BF%98%E8%AE%B0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%BA%86/"
    >用了 Lambda 之后，发现可以忘记设计模式了</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/12/%E7%94%A8%E4%BA%86-Lambda-%E4%B9%8B%E5%90%8E%EF%BC%8C%E5%8F%91%E7%8E%B0%E5%8F%AF%E4%BB%A5%E5%BF%98%E8%AE%B0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%BA%86/" class="article-date">
  <time datetime="2019-07-12T10:30:22.000Z" itemprop="datePublished">2019-07-12</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址: <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/Xj4wjzfVkFJz8HWKahjmhA">https://mp.weixin.qq.com/s/Xj4wjzfVkFJz8HWKahjmhA</a></p>
</blockquote>
<p>设计模式是过去的一些好的经验和套路的总结，但是好的语言特性可以让开发者不去考虑这些设计模式。面向对象常见的设计模式有策略模式、模板方法、观察者模式、责任链模式以及工厂模式，使用Lambda表达式（函数式编程思维）有助于避免面向对象开发中的那些固定代码。下面挑选了策略模式和职责链模式两个案例进行分析。</p>
<h2 id="案例1：策略模式"><a href="#案例1：策略模式" class="headerlink" title="案例1：策略模式"></a>案例1：策略模式</h2><p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190712183208.png"></p>
<p>当我们解决一个问题有不同的解法的时候，又不希望客户感知到这些解法的细节，这种情况下适合使用策略模式。策略模式包括三个部分：</p>
<ul>
<li>解决问题的算法（上图中的Strategy）；</li>
<li>一个或多个该类算法的具体实现（上图中的ConcreteStrategyA、ConcreteStrategyB和ConcreteStrategyC）</li>
<li>一个或多个客户使用场景（上图中的ClientContext）</li>
</ul>
<h3 id="面向对象思路"><a href="#面向对象思路" class="headerlink" title="面向对象思路"></a>面向对象思路</h3><p>首先定义策略接口，表示字符串的处理算法：</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190713114605.png"></p>
<p>然后定义具体的实现类，即不同的验证算法：</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190713114625.png"></p>
<p>最后定义客户使用场景，代码如下图所示。Validator是为客户提供服务时使用的上下文环境，每个Valiator对象中都封装了具体的Strategy对象，在实际工作中，我们可以通过更换具体的Strategy对象来进行客户服务的升级，而且不需要让客户进行升级。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190713114658.png"></p>
<h3 id="函数式编程思路"><a href="#函数式编程思路" class="headerlink" title="函数式编程思路"></a>函数式编程思路</h3><p>如果使用Lambda表达式考虑，你会发现ValidationStrategy就是一个函数接口（还与Predicate具有同样的函数描述），那么就不需要定义上面那些实现类了，可以直接用下面的代码替换，原因是Lambda表达式内部已经对这些类进行了一定的封装。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190714114412.png"></p>
<h2 id="案例2：责任链模式"><a href="#案例2：责任链模式" class="headerlink" title="案例2：责任链模式"></a>案例2：责任链模式</h2><p>在某些场景下，需要对一个对象做一系列的工作，这些工作分别是由不同的类完成的，这时候就比较适合使用责任链模式。责任链模式的主要组成部分包括三个：</p>
<ul>
<li>管理操作序列的抽象类，在该抽象类里有会有一个对象记录当前对象的后继操作对象；</li>
<li>一些具体的操作对象，这些操作对象会以一个链表的形式组织起来</li>
<li>一个使用该模式的客户端组件，该组件只需要跟一个组件打交道就好，不需要跟很多个操作对象耦合在一起。</li>
</ul>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190714114433.png"></p>
<h3 id="面向对象思路-1"><a href="#面向对象思路-1" class="headerlink" title="面向对象思路"></a>面向对象思路</h3><p>首先看下我们这里定义了一个抽象类ProcessingObject，其中successor字段用于管理该对象的后继操作对象；handle接口作为对外提供服务的接口；handleWork作为实际处理对象的操作方法。</p> 
      <a class="article-more-link" href="/2019/07/12/%E7%94%A8%E4%BA%86-Lambda-%E4%B9%8B%E5%90%8E%EF%BC%8C%E5%8F%91%E7%8E%B0%E5%8F%AF%E4%BB%A5%E5%BF%98%E8%AE%B0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%BA%86/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/22/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><a class="page-number" href="/page/25/">25</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/24/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2023
        <i class="ri-heart-fill heart_icon"></i> 高行行
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="高行行的个人博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://gaohanghang.lofter.com">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/twitter">Twitter</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://weibo.com/u/5125203090">微博</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>