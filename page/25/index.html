<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="个人公众号《骇客与画家》" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 高行行的个人博客</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/Shen-Yu/hexo-theme-ayer"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">高行行的个人博客</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '科技需要人文的浇灌', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  <ul class="ads">
    
        <li>
            <a target="_blank" rel="noopener" href="https://curl.qcloud.com/kvO7hb43">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5ccc.jpg" width="300" alt="云服务器限时秒杀">
            </a>
        </li>
    
        <li>
            <a target="_blank" rel="noopener" href="https://www.vultr.com/?ref=8630075">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5cd7.png" width="300" alt="vultr优惠vps">
            </a>
        </li>
    
</ul>
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-品Spring：bean定义上梁山"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/05/%E5%93%81Spring%EF%BC%9Abean%E5%AE%9A%E4%B9%89%E4%B8%8A%E6%A2%81%E5%B1%B1/"
    >品Spring：bean定义上梁山</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/05/%E5%93%81Spring%EF%BC%9Abean%E5%AE%9A%E4%B9%89%E4%B8%8A%E6%A2%81%E5%B1%B1/" class="article-date">
  <time datetime="2019-07-05T12:04:31.000Z" itemprop="datePublished">2019-07-05</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文链接 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/FDtjJrPMgciM_W7vUpNVbg">品Spring：bean定义上梁山</a></p>
</blockquote>
<h2 id="技术不枯燥，先来点闲聊"><a href="#技术不枯燥，先来点闲聊" class="headerlink" title="技术不枯燥，先来点闲聊"></a>技术不枯燥，先来点闲聊</h2><p>先说点好事高兴一下。前段时间看新闻说，我国正式的空间站建设已在进行当中。下半年，长征五号B运载火箭将在海南文昌航天发射场择机将空间站核心舱发射升空。预计用2到3年将空间站建好。</p>
<p>虽然到时你们不让我上去，不过我也为这件事出不了什么力，算扯平了。哈哈，但是我还是会衷心的祝福你。</p>
<p>长征五号火箭首次采用5米大直径的箭体结构，总加注量达到780吨，起飞时共有10台发动机产生1078吨的推力，具备近地轨道25吨、地球同步转移轨道14吨的运载能力。</p>
<p>不要误会，本文不是讲火箭的，关键我也讲不了呀。但是我们可以分析下火箭的特点。自身体积和重量非常大，内部结构与实现极其复杂。能够运送的物品与自身比起来微乎其微，关键这玩意老贵老贵了。</p>
<p>因此SpaceX推出的猎鹰可回收火箭，从一开始就受到了全世界的关注。回收之后可以被重新利用，不但缩短了火箭发射的周期，平均下来每次发射的成本也少了很多。享受同样的服务，花更少的钱，不是所有人的最爱嘛。</p>
<p>回到程序，其实现在大部分程序员，包括我自己在内都应该属于2.0或3.0版本的程序员，因为我们的职业生涯都是从Spring开始的。在Spring之前Java企业级应用开发标准其实是EJB（企业级JavaBean）。</p>
<p>EJB只是一个标准或规范，由各大服务提供商来实现。EJB非常笨重而且用起来也痛苦，关键还很贵。其实和火箭的性质一样，自身的负担太重。这个问题必须要解决。</p>
<p>因此，Elon Musk认识到了这点，就开始着手研制可回收火箭。在当时，Rod Johnson也认识到了EJB特点并深受其害，于是发明了Spring，轻量级、免费开源，慢慢就流行起来了。</p>
<p>看到了吧，在工作或生活中，凡是遇到苦逼的地方，就说明这也是一个极有可能产生大成功的地方。这个秘密我可是告诉诸位了，能不能成功就看你们的了。哈哈。</p>
<p>其实Spring现在也已经变得足够复杂了。</p>
<h2 id="要想渡人，必先渡己"><a href="#要想渡人，必先渡己" class="headerlink" title="要想渡人，必先渡己"></a><strong>要想渡人，必先渡己</strong></h2><p>易中天老师曾说过，能够制造工具标志着人类的诞生。目前人类建造的文明，哪一个是通过双手刨出来的，不都是通过工具建造出来的嘛。</p>
<p>比如我们盖高楼用的建材，不都是通过塔吊一点点吊上去的，随着建材的堆砌，楼越来越高。那么我们来思考一个问题，塔吊本身是如何上去的？</p>
<p>塔吊本身就是一个工具了，所以（一般情况下）不可能再有其它工具来帮它了。所以塔吊只能实现自我爬升，实际也是这样的，相信大多人都见过，速度很慢的。</p>
<p>我们都在用Windows操作系统，点点鼠标，敲敲键盘，用着很爽。但是在开发Windows系统本身时却是很苦逼的一件事。</p>
<p>我主要想表达两方面的意思：</p>
<p>如果有一天，我们能从工具的使用者变成设计者或制造者，那就厉害多了。</p>
<p>还有就是，一个工具在对外提供服务前，一定要解决好自身的搭建或构建问题。</p>
<p>Spring其实就是个工具，开发人员把业务代码写好后，把类作为bean注册到工具上，后续的运行时全部交由Spring这个工具接管，简直不要太爽。</p> 
      <a class="article-more-link" href="/2019/07/05/%E5%93%81Spring%EF%BC%9Abean%E5%AE%9A%E4%B9%89%E4%B8%8A%E6%A2%81%E5%B1%B1/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring/" rel="tag">spring</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-品Spring：帝国的基石"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/05/%E5%93%81Spring%EF%BC%9A%E5%B8%9D%E5%9B%BD%E7%9A%84%E5%9F%BA%E7%9F%B3/"
    >品Spring：帝国的基石</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/05/%E5%93%81Spring%EF%BC%9A%E5%B8%9D%E5%9B%BD%E7%9A%84%E5%9F%BA%E7%9F%B3/" class="article-date">
  <time datetime="2019-07-05T11:19:07.000Z" itemprop="datePublished">2019-07-05</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>来源：公众号【编程新说】</p>
<h2 id="序"><a href="#序" class="headerlink" title="序"></a><strong>序</strong></h2><p>生活是一杯酒，有时需要麻醉自己，才能够暂时忘却痛苦与不快。<br>生活是一杯茶，有时需要细细品味，才发现苦涩背后也会有甘甜。</p>
<p>Spring是一杯酒，一眼望不到边的官方文档，着实让人难以下咽。<br>Spring是一杯茶，在无边的源码中畅游之后，发现色相味道俱全。</p>
<p>高考状元是六月份的网红，Spring帝国是Java界的明星。<br>状元有自己的“武功秘籍”，Spring有自己的“帝国基石”。</p>
<p>请随本文一起，品Spring，寻找帝国的基石。</p>
<h2 id="帝国的基石"><a href="#帝国的基石" class="headerlink" title="帝国的基石"></a><strong>帝国的基石</strong></h2><p>无论是大到一个国家，或是小到一个个人，都有自己赖以存在的基石。这个基石就是核心支柱，就像经济基础支撑着上层建筑。</p>
<p>以BAT来说，百度的搜索，阿里的电商，腾讯的社交。可以说这是他们的立司之本，如果想在这些方面和他们PK，几乎没有胜算的可能。</p>
<p>Spring绝对是Java开发领域中一颗闪耀的明星，它的巨大光芒甚至一直在引领着Java的发展方向。</p>
<p>现在说它已经发展为一个帝国，应该不会有人站出来反对吧。嗯，站出来也没关系，本人不接受反对。哈哈。</p>
<p>那么有一个问题，请大家思考下，Spring帝国的基石是什么？</p>
<p>用过或了解Spring的人肯定都会说是IoC啦，AOP啦，声明式事务啦等等。只能说这些回答浮于表面，明显不走心啊。</p>
<p>好了，我来公布答案吧，这个帝国的基石，其实就是Bean。肯定会有人问，这个bean是什么东西啊，那就去看它的定义吧。对，就是Spring中的bean定义。</p>
<p>在Spring中，bean定义其实就是一个接口，即BeanDefinition。我在上一篇“毕业十年”的文章中说过，我们定义的类或接口其实都是对一种数据构成的描述，所以可以直接把类或接口看作是一种数据结构。</p>
<p>那么bean定义接口，就是一种数据结构，它记录了一个bean的全部信息，后期Spring对这个bean的所有操作都是建立在这些信息之上的。</p>
<p>如果对Spring不是很熟悉的朋友，听到“bean的全部信息”这句话会有点懵。不要担心，照例拿生活中我们熟悉的事物去做类比，争取让所有人都能明白。</p>
<p>在医疗行业，每个患者都会有一个病历，上面记录了患者家族病史，患者个人病史，都做过哪些检查以及检查结果，都做过哪些治疗以及恢复情况。还有大夫每次对患者的病情诊断与分析。</p>
<p>这些信息肯定是记录的越全面越好，后续的治疗方案都是依赖这些信息而制定的。Spring中bean的信息就对等于这里患者的病历信息。</p>
<p>在公安系统，每个嫌疑人也会有一个档案，上面记录了他的口供，作案信息或一些其它证据，同样这些信息搜集的越全面越好，后期法官的宣判与量刑也都依赖于它。</p>
<p>那么在这里，记录案件信息的档案，就可以对等于Spring中bean的信息。</p>
<p>相信通过这两个示例，你已经完全明白了这个bean信息的作用和地位。虽然到目前为止，你可能还真不知道它里面到底存储的是什么信息。但这不要紧，只要记住它非常重要就可以了。</p>
<p>趁着这个机会，再小小拓展一下：</p>
<p>这里的病历信息和档案信息里面记录的都是一些数据，所以可以认为它们对应于程序中的数据结构。</p>
<p>医生的治疗方案和法官的宣判，其实都是依赖这些数据做出的决定，因此可以认为它们对应于程序中的算法。</p>
<p>可见，数据结构决定着算法，或者说，算法是基于数据结构而设计的。</p>
<p>因此，可以说数据结构的重要性要大于算法。良好的数据结构能简化算法，不好的数据结构只能使算法变得更复杂。</p>
<h2 id="跟着变化走，把它当朋友"><a href="#跟着变化走，把它当朋友" class="headerlink" title="跟着变化走，把它当朋友"></a><strong>跟着变化走，把它当朋友</strong></h2><p>在上篇文章中提到过，唯一不变的就是变化，所以随着时间的推移，只需不断往这个数据结构中补充新的bean信息，Spring再利用这些补充信息去定义新的操作，以适应发展的需要。</p>
<p>就是这样，Spring一步一步成长为一个浩浩荡荡的帝国。就像我在上一遍文章中说的，类或接口这样的数据结构一定要进行精心设计，这样代码写起来会简单些，而且后期改起来也会容易些。</p> 
      <a class="article-more-link" href="/2019/07/05/%E5%93%81Spring%EF%BC%9A%E5%B8%9D%E5%9B%BD%E7%9A%84%E5%9F%BA%E7%9F%B3/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring/" rel="tag">spring</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-实体继承与-Builder注解共存"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/05/%E5%AE%9E%E4%BD%93%E7%BB%A7%E6%89%BF%E4%B8%8E-Builder%E6%B3%A8%E8%A7%A3%E5%85%B1%E5%AD%98/"
    >实体继承与@Builder注解共存</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/05/%E5%AE%9E%E4%BD%93%E7%BB%A7%E6%89%BF%E4%B8%8E-Builder%E6%B3%A8%E8%A7%A3%E5%85%B1%E5%AD%98/" class="article-date">
  <time datetime="2019-07-05T08:32:04.000Z" itemprop="datePublished">2019-07-05</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/lori/p/10266508.html">https://www.cnblogs.com/lori/p/10266508.html</a></p>
</blockquote>
<p>在面向对象的设计里，继承是非常必要的，我们会把共有的属性和方法抽象到父类中，由它统一去实现，而在进行lombok时代之后，更多的打法是使用@Builder来进行对象赋值，我们直接在类上加@Builder之后，我们的继承就被无情的屏蔽了，这主要是由于构造方法与父类冲突的问题导致的，事实上，<code>我们可以把@Builder注解加到子类的全参构造方法</code>上就可以了！</p>
<blockquote>
<p>下面做一个Jpa实体的例子</p>
</blockquote>
<h3 id="一个基类"><a href="#一个基类" class="headerlink" title="一个基类"></a>一个基类</h3><p>它一般有统一的id,createdOn,updatedOn等字段 ，在基类中统一去维护。</p>
<blockquote>
<p>注意：父类中的属性需要子数去访问，所以需要被声明为protected，如果是private，那在赋值时将是不被允许的。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@MappedSuperclass</span>是一个标识，不会生成这张数据表,子类的<span class="doctag">@Builder</span>注解需要加在重写的构造方法上.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@ToString(callSuper = true)</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@MappedSuperclass</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">EntityBase</span> &#123;</span><br><span class="line">  <span class="meta">@Id</span></span><br><span class="line">  <span class="meta">@GeneratedValue(strategy = GenerationType.AUTO)</span></span><br><span class="line">  <span class="keyword">protected</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, timezone = &quot;GMT+8&quot;)</span></span><br><span class="line">  <span class="meta">@Column(name = &quot;created_on&quot;)</span></span><br><span class="line">  <span class="keyword">protected</span> LocalDateTime createdOn;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, timezone = &quot;GMT+8&quot;)</span></span><br><span class="line">  <span class="meta">@Column(name = &quot;updated_on&quot;)</span></span><br><span class="line">  <span class="keyword">protected</span> LocalDateTime updatedOn;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Sets createdAt before insert</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@PrePersist</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCreationDate</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.createdOn = LocalDateTime.now();</span><br><span class="line">    <span class="built_in">this</span>.updatedOn = LocalDateTime.now();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Sets updatedAt before update</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@PreUpdate</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setChangeDate</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.updatedOn = LocalDateTime.now();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="一个实现类"><a href="#一个实现类" class="headerlink" title="一个实现类"></a>一个实现类</h3><blockquote>
<p>注意，需要重写全参数的构造方法，否则父数中的属性不能被赋值。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@ToString(callSuper = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestEntityBuilder</span> <span class="keyword">extends</span> <span class="title class_">EntityBase</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> String title;</span><br><span class="line">  <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Builder(toBuilder = true)</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">TestEntityBuilder</span><span class="params">(Long id, LocalDateTime createdOn, LocalDateTime updatedOn,</span></span><br><span class="line"><span class="params">                           String title, String description)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(id, createdOn, updatedOn);</span><br><span class="line">    <span class="built_in">this</span>.title = title;</span><br><span class="line">    <span class="built_in">this</span>.description = description;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 测试：在实体使用继承时，如何使用<span class="doctag">@Builder</span>注解.</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="meta">@Test</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertBuilderAndInherit</span><span class="params">()</span> &#123;</span><br><span class="line">   <span class="type">TestEntityBuilder</span> <span class="variable">testEntityBuilder</span> <span class="operator">=</span> TestEntityBuilder.builder()</span><br><span class="line">       .title(<span class="string">&quot;lind&quot;</span>)</span><br><span class="line">       .description(<span class="string">&quot;lind is @builder and inherit&quot;</span>)</span><br><span class="line">       .build();</span><br><span class="line">   testBuilderEntityRepository.save(testEntityBuilder);</span><br><span class="line">   <span class="type">TestEntityBuilder</span> <span class="variable">entity</span> <span class="operator">=</span> testBuilderEntityRepository.findById(</span><br><span class="line">       testEntityBuilder.getId()).orElse(<span class="literal">null</span>);</span><br><span class="line">   System.out.println(<span class="string">&quot;userinfo:&quot;</span> + entity.toString());</span><br><span class="line"></span><br><span class="line">   entity = entity.toBuilder().description(<span class="string">&quot;修改了&quot;</span>).build();</span><br><span class="line">   testBuilderEntityRepository.save(entity);</span><br><span class="line">   System.out.println(<span class="string">&quot;userinfo:&quot;</span> + entity.toString());</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jpa/" rel="tag">jpa</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Swagger-java-lang-NumberFormatException-For-input-string"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/05/Swagger-java-lang-NumberFormatException-For-input-string/"
    >Swagger java.lang.NumberFormatException:For input string:&#34;&#34; 解决办法</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/05/Swagger-java-lang-NumberFormatException-For-input-string/" class="article-date">
  <time datetime="2019-07-05T06:32:03.000Z" itemprop="datePublished">2019-07-05</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址 <a target="_blank" rel="noopener" href="https://doc.xiaominfo.com/guide/format-exception.html">https://doc.xiaominfo.com/guide/format-exception.html</a></p>
</blockquote>
<p>很多朋友在升级Springfox-Swagger到2.9.2版本后会碰见NumberFormatException异常<strong>java.lang.NumberFormatException: For input string: “”</strong></p>
<p>异常信息如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java.lang.NumberFormatException: For input string: <span class="string">&quot;&quot;</span></span><br><span class="line">	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:<span class="number">65</span>) ~[na:<span class="number">1.8</span><span class="number">.0_111</span>]</span><br><span class="line">	at java.lang.Long.parseLong(Long.java:<span class="number">601</span>) ~[na:<span class="number">1.8</span><span class="number">.0_111</span>]</span><br><span class="line">	at java.lang.Long.valueOf(Long.java:<span class="number">803</span>) ~[na:<span class="number">1.8</span><span class="number">.0_111</span>]</span><br><span class="line">	at  </span><br><span class="line">	<span class="comment">//more....</span></span><br></pre></td></tr></table></figure>

<p>解决办法是在pom.xml中排除Springfox-Swagger的Swagger-Models的jar包,重新引入，如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.springfox&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">2.9</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">    &lt;exclusions&gt;</span><br><span class="line">        &lt;exclusion&gt;</span><br><span class="line">            &lt;groupId&gt;io.swagger&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;</span><br><span class="line">        &lt;/exclusion&gt;</span><br><span class="line">    &lt;/exclusions&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/io.swagger/swagger-models --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.swagger&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">1.5</span><span class="number">.21</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swagger/" rel="tag">swagger</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-七成毕业生月薪不足6000：除了工资，第一份工作还应该看重什么？"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/05/%E4%B8%83%E6%88%90%E6%AF%95%E4%B8%9A%E7%94%9F%E6%9C%88%E8%96%AA%E4%B8%8D%E8%B6%B36000%EF%BC%9A%E9%99%A4%E4%BA%86%E5%B7%A5%E8%B5%84%EF%BC%8C%E7%AC%AC%E4%B8%80%E4%BB%BD%E5%B7%A5%E4%BD%9C%E8%BF%98%E5%BA%94%E8%AF%A5%E7%9C%8B%E9%87%8D%E4%BB%80%E4%B9%88%EF%BC%9F/"
    >七成毕业生月薪不足6000：除了工资，第一份工作还应该看重什么？</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/05/%E4%B8%83%E6%88%90%E6%AF%95%E4%B8%9A%E7%94%9F%E6%9C%88%E8%96%AA%E4%B8%8D%E8%B6%B36000%EF%BC%9A%E9%99%A4%E4%BA%86%E5%B7%A5%E8%B5%84%EF%BC%8C%E7%AC%AC%E4%B8%80%E4%BB%BD%E5%B7%A5%E4%BD%9C%E8%BF%98%E5%BA%94%E8%AF%A5%E7%9C%8B%E9%87%8D%E4%BB%80%E4%B9%88%EF%BC%9F/" class="article-date">
  <time datetime="2019-07-04T16:23:57.000Z" itemprop="datePublished">2019-07-05</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>原文地址 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/0dn2DnEJT1T7ajr2BPYG8w">https://mp.weixin.qq.com/s/0dn2DnEJT1T7ajr2BPYG8w</a></p>
</blockquote>
<p>昨天关于毕业生薪酬的数据上了微博热搜，戳中了很多年轻人的痛点：七成毕业生月薪不足6000。</p>
<p>根据《2019年大学生求职指南》数据显示，从实际签约月薪来看，<strong>有七成应届毕业生的签约月薪在6000元以内，4000元以下占比为35.77%。</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190705002456.png"></p>
<p>毕业生薪酬不高带来的是签约难。应届生尚未签约的原因中，“薪水&#x2F;待遇未达到期望值”仍是首要因素，比例达到38.23%。</p>
<p>毕竟是人生的第一份工作，很多毕业生都心怀期望慎之又慎，可是有时候，走走停停找来找去，却发现现实远比想象更残酷。一边是需求降低，一边是薪资减少，很多年轻人忍不住会纠结，第一份工作到底要不要在意薪酬。</p>
<p>年轻人到底要不要在意薪酬，其实不能一概而论，毕竟比起薪水，还有很多其他方面值得考虑。</p>
<h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>首先，要考虑行业发展。</p>
<p>数据显示，在所有的招聘行业中，就业形势最好的行业依然是中介服务，今年该行业的企业招聘需求同比增长25%。</p>
<p>需求上涨的同时，在这个行业求职的大学生数量却在减少，2019届应届生投递中介服务行业的人数同比减少21%。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190705002541.png"></p>
<p>很多毕业生在职业选择上喜欢随大流，盲目涌向热门行业。</p>
<p>但是衡量一个行业，热门与否不应该是主要考量因素。有些热门行业本身并不具备长期发展，比如马云曾经举的一个例子，数据分析是热门职业，但是十年后，可能会被AI取代。</p>
<p>而且由于竞争激烈，人才辈出，你能谈判的资本并不多。反倒是冷门行业，由于招聘需求大，年轻人更容易谈出好条件。</p>
<p>宁向东曾经做过这样的比喻，选择行业其实就等于是选择投资。</p>
<p>当年，有一家投资机构，他们在选择是否要投资高铁行业的时候，首先问自己的就是，高铁在中国有没有前途？</p>
<p>选行业，其实也可以参考这个思路。选择一家公司，要看行业发展。它们做的事，是不是符合未来发展需要，只有在人们的生活息息相关的行业里，你才会找到未来事业发展的机会和希望。</p>
<h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p>其次，要考虑个人职业发展空间。</p>
<p>所谓个人职业发展空间，其实就是成长性。</p> 
      <a class="article-more-link" href="/2019/07/05/%E4%B8%83%E6%88%90%E6%AF%95%E4%B8%9A%E7%94%9F%E6%9C%88%E8%96%AA%E4%B8%8D%E8%B6%B36000%EF%BC%9A%E9%99%A4%E4%BA%86%E5%B7%A5%E8%B5%84%EF%BC%8C%E7%AC%AC%E4%B8%80%E4%BB%BD%E5%B7%A5%E4%BD%9C%E8%BF%98%E5%BA%94%E8%AF%A5%E7%9C%8B%E9%87%8D%E4%BB%80%E4%B9%88%EF%BC%9F/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-面试：一个Java对象到底有多大？"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/04/%E9%9D%A2%E8%AF%95%EF%BC%9A%E4%B8%80%E4%B8%AAJava%E5%AF%B9%E8%B1%A1%E5%88%B0%E5%BA%95%E6%9C%89%E5%A4%9A%E5%A4%A7%EF%BC%9F/"
    >面试：一个Java对象到底有多大？</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/04/%E9%9D%A2%E8%AF%95%EF%BC%9A%E4%B8%80%E4%B8%AAJava%E5%AF%B9%E8%B1%A1%E5%88%B0%E5%BA%95%E6%9C%89%E5%A4%9A%E5%A4%A7%EF%BC%9F/" class="article-date">
  <time datetime="2019-07-04T12:28:51.000Z" itemprop="datePublished">2019-07-04</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>出处：<a target="_blank" rel="noopener" href="http://u6.gg/swLPg">http://u6.gg/swLPg</a></p>
<blockquote>
<p>编写Java代码的时候，大多数情况下，我们很少关注一个Java对象究竟有多大(占据多少内存)，更多的是关注业务与逻辑。但是殊不知，在我们不经意间，大量的内存被无形地浪费了。</p>
<p>这也是一个很基础的 java 面试考点</p>
</blockquote>
<h2 id="一个Java对象到底有多大？"><a href="#一个Java对象到底有多大？" class="headerlink" title="一个Java对象到底有多大？"></a>一个Java对象到底有多大？</h2><p>想要精确计算一个Java对象占用的内存，首先要了解Java对象的结构表示。</p>
<h2 id="Java对象结构"><a href="#Java对象结构" class="headerlink" title="Java对象结构"></a>Java对象结构</h2><p>一个Java对象在Heap的表示，可以分为三部分：</p>
<ul>
<li>Object Header</li>
<li>Class Pointer</li>
<li>Fields</li>
</ul>
<p>每个普通Java对象在堆(heap)中都有一个头信息(object header)，头信息是必不可少的，记录着对象的状态。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190704203105.png"></p>
<p>32位与64位占用空间不同，在32位中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hash(25)+age(4)+lock(3)=32bit</span><br></pre></td></tr></table></figure>

<p>32位与64位占用空间不同，在32位中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hash(25)+age(4)+lock(3)=32bit</span><br></pre></td></tr></table></figure>

<p>64位中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unused(25+1)+hash(31)+age(4)+lock(3)=64bit</span><br></pre></td></tr></table></figure>

<p>我们知道，在Java中，一切皆对象；每个类都有一个父类， <code>ClassPointer</code>就是当前对象父类的一个指针，在32位系统中，这个指针为4byte；在64位系统中，如果开启指针压缩(-XX:+UseCompressedOops)或者JVM堆的最大值小于32G，这个指针也是4byte，否则是8byte。</p>
<p>关于字段(Fields)，这里指的是类的实例字段；也就是说不包括静态字段，因为这个字段是共享内存的，只会存在一份。</p> 
      <a class="article-more-link" href="/2019/07/04/%E9%9D%A2%E8%AF%95%EF%BC%9A%E4%B8%80%E4%B8%AAJava%E5%AF%B9%E8%B1%A1%E5%88%B0%E5%BA%95%E6%9C%89%E5%A4%9A%E5%A4%A7%EF%BC%9F/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-深入理解JVM"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/03/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM/"
    >深入理解JVM</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/03/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM/" class="article-date">
  <time datetime="2019-07-03T15:27:21.000Z" itemprop="datePublished">2019-07-03</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>视频地址 <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=wBR1w3kSBhE&list=PL9avoKyUyEuzk6yl5X20r2SYRUcXcw-zs">https://www.youtube.com/watch?v=wBR1w3kSBhE&amp;list=PL9avoKyUyEuzk6yl5X20r2SYRUcXcw-zs</a></p>
</blockquote>
<h2 id="01-学习方法论与高效学习方式演进"><a href="#01-学习方法论与高效学习方式演进" class="headerlink" title="01 学习方法论与高效学习方式演进"></a>01 学习方法论与高效学习方式演进</h2><p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190703233759.png"></p>
<p>向事情学习</p>
<p>向人学习</p>
<p>输出</p>
<p>后会无期</p>
<p>知道很多道理，确过不好这一生</p>
<p>需要持久化，需要输出。一定要吐出来</p>
<p>输出，输出，输出，输出！</p>
<p>刻意练习。</p>
<h2 id="02-JVM学习曲线与疑难点剖析"><a href="#02-JVM学习曲线与疑难点剖析" class="headerlink" title="02 JVM学习曲线与疑难点剖析"></a>02 JVM学习曲线与疑难点剖析</h2><p>1 模仿，不管底层</p>
<p>有节奏，有计划的去学习</p>
<h2 id="03-深入理解JVM课程大纲分析与工具使用"><a href="#03-深入理解JVM课程大纲分析与工具使用" class="headerlink" title="03 深入理解JVM课程大纲分析与工具使用"></a>03 深入理解JVM课程大纲分析与工具使用</h2><p><strong>JVM</strong></p>
<p><strong>介绍：</strong>JVM是一个令人望而却步的领域，因为它博大精深，涉及到的内容与知识点非常之多。虽然Java开发者每天都在使用JVM，但对其有所研究并且研究深入的人却少之又少。然而，JVM的重要性却又是不言而喻的。基于JVM的各种动态与静态语言生态圈已经异常繁荣了，对JVM的运行机制有一定的了解不但可以提升我们的竞争力，还可以让我们在面对问题时能够沉着应对，加速问题的解决速度；同时还能够增强我们的自信心，让我们更加游刃有余。</p>
<ul>
<li>JVM介绍</li>
<li>HotSpot虚拟机讲解</li>
<li>垃圾收集方式详解</li>
<li></li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-【TED演讲】不要为了后悔而后悔"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/03/%E3%80%90TED%E6%BC%94%E8%AE%B2%E3%80%91%E4%B8%8D%E8%A6%81%E4%B8%BA%E4%BA%86%E5%90%8E%E6%82%94%E8%80%8C%E5%90%8E%E6%82%94/"
    >【TED演讲】不要为了后悔而后悔</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/03/%E3%80%90TED%E6%BC%94%E8%AE%B2%E3%80%91%E4%B8%8D%E8%A6%81%E4%B8%BA%E4%BA%86%E5%90%8E%E6%82%94%E8%80%8C%E5%90%8E%E6%82%94/" class="article-date">
  <time datetime="2019-07-03T14:58:13.000Z" itemprop="datePublished">2019-07-03</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190703225843.png"></p>
<ul>
<li>教育</li>
<li>事业</li>
<li>爱情</li>
<li>子女教育</li>
<li>对自身的决定</li>
<li>闲暇时间</li>
<li>表现执拗</li>
</ul>
<p>面对后悔的建议</p>
<ol>
<li><p>意识到后悔的普遍性</p>
</li>
<li><p>学会自嘲</p>
</li>
<li><p>通过时间的流逝慢慢地平和面对遗憾</p>
</li>
<li><p>有时候你后悔的东西不像你原想的那样糟糕</p>
</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TED/" rel="tag">TED</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-restful-接口设计示例"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/03/restful-%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1%E7%A4%BA%E4%BE%8B/"
    >restful 接口设计示例</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/03/restful-%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1%E7%A4%BA%E4%BE%8B/" class="article-date">
  <time datetime="2019-07-03T14:42:16.000Z" itemprop="datePublished">2019-07-03</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190703224305.png"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/restful/" rel="tag">restful</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-天天用Synchronized，底层原理是个啥"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/07/02/%E5%A4%A9%E5%A4%A9%E7%94%A8Synchronized%EF%BC%8C%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%98%AF%E4%B8%AA%E5%95%A5/"
    >天天用Synchronized，底层原理是个啥?</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/07/02/%E5%A4%A9%E5%A4%A9%E7%94%A8Synchronized%EF%BC%8C%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%98%AF%E4%B8%AA%E5%95%A5/" class="article-date">
  <time datetime="2019-07-02T11:56:26.000Z" itemprop="datePublished">2019-07-02</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>作者：liuxiaopeng</p>
<p>原文地址:：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/paddix/p/5367116.html">https://www.cnblogs.com/paddix/p/5367116.html</a></p>
</blockquote>
<p><strong>Synchronized 的基本使用</strong></p>
<p>Synchronized 的作用主要有三个：</p>
<ul>
<li>确保线程互斥的访问同步代码</li>
<li>保证共享变量的修改能够及时可见</li>
<li>有效解决重排序问题</li>
</ul>
<p>从语法上讲，Synchronized 总共有三种用法：</p>
<ul>
<li>修饰普通方法</li>
<li>修饰静态方法</li>
<li>修饰代码块</li>
</ul>
<p>接下来我就通过几个例子程序来说明一下这三种使用方式（为了便于比较，三段代码除了 Synchronized 的使用方式不同以外，其他基本保持一致）。</p>
<p><strong>没有同步的情况</strong></p>
<p>代码段 1：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.paddx.test.concurrent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SynchronizedTest</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;Method 1 start&quot;</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Method 1 execute&quot;</span>);</span><br><span class="line">      Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">       e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;Method 1 end&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Method 2 start&quot;</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Method 2 execute&quot;</span>);</span><br><span class="line">      Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;Method 2 end&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">SynchronizedTest</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SynchronizedTest</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        test.method1();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        test.method2();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行结果如下，线程 1 和线程 2 同时进入执行状态，线程 2 执行速度比线程 1 快，所以线程 2 先执行完成。推荐阅读：<a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzI3ODcxMzQzMw==&mid=2247487589&idx=2&sn=bc7398739f7153e5cf9a9f0241b0cb5b&chksm=eb539553dc241c45b28c0ccf217359c17ccce4ae34e3c13f4c7a2555f108247ea3d54902a88c&scene=21#wechat_redirect">多线程 start 和 run 方法到底有什么区别？</a></p>
<p>这个过程中线程 1 和线程 2 是同时执行的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Method <span class="number">1</span> start</span><br><span class="line">Method <span class="number">1</span> execute</span><br><span class="line">Method <span class="number">2</span> start</span><br><span class="line">Method <span class="number">2</span> execute</span><br><span class="line">Method <span class="number">2</span> end</span><br><span class="line">Method <span class="number">1</span> end</span><br></pre></td></tr></table></figure>

<p><strong>对普通方法同步</strong></p>
<p>代码段 2：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.paddx.test.concurrent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SynchronizedTest</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Method 1 start&quot;</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Method 1 execute&quot;</span>);</span><br><span class="line">      Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;Method 1 end&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Method 2 start&quot;</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Method 2 execute&quot;</span>);</span><br><span class="line">      Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;Method 2 end&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">SynchronizedTest</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SynchronizedTest</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        test.method1();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        test.method2();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行结果如下，跟代码段 1 比较，可以很明显的看出，线程 2 需要等待线程 1 的 Method1 执行完成才能开始执行 Method2 方法。</p> 
      <a class="article-more-link" href="/2019/07/02/%E5%A4%A9%E5%A4%A9%E7%94%A8Synchronized%EF%BC%8C%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%98%AF%E4%B8%AA%E5%95%A5/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/24/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="page-number" href="/page/24/">24</a><span class="page-number current">25</span><a class="page-number" href="/page/26/">26</a><a class="page-number" href="/page/27/">27</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/26/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2023
        <i class="ri-heart-fill heart_icon"></i> 高行行
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="高行行的个人博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://gaohanghang.lofter.com">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/twitter">Twitter</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://weibo.com/u/5125203090">微博</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>