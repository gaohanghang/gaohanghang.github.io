<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="个人公众号《骇客与画家》" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 高行行的个人博客</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/Shen-Yu/hexo-theme-ayer"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">高行行的个人博客</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '科技需要人文的浇灌', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  <ul class="ads">
    
        <li>
            <a target="_blank" rel="noopener" href="https://curl.qcloud.com/kvO7hb43">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5ccc.jpg" width="300" alt="云服务器限时秒杀">
            </a>
        </li>
    
        <li>
            <a target="_blank" rel="noopener" href="https://www.vultr.com/?ref=8630075">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5cd7.png" width="300" alt="vultr优惠vps">
            </a>
        </li>
    
</ul>
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-类加载过程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/"
    >类加载过程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/29/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/" class="article-date">
  <time datetime="2019-08-29T11:07:58.000Z" itemprop="datePublished">2019-08-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190829203531.png"></p>
<blockquote>
<p>原文来自《码出高效: Java 开发手册》</p>
<p>代码地址: <a target="_blank" rel="noopener" href="https://github.com/gaohanghang/easy-coding/tree/master/src/ch4">easy-coding</a></p>
</blockquote>
<p>Java 的类加载器是一个运行时核心基础设施模块，如图 4-4 所示，主要是在启动之初进行类的 Load、Link 和  Init，即加载、链接、初始化。</p>
<p>第一步，Load 阶段读取类文件产生二进制流，并转换为特定的数据结构，初步校验 cafe babe 魔法数、常量池、文件长度、是否有父类等，然后创建对应类的 java.lang.Class 实例。</p>
<p>第二步，Link 阶段包括验证、准备、解析三个步骤。验证是更详细的校验，比如 final 是否合规、类型是否正确、静态变量是否合理等；准备阶段是为静态变量分配内存，并设定默认值；解析阶段是解析类和方法，确保类与类之间的相互引用正确性，完成内存结构布局。</p>
<p>第三步，Init 阶段执行类构造器 <code>&lt;clinit&gt;</code> 方法，如果赋值运算是通过其他类的静态方法来完成的，那么会马上解析另一个类，在虚拟机栈中执行完毕后通过返回值进行赋值。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190829190953.png"></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/imgIMG_0028.jpg"></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/imgIMG_0029.jpg"></p>
<p><strong>代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassTest</span> &#123;</span><br><span class="line">    <span class="comment">// 数组类型有一个魔法属性: length 来获取数组长度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] array = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> array.length;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 任何小写 class 定义的类，也有一个魔法属性: class，来获取此类的大写 Class 类对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Class&lt;One&gt; one = One.class;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Class&lt;Another&gt; another = Another.class;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 通过newInstance 方法创建 One 和 Another 的类对象（ 第 1 处 ）</span></span><br><span class="line">        <span class="type">One</span> <span class="variable">oneObject</span> <span class="operator">=</span> one.newInstance();</span><br><span class="line">        oneObject.call();</span><br><span class="line"></span><br><span class="line">        <span class="type">Another</span> <span class="variable">anotherObject</span> <span class="operator">=</span> another.newInstance();</span><br><span class="line">        anotherObject.speak();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 通过 one 这个大写的 Class 对象，获取私有成员属性对象 Field（ 第 2 处 ）</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">privateFieldInOne</span> <span class="operator">=</span> one.getDeclaredField(<span class="string">&quot;inner&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置私有对象可以访问和修改（ 第 3 处 ）</span></span><br><span class="line">        privateFieldInOne.setAccessible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        privateFieldInOne.set(oneObject, <span class="string">&quot;world changed.&quot;</span>);</span><br><span class="line">        <span class="comment">// 成功修改类的私有属性 inner 变量值为 world changed.</span></span><br><span class="line">        System.out.println(oneObject.getInner());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">One</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">inner</span> <span class="operator">=</span> <span class="string">&quot;time files.&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">call</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello world.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getInner</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> inner;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Another</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;easy coding.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 
      <a class="article-more-link" href="/2019/08/29/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jvm/" rel="tag">jvm</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-动画推荐《我的三体》"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/27/%E5%8A%A8%E7%94%BB%E6%8E%A8%E8%8D%90%E3%80%8A%E6%88%91%E7%9A%84%E4%B8%89%E4%BD%93%E3%80%8B/"
    >动画推荐《我的三体》</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/27/%E5%8A%A8%E7%94%BB%E6%8E%A8%E8%8D%90%E3%80%8A%E6%88%91%E7%9A%84%E4%B8%89%E4%BD%93%E3%80%8B/" class="article-date">
  <time datetime="2019-08-27T13:47:43.000Z" itemprop="datePublished">2019-08-27</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190827224209.png"></p>
<blockquote>
<p>《我的三体》是一部粉丝自制的动画番剧，改编自刘慈欣的科幻小说《三体》。旨在以方的风格把《三体》的故事改编成动画。由神游八方始更于2014年，截至2015年10月6日，共拍摄完成并发布了11集 ，第一季完结。</p>
<p>豆瓣地址: <a target="_blank" rel="noopener" href="https://movie.douban.com/subject/27624727/">https://movie.douban.com/subject/27624727/</a></p>
<p>视频地址: <a target="_blank" rel="noopener" href="https://space.bilibili.com/614801/video">https://space.bilibili.com/614801/video</a></p>
<p>逛b站的时候发现了豆瓣2015评分最高的十部短片合集，也非常推荐观看</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av3746956">【2015】豆瓣电影年度榜单 评分最高的十部短片</a></p>
</blockquote>
<p>我是在一个周末花了一天时间一口气看完的，画质完美的诠释了什么叫技术爆炸，画质从第一季第一集的粗糙逐步提升到第二季最后一集的惊艳。</p>
<p>《我的三体》第一季和第二季在豆瓣这种苛刻的地方居然都能拿到9分以上的高分，说明这部动画真的非常棒👍，非常推荐观看。</p>
<p>第一季开始是这样的</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190827220924.png"></p>
<p>第二季是这样的</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190827223830.png"></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190827220540.png"></p>
<p>宇宙社会学:人类当前的科技水平和社会状况下，从两条不证自明的基本公理出发（一、生存是文明的第一需要。二、文明不断增长和扩张，但宇宙中的物质总量保持不变），借由引入两个重要概念——<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%8C%9C%E7%96%91%E9%93%BE/170096">猜疑链</a>和<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%8A%80%E6%9C%AF%E7%88%86%E7%82%B8/5428949">技术爆炸</a>，从理论上建立起的一套关于描述当前宇宙社会大图景的大体系的一门学科。</p>
<p>当你显露出本领的时候，别人把你当成救世主，当你告诉别人你做不到的时候，他们恨不得把你踩进尘埃里。人就是这样，这样的不讲理。罗辑是善良的，他愿意为了人类尽自己最大的努力去改变，即使别人对他指指点点，仍旧心存善意，这样的人可敬。</p>
<p>当你显露出本领的时候，别人把你当成救世主，当你告诉别人你做不到的时候，他们恨不得把你踩进尘埃里。人就是这样，这样的不讲理。罗辑是善良的，他愿意为了人类尽自己最大的努力去改变，即使别人对他指指点点，仍旧心存善意，这样的人可敬。— 豆瓣 <a target="_blank" rel="noopener" href="https://www.douban.com/people/179863588/">小萝卜</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag">原创</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-解决Hash冲突的几种方法"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/25/%E8%A7%A3%E5%86%B3Hash%E5%86%B2%E7%AA%81%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/"
    >解决Hash冲突的几种方法</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/25/%E8%A7%A3%E5%86%B3Hash%E5%86%B2%E7%AA%81%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/" class="article-date">
  <time datetime="2019-08-25T02:58:54.000Z" itemprop="datePublished">2019-08-25</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825144828.png"></p>
<blockquote>
<p>原文地址: <a target="_blank" rel="noopener" href="https://blog.csdn.net/u012104435/article/details/47951357">https://blog.csdn.net/u012104435/article/details/47951357</a></p>
</blockquote>
<h2 id="开放地址法："><a href="#开放地址法：" class="headerlink" title="开放地址法："></a>开放地址法：</h2><h3 id="1-线性探测法-ThreadLocalMap"><a href="#1-线性探测法-ThreadLocalMap" class="headerlink" title="1.线性探测法:ThreadLocalMap"></a>1.线性探测法:ThreadLocalMap</h3><p>线性再散列法是形式最简单的处理冲突的方法。插入元素时，如果发生冲突，算法会简单的从该槽位置向后循环遍历hash表，直到找到表中的下一个空槽，并将该元素放入该槽中（会导致相同hash值的元素挨在一起和其他hash值对应的槽被占用）。查找元素时，首先散列值所指向的槽，如果没有找到匹配，则继续从该槽遍历hash表，直到：（1）找到相应的元素；（2）找到一个空槽，指示查找的元素不存在，（所以不能随便删除元素）；（3）整个hash表遍历完毕（指示该元素不存在并且hash表是满的）</p>
<p>用线性探测法处理冲突，思路清晰，算法简单，但存在下列缺点：<br>① 处理溢出需另编程序。一般可另外设立一个溢出表，专门用来存放上述哈希表中放不下的记录。此溢出表最简单的结构是顺序表，查找方法可用顺序查找。<br>② 按上述算法建立起来的哈希表，删除工作非常困难。如果将此元素删除，查找的时会发现空槽，则会认为要找的元素不存在。只能标上已被删除的标记，否则，将会影响以后的查找。<br>③ 线性探测法很容易产生堆聚现象。所谓堆聚现象，就是存入哈希表的记录在表中连成一片。按照线性探测法处理冲突，如果生成哈希地址的连续序列愈长 ( 即不同关键字值的哈希地址相邻在一起愈长 ) ，则当新的记录加入该表时，与这个序列发生冲突的可能性愈大。因此，哈希地址的较长连续序列比较短连续序列生长得快，这就意味着，一旦出现堆聚 ( 伴随着冲突 ) ，就将引起进一步的堆聚。</p>
<h3 id="2-线性补偿探测法"><a href="#2-线性补偿探测法" class="headerlink" title="2.线性补偿探测法"></a>2.线性补偿探测法</h3><p>线性补偿探测法的基本思想是：将线性探测的步长从 1 改为 Q ，即将上述算法中的<br>hash ＝ (hash ＋ 1) % m 改为：hash ＝ (hash ＋ Q) % m &#x3D; hash % m + Q % m，而且要求 Q 与 m 是互质的，以便能探测到哈希表中的所有单元。<br>【例】 PDP-11 小型计算机中的汇编程序所用的符合表，就采用此方法来解决冲突，所用表长 m ＝ 1321 ，选用 Q ＝ 25 。</p>
<h3 id="3-伪随机探测"><a href="#3-伪随机探测" class="headerlink" title="3.伪随机探测"></a>3.伪随机探测</h3><p>随机探测的基本思想是：将线性探测的步长从常数改为随机数，即令： hash ＝ (hash ＋ RN) % m ，其中 RN 是一个随机数。在实际程序中应预先用随机数发生器产生一个随机序列，将此序列作为依次探测的步长。这样就能使不同的关键字具有不同的探测次序，从而可以避 免或减少堆聚。基于与线性探测法相同的理由，在线性补偿探测法和随机探测法中，删除一个记录后也要打上删除标记。</p>
<h2 id="拉链法"><a href="#拉链法" class="headerlink" title="拉链法"></a>拉链法</h2><p>拉链法 : hashmap</p>
<p>拉链法的优点<br>与开放定址法相比，拉链法有如下几个优点：<br>①拉链法处理冲突简单，且无堆积现象，即非同义词决不会发生冲突，因此平均查找长度较短；<br>②由于拉链法中各链表上的结点空间是动态申请的，故它更适合于造表前无法确定表长的情况；<br>③开放定址法为减少冲突，要求装填因子α较小，故当结点规模较大时会浪费很多空间。而拉链法中可取α≥1，且结点较大时，拉链法中增加的指针域可忽略不计，因此节省空间；<br>④在用拉链法构造的散列表中，删除结点的操作易于实现。只要简单地删去链表上相应的结点即可。</p>
<p>拉链法的缺点<br>    　拉链法的缺点是：指针需要额外的空间，故当结点规模较小时，开放定址法较为节省空间，而若将节省的指针空间用来扩大散列表的规模，可使装填因子变小，这又减少了开放定址法中的冲突，从而提高平均查找速度。</p>
<h2 id="再散列（双重散列，多重散列）"><a href="#再散列（双重散列，多重散列）" class="headerlink" title="再散列（双重散列，多重散列）"></a>再散列（双重散列，多重散列）</h2><p>当发生冲突时，使用第二个、第三个、哈希函数计算地址，直到无冲突时。缺点：计算时间增加。</p>
<h2 id="建立一个公共溢出区"><a href="#建立一个公共溢出区" class="headerlink" title="建立一个公共溢出区"></a>建立一个公共溢出区</h2><p>假设哈希函数的值域为[0,m-1],则设向量HashTable[0..m-1]为基本表，另外设立存储空间向量OverTable[0..v]用以存储发生冲突的记录。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Java-8中Stream-API的这些奇技淫巧！你都Get到了吗？"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/25/Java-8%E4%B8%ADStream-API%E7%9A%84%E8%BF%99%E4%BA%9B%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7%EF%BC%81%E4%BD%A0%E9%83%BDGet%E5%88%B0%E4%BA%86%E5%90%97%EF%BC%9F/"
    >Java 8中Stream API的这些奇技淫巧！你都Get到了吗？</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/25/Java-8%E4%B8%ADStream-API%E7%9A%84%E8%BF%99%E4%BA%9B%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7%EF%BC%81%E4%BD%A0%E9%83%BDGet%E5%88%B0%E4%BA%86%E5%90%97%EF%BC%9F/" class="article-date">
  <time datetime="2019-08-24T17:46:16.000Z" itemprop="datePublished">2019-08-25</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825103947.png"></p>
<blockquote>
<p>原文地址: <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/9fe8632d0bc2">java8-Stream集合操作快速上手</a></p>
</blockquote>
<h3 id="Stream简介"><a href="#Stream简介" class="headerlink" title="Stream简介"></a>Stream简介</h3><p>1、Java 8引入了全新的Stream API。这里的Stream和I&#x2F;O流不同，它更像具有Iterable的集合类，但行为和集合类又有所不同。</p>
<p>2、stream是对集合对象功能的增强，它专注于对集合对象进行各种非常便利、高效的聚合操作，或者大批量数据操作。</p>
<p>3、只要给出需要对其包含的元素执行什么操作，比如 “过滤掉长度大于 10 的字符串”、“获取每个字符串的首字母”等，Stream 会隐式地在内部进行遍历，做出相应的数据转换。</p>
<h3 id="为什么要使用Stream"><a href="#为什么要使用Stream" class="headerlink" title="为什么要使用Stream"></a><strong>为什么要使用Stream</strong></h3><p>1、函数式编程带来的好处尤为明显。这种代码更多地表达了业务逻辑的意图，而不是它的实现机制。易读的代码也易于维护、更可靠、更不容易出错。</p>
<p>2、高端</p>
<h3 id="实例数据源"><a href="#实例数据源" class="headerlink" title="实例数据源"></a><strong>实例数据源</strong></h3><p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825014708.png"></p>
<h4 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a><strong>Filter</strong></h4><p>1、遍历数据并检查其中的元素时使用。</p>
<p>2、filter接受一个函数作为参数，该函数用Lambda表达式表示。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825014727.png"></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825014737.png"></p>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a><strong>Map</strong></h4><p>1、map生成的是个一对一映射,for的作用</p>
<p>2、比较常用</p>
<p>3、而且很简单</p> 
      <a class="article-more-link" href="/2019/08/25/Java-8%E4%B8%ADStream-API%E7%9A%84%E8%BF%99%E4%BA%9B%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7%EF%BC%81%E4%BD%A0%E9%83%BDGet%E5%88%B0%E4%BA%86%E5%90%97%EF%BC%9F/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java8/" rel="tag">java8</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-b站UP主推荐-阿幕降临"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/24/b%E7%AB%99UP%E4%B8%BB%E6%8E%A8%E8%8D%90-%E9%98%BF%E5%B9%95%E9%99%8D%E4%B8%B4/"
    >B站UP主推荐-阿幕降临(原创)</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/24/b%E7%AB%99UP%E4%B8%BB%E6%8E%A8%E8%8D%90-%E9%98%BF%E5%B9%95%E9%99%8D%E4%B8%B4/" class="article-date">
  <time datetime="2019-08-24T15:03:00.000Z" itemprop="datePublished">2019-08-24</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825000555.png"></p>
<blockquote>
<p>今天逛b站发现一个动画up主的视频很有意思，通过沙雕熊猫人动画非常幽默诙谐地讽刺了当今社会一些热点问题</p>
<p>被大家称为b站鲁迅，看了之后特意推荐下</p>
<p>视频地址: <a target="_blank" rel="noopener" href="https://space.bilibili.com/38351330">https://space.bilibili.com/38351330</a></p>
</blockquote>
<p><strong>当代我国年轻人一天（空闲时间）分配</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825002334.png"></p>
<iframe src="//player.bilibili.com/player.html?aid=36170163&cid=64678267&page=1" width="780" height="480"   scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<blockquote>
<p>讽刺了年轻人天天治疗拖延就是不去学习，一直等到最后期限才学一下</p>
</blockquote>
<p><strong>住在底层的小红上当了</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825001713.png"></p>
<iframe src="//player.bilibili.com/player.html?aid=65173575&cid=113164197&page=1" width="780" height="480" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<blockquote>
<p>讽刺了层层剥削的现象</p>
</blockquote>
<p><strong>中国多数穷二代青年的现实困境</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825000722.png"></p>
<iframe src="//player.bilibili.com/player.html?aid=54806855&cid=95860453&page=1" width="780" height="480" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<blockquote>
<p>穷人的无奈</p>
</blockquote>
<p><strong>最受长辈欢迎的7号小朋友后来果然混的风生水起</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825001921.png"></p>
<iframe src="//player.bilibili.com/player.html?aid=55218673&cid=96554603&page=1" width="780" height="480" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<blockquote>
<p>不负责任的老师将学生教育成一个样子，没有个性</p>
</blockquote>
<p><strong>鬼才销售 卖火柴的小女孩</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825002026.png"></p>
<iframe src="//player.bilibili.com/player.html?aid=57365707&cid=100175902&page=1" width="780" height="480" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<blockquote>
<p>讽刺无脑跟风</p>
</blockquote>
<p><strong>小红是一个泪点低的人…</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190825004149.png"></p>
<iframe src="//player.bilibili.com/player.html?aid=37591524&cid=66081886&page=1" width="780" height="480" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<blockquote>
<p>讽刺玻璃心，圣母心</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8E%A8%E8%8D%90/" rel="tag">推荐</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-如何利用费曼学习法提高效率？（T君"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/24/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8%E8%B4%B9%E6%9B%BC%E5%AD%A6%E4%B9%A0%E6%B3%95%E6%8F%90%E9%AB%98%E6%95%88%E7%8E%87%EF%BC%9F%EF%BC%88T%E5%90%9B/"
    >如何利用费曼学习法提高效率？（T君)</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/24/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8%E8%B4%B9%E6%9B%BC%E5%AD%A6%E4%B9%A0%E6%B3%95%E6%8F%90%E9%AB%98%E6%95%88%E7%8E%87%EF%BC%9F%EF%BC%88T%E5%90%9B/" class="article-date">
  <time datetime="2019-08-24T11:45:33.000Z" itemprop="datePublished">2019-08-24</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190824194859.png"></p>
<blockquote>
<p>视频地址: <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av64850144">https://www.bilibili.com/video/av64850144</a></p>
</blockquote>
<iframe src="//player.bilibili.com/player.html?aid=64850144&cid=112571849&page=1" width="780" height="480" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h2><h3 id="费曼技术"><a href="#费曼技术" class="headerlink" title="费曼技术"></a>费曼技术</h3><p>①向不熟悉某议题的人解释该议题，使用他们能理解的方式及最简单的语言向他们解释。<br>②发现自己不能理解的地方或不能解释某议题的地方。<br>③回头查看资讯来源并研读自己弱点的地方，直到能用简单的语言来解释它。<br>④重复前面三项步骤，直到能够专精这个议题。</p>
<p>使用费曼技术由两个主要需达成的目标:简单并简洁。</p>
<blockquote>
<p>“聪明的傻瓜能把事情搞得更大更复杂更暴力但往反方向发展则需要一点天分以及巨大的勇气。”</p>
<p>— E.F.舒马赫</p>
</blockquote>
<p>举例子是一个能够增进专精程度并学习同理的好方法。</p>
<p>使用费曼技术最大的好处是:它能使你真正地了解任何你学习的事物、使你做出深思熟虑并有智慧的决定、更为简单地将知识应用到实际问题时教导能力的进步、以及对于议题进行批判思考的能力提升，唯一被取舍的是时间和精力。即使如此，之后投资的时间会比一开始少很多。</p>
<p>什么时候需要使用费曼技术以进行深度学习？<br>当我们面临改变人生的抉择时，以及我们在努力工作时。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-什么是整洁的代码？什么是肮脏的代码？"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/24/%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B4%E6%B4%81%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AF%E8%82%AE%E8%84%8F%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9F/"
    >什么是整洁的代码？什么是肮脏的代码？</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/24/%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B4%E6%B4%81%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AF%E8%82%AE%E8%84%8F%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9F/" class="article-date">
  <time datetime="2019-08-24T10:21:38.000Z" itemprop="datePublished">2019-08-24</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190824192038.png"></p>
<blockquote>
<p>原文地址: <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/PDOZR8YirIo_cis-8S0wgQ">https://mp.weixin.qq.com/s/PDOZR8YirIo_cis-8S0wgQ</a></p>
</blockquote>
<ul>
<li>命名的艺术</li>
<li>注释</li>
<li>函数</li>
<li>测试</li>
</ul>
<hr>
<p>写出整洁的代码，是每个程序员的追求。《clean code》指出，要想写出好的代码，首先得知道什么是肮脏代码、什么是整洁代码；然后通过大量的刻意练习，才能真正写出整洁的代码。</p>
<p>WTF&#x2F;min是衡量代码质量的唯一标准，Uncle Bob在书中称糟糕的代码为沼泽（wading），这只突出了我们是糟糕代码的受害者。国内有一个更适合的词汇：屎山，虽然不是很文雅但是更加客观，程序员既是受害者也是加害者。</p>
<p>对于什么是整洁的代码，书中给出了大师们的总结：</p>
<ul>
<li>Bjarne Stroustrup：优雅且高效；直截了当；减少依赖；只做好一件事</li>
<li>Grady booch：简单直接</li>
<li>Dave thomas：可读，可维护，单元测试</li>
<li>Ron Jeffries：不要重复、单一职责，表达力（Expressiveness）</li>
</ul>
<p>其中，我最喜欢的是<strong>表达力</strong>（Expressiveness）这个描述，这个词似乎道出了好代码的真谛：用简单直接的方式描绘出代码的功能，不多也不少。</p>
<p>本文记录阅读《clean code》之后个人“深有同感”或者“醍醐灌顶”的一些观点。</p>
<h1 id="命名的艺术"><a href="#命名的艺术" class="headerlink" title="命名的艺术"></a>命名的艺术</h1><p>坦白的说，命名是一件困难的事情，要想出一个恰到好处的命名需要一番功夫，尤其我们的母语还不是编程语言所通用的英语。不过这一切都是值得了，好的命名让你的代码更直观，更有表达力。</p>
<p>好的命名应该有下面的特征：</p>
<p><strong>名副其实</strong></p>
<p>好的变量名告诉你：是什么东西，为什么存在，该怎么使用</p>
<p>如果需要通过注释来解释变量，那么就先得不那么名副其实了。</p>
<p>下面是书中的一个示例代码，展示了命名对代码质量的提升</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># bad code</span><br><span class="line">def getItem(theList):</span><br><span class="line">   ret = []</span><br><span class="line">   for x in theList:</span><br><span class="line">      if x[0] == 4:</span><br><span class="line">         ret.append(x)</span><br><span class="line">   return ret</span><br><span class="line"></span><br><span class="line"># good code</span><br><span class="line">def getFlaggedCell(gameBoard):</span><br><span class="line">   &#x27;&#x27;&#x27;扫雷游戏，flagged： 翻转&#x27;&#x27;&#x27;</span><br><span class="line">   flaggedCells = []</span><br><span class="line">   for cell in gameBoard:</span><br><span class="line">      if cell.IsFlagged():</span><br><span class="line">         flaggedCells.append(cell)</span><br><span class="line">   return flaggedCells</span><br></pre></td></tr></table></figure>

<p><strong>避免误导</strong></p>
<ul>
<li>不要挂羊头卖狗肉</li>
<li>不要覆盖惯用缩略语</li>
</ul>
<p>这里不得不吐槽前两天才看到的一份代码，居然使用了 l 作为变量名；而且，<code>user</code>居然是一个list（单复数都没学好！！）</p>
<p><strong>有意义的区分</strong></p>
<p>代码是写给机器执行，也是给人阅读的，所以概念一定要有区分度。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># bad</span><br><span class="line">def copy(a_list, b_list):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line"># good</span><br><span class="line">def copy(source, destination):</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>

<p><strong>使用读的出来的单词</strong></p>
<blockquote>
<p>如果名称读不出来，那么讨论的时候就会像个傻鸟</p>
</blockquote>
<p><strong>使用方便搜索的命名</strong></p>
<blockquote>
<p>名字长短应与其作用域大小相对应</p>
</blockquote>
<p><strong>避免思维映射</strong></p>
<p>比如在代码中写一个temp，那么读者就得每次看到这个单词的时候翻译成其真正的意义</p>
<h1 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h1><p>有<strong>表达力</strong>的代码是无需注释的。</p>
<blockquote>
<p>The proper use of comments is to compensate for our failure to express ourself in code.</p>
</blockquote>
<p>注释的适当作用在于弥补我们用代码表达意图时遇到的失败，这听起来让人沮丧，但事实确实如此。<code>The truth is in the code</code>, 注释只是二手信息，二者的不同步或者不等价是注释的最大问题。</p>
<p>书中给出了一个非常形象的例子来展示：用代码来阐述，而非注释</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bad</span><br><span class="line">// check to see if the employee is eligible for full benefit</span><br><span class="line">if ((employee.flags &amp; HOURLY_FLAG) &amp;&amp; (employee.age &gt; 65))</span><br><span class="line"></span><br><span class="line">good</span><br><span class="line">if (employee.isEligibleForFullBenefits())</span><br></pre></td></tr></table></figure>

<p>因此，当想要添加注释的时候，可以想想是否可以通过修改命名，或者修改函数（代码）的抽象层级来展示代码的意图。</p>
<p>当然，也不能因噎废食，书中指出了以下一些情况属于好的注释</p>
<ol>
<li>法务信息</li>
<li>对意图的注释，为什么要这么做</li>
<li>警示</li>
<li>TODO注释</li>
<li>放大看似不合理之物的重要性</li>
</ol>
<p>其中个人最赞同的是第2点和第5点，<code>做什么</code>很容易通过命名表达，但<code>为什么要这么做</code>则并不直观，特别涉及到专业知识、算法的时候。另外，有些第一感觉“不那么优雅”的代码，也许有其特殊愿意，那么这样的代码就应该加上注释，说明为什么要这样，比如为了提升关键路径的性能，可能会牺牲部分代码的可读性。</p>
<p>最坏的注释就是过时或者错误的注释，这对于代码的维护者（也许就是几个月后的自己）是巨大的伤害，可惜除了code review，并没有简单易行的方法来保证代码与注释的同步。</p>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p><strong>函数的单一职责</strong></p>
<p>一个函数应该只做一件事，这件事应该能通过函数名就能清晰的展示。判断方法很简单：看看函数是否还能再拆出一个函数。</p>
<p>函数要么做什么<code>do_sth</code>, 要么查询什么<code>query_sth</code>。最恶心的就是函数名表示只会<code>query_sth</code>, 但事实上却会<code>do_sth</code>, 这使得函数产生了副作用。比如书中的例子</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class UserValidator &#123;</span><br><span class="line">    private Cryptographer cryptographer;</span><br><span class="line">    public boolean checkPassword(String userName, String password) &#123;</span><br><span class="line">        User user = UserGateway.findByName(userName);</span><br><span class="line">        if (user != User.NULL) &#123;</span><br><span class="line">            String codedPhrase = user.getPhraseEncodedByPassword();</span><br><span class="line">            String phrase = cryptographer.decrypt(codedPhrase, password);</span><br><span class="line">            if (&quot;Valid Password&quot;.equals(phrase)) &#123;</span><br><span class="line">                Session.initialize();</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>函数的抽象层级</strong></p>
<p>每个函数一个抽象层次，函数中的语句都要在同一个抽象层级，不同的抽象层级不能放在一起。比如我们想把大象放进冰箱，应该是这个样子的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def pushElephantIntoRefrige():</span><br><span class="line">    openRefrige()</span><br><span class="line">    pushElephant()</span><br><span class="line">    closeRefrige()</span><br></pre></td></tr></table></figure>

<p>函数里面的三句代码在同一个层级（高度）描述了要完成<code>把大象放进冰箱</code>这件事顺序相关的三个步骤。显然，<code>pushElephant</code>这个步骤又可能包含很多子步骤，但是在<code>pushElephantIntoRefrige</code>这个层级，是无需知道太多细节的。</p>
<p>当我们想通过阅读代码的方式来了解一个新的项目时，一般都是采取<strong>广度优先</strong>的策略，自上而下的阅读代码，先了解整体结构，然后再深入感兴趣的细节。如果没有对实现细节进行良好的抽象（并凝练出一个名副其实的函数），那么阅读者就容易迷失在细节的汪洋里。</p>
<p>某种程度看来，这个跟金字塔原理也很像</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190824200230.png"></p>
<p>每一个层级都是为了论证其上一层级的观点，同时也需要下一层级的支持；同一层级之间的多个论点又需要以某种逻辑关系排序。<code>pushElephantIntoRefrige</code>就是中心论点，需要多个子步骤的支持，同时这些子步骤之间也有逻辑先后顺序。</p>
<p><strong>函数参数</strong></p>
<p>函数的参数越多，组合出的输入情况就愈多，需要的测试用例也就越多，也就越容易出问题。</p>
<p>输出参数相比返回值难以理解，这点深有同感，输出参数实在是很不直观。从函数调用者的角度，一眼就能看出返回值，而很难识别输出参数。输出参数通常逼迫调用者去检查函数签名，这个实在不友好。</p>
<p>向函数传入Boolean（书中称之为 Flag Argument）通常不是好主意。尤其是传入True or False后的行为并不是一件事情的两面，而是两件不同的事情时。这很明显违背了函数的单一职责约束，解决办法很简单，那就是用两个函数。</p>
<p><strong>Dont repear yourself</strong></p>
<p>在函数这个层级，是最容易、最直观实现复用的，很多IDE也难帮助我们讲一段代码重构出一个函数。</p>
<p>不过在实践中，也会出现这样一种情况：一段代码在多个方法中都有使用，但是又不完全一样，如果抽象成一个通用函数，那么就需要加参数、加if else区别。这样就有点尴尬，貌似可以重构，但又不是很完美。</p>
<p>造成上述问题的某种情况是因为，这段代码也违背了单一职责原则，做了不只一件事情，这才导致不好复用，解决办法是进行方法的细分，才能更好复用。也可以考虑template method来处理差异的部分。</p>
<h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1><p>非常惭愧的是，在我经历的项目中，测试（尤其是单元测试）一直都没有得到足够的重视，也没有试行过<code>TDD</code>。正因为缺失，才更感良好测试的珍贵。</p>
<p>我们常说，好的代码需要有可读性、可维护性、可扩展性，好的代码、架构需要不停的重构、迭代，但自动化测试是保证这一切的基础，没有高覆盖率的、自动化的单元测试、回归测试，谁都不敢去修改代码，只能任其腐烂。</p>
<p>即使针对核心模块写了单元测试，一般也很随意，认为这只是测试代码，配不上生产代码的地位，以为只要能跑通就行了。这就导致测试代码的可读性、可维护性非常差，然后导致测试代码很难跟随生产代码一起更新、演化，最后导致测试代码失效。所以说，脏测试 - 等同于 - 没测试。</p>
<p>因此，测试代码的三要素：可读性，可读性，可读性。</p>
<p>对于测试的原则、准则如下：</p>
<ul>
<li>You are not allowed to write any production code unless it is to make a failing unit test pass. 没有测试之前不要写任何功能代码</li>
<li>You are not allowed to write any more of a unit test than is sufficient to fail; and compilation failures are failures. 只编写恰好能够体现一个失败情况的测试代码</li>
<li>You are not allowed to write any more production code than is sufficient to pass the one failing unit test. 只编写恰好能通过测试的功能代码</li>
</ul>
<p>测试的<code>FIRST</code>准则：</p>
<ol>
<li>快速（Fast）测试应该够快，尽量自动化。</li>
<li>独立（Independent） 测试应该应该独立。不要相互依赖</li>
<li>可重复（Repeatable） 测试应该在任何环境上都能重复通过。</li>
<li>自我验证（Self-Validating） 测试应该有bool输出。不要通过查看日志这种低效率方式来判断测试是否通过</li>
<li>及时（Timely） 测试应该及时编写，在其对应的生产代码之前编写</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%81%93%E7%90%86/" rel="tag">道理</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-这样设计-Java-异常更优雅，赶紧学！"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/24/%E8%BF%99%E6%A0%B7%E8%AE%BE%E8%AE%A1-Java-%E5%BC%82%E5%B8%B8%E6%9B%B4%E4%BC%98%E9%9B%85%EF%BC%8C%E8%B5%B6%E7%B4%A7%E5%AD%A6%EF%BC%81/"
    >这样设计 Java 异常更优雅，赶紧学！</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/24/%E8%BF%99%E6%A0%B7%E8%AE%BE%E8%AE%A1-Java-%E5%BC%82%E5%B8%B8%E6%9B%B4%E4%BC%98%E9%9B%85%EF%BC%8C%E8%B5%B6%E7%B4%A7%E5%AD%A6%EF%BC%81/" class="article-date">
  <time datetime="2019-08-24T09:24:12.000Z" itemprop="datePublished">2019-08-24</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190824191750.png"></p>
<blockquote>
<p>原文地址: <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/L8VhKrZ1_w3mYHI0lif3YQ">这样设计 Java 异常更优雅，赶紧学！</a></p>
</blockquote>
<h2 id="导语"><a href="#导语" class="headerlink" title="导语"></a><strong>导语</strong></h2><p>异常处理是程序开发中必不可少操作之一，但如何正确优雅的对异常进行处理确是一门学问，笔者根据自己的开发经验来谈一谈我是如何对异常进行处理的。</p>
<p>由于本文只作一些经验之谈，不涉及到基础知识部分，如果读者对异常的概念还很模糊，请先查看基础知识。</p>
<h2 id="如何选择异常类型"><a href="#如何选择异常类型" class="headerlink" title="如何选择异常类型"></a><strong>如何选择异常类型</strong></h2><h3 id="异常的类别"><a href="#异常的类别" class="headerlink" title="异常的类别"></a><strong>异常的类别</strong></h3><p>正如我们所知道的，java中的异常的超类是java.lang.Throwable(后文省略为Throwable),它有两个比较重要的子类,java.lang.Exception(后文省略为Exception)和java.lang.Error(后文省略为Error)，其中Error由JVM虚拟机进行管理,如我们所熟知的OutOfMemoryError异常等，所以我们本文不关注Error异常，那么我们细说一下Exception异常。</p>
<p>Exception异常有个比较重要的子类，叫做RuntimeException。我们将RuntimeException或其他继承自RuntimeException的子类称为非受检异常(unchecked Exception)，其他继承自Exception异常的子类称为受检异常(checked Exception)。本文重点来关注一下受检异常和非受检异常这两种异常。</p>
<h3 id="如何选择异常"><a href="#如何选择异常" class="headerlink" title="如何选择异常"></a><strong>如何选择异常</strong></h3><p>从笔者的开发经验来看，如果在一个应用中，需要开发一个方法(如某个功能的service方法)，这个方法如果中间可能出现异常，那么你需要考虑这个异常出现之后是否调用者可以处理，并且你是否希望调用者进行处理，如果调用者可以处理，并且你也希望调用者进行处理，那么就要抛出受检异常，提醒调用者在使用你的方法时，考虑到如果抛出异常时如果进行处理，相似的，如果在写某个方法时，你认为这是个偶然异常，理论上说，你觉得运行时可能会碰到什么问题，而这些问题也许不是必然发生的，也不需要调用者显示的通过异常来判断业务流程操作的，那么这时就可以使用一个RuntimeException这样的非受检异常.</p>
<p>好了，估计我上边说的这段话，你读了很多遍也依然觉得晦涩了。</p>
<p>那么，请跟着我的思路，在慢慢领会一下。</p>
<h3 id="什么时候才需要抛异常"><a href="#什么时候才需要抛异常" class="headerlink" title="什么时候才需要抛异常"></a><strong>什么时候才需要抛异常</strong></h3><p>首先我们需要了解一个问题，什么时候才需要抛异常？异常的设计是方便给开发者使用的，但不是乱用的，笔者对于什么时候抛异常这个问题也问了很多朋友，能给出准确答案的确实不多。其实这个问题很简单，如果你觉得某些”问题”解决不了了，那么你就可以抛出异常了。比如，你在写一个service,其中在写到某段代码处,你发现可能会产生问题，那么就请抛出异常吧，相信我，你此时抛出异常将是一个最佳时机。</p>
<h3 id="应该抛出怎样的异常"><a href="#应该抛出怎样的异常" class="headerlink" title="应该抛出怎样的异常"></a><strong>应该抛出怎样的异常</strong></h3><p>了解完了什么时候才需要抛出异常后，我们再思考一个问题，真的当我们抛出异常时，我们应该选用怎样的异常呢？究竟是受检异常还是非受检异常呢(RuntimeException)呢？我来举例说明一下这个问题，先从受检异常说起,比如说有这样一个业务逻辑，需要从某文件中读取某个数据，这个读取操作可能是由于文件被删除等其他问题导致无法获取从而出现读取错误，那么就要从redis或mysql数据库中再去获取此数据,参考如下代码，getKey(Integer)为入口程序.</p>
<blockquote>
<p>public String getKey(Integer key){</p>
<p>​    String  value;</p>
<p>​    try {</p>
<p>​        InputStream inputStream &#x3D; getFiles(“&#x2F;file&#x2F;nofile”);</p>
<p>​        &#x2F;&#x2F;接下来从流中读取key的value指</p>
<p>​        value &#x3D; …;</p>
<p>​    } catch (Exception e) {</p>
<p>​        &#x2F;&#x2F;如果抛出异常将从mysql或者redis进行取之</p>
<p>​        value &#x3D; …;</p>
<p>​    }</p>
<p>}</p>
<p>public InputStream getFiles(String path) throws Exception {</p>
<p>​    File file &#x3D; new File(path);</p>
<p>​    InputStream inputStream &#x3D; null;</p>
<p>​    try {</p>
<p>​        inputStream &#x3D; new BufferedInputStream(new FileInputStream(file));</p>
<p>​    } catch (FileNotFoundException e) {</p>
<p>​        throw new Exception(“I&#x2F;O读取错误”,e.getCause());</p>
<p>​    }</p>
<p>​    return inputStream;</p>
<p>}</p>
</blockquote>
<p>ok，看了以上代码以后，你也许心中有一些想法，原来受检异常可以控制义务逻辑，对，没错，通过受检异常真的可以控制业务逻辑，但是切记不要这样使用，我们应该合理的抛出异常，因为程序本身才是流程，异常的作用仅仅是当你进行不下去的时候找到的一个借口而已，它并不能当成控制程序流程的入口或出口，如果这样使用的话，是在将异常的作用扩大化，这样将会导致代码复杂程度的增加，耦合性会提高，代码可读性降低等问题。那么就一定不要使用这样的异常吗？其实也不是，在真的有这样的需求的时候，我们可以这样使用，只是切记，不要把它真的当成控制流程的工具或手段。那么究竟什么时候才要抛出这样的异常呢？要考虑，如果调用者调用出错后，一定要让调用者对此错误进行处理才可以，满足这样的要求时，我们才会考虑使用受检异常。</p>
<p>接下来，我们来看一下非受检异常呢(RuntimeException)，对于RuntimeException这种异常，我们其实很多见，比如java.lang.NullPointerException／java.lang.IllegalArgumentException等，那么这种异常我们时候抛出呢？当我们在写某个方法的时候，可能会偶然遇到某个错误，我们认为这个问题时运行时可能为发生的，并且理论上讲，没有这个问题的话，程序将会正常执行的时候，它不强制要求调用者一定要捕获这个异常，此时抛出RuntimeException异常,举个例子，当传来一个路径的时候，需要返回一个路径对应的File对象:</p>
<blockquote>
<p>public void test() {</p>
<p>​    myTest.getFiles(“”);</p>
<p>}</p>
<p>public File getFiles(String path) {</p>
<p>​    if(null &#x3D;&#x3D; path || “”.equals(path)){</p>
<p>​        throw  new NullPointerException(“路径不能为空!”);</p>
<p>​    }</p>
<p>​    File file &#x3D; new File(path);</p>
<p>​    return file;</p>
<p>}</p>
</blockquote>
<p>上述例子表明，如果调用者调用getFiles(String)的时候如果path是空，那么就抛出空指针异常(它是RuntimeException的子类),调用者不用显示的进行try…catch…操作进行强制处理.这就要求调用者在调用这样的方法时先进行验证，避免发生RuntimeException.如下:</p>
<h3 id="应该选用哪种异常"><a href="#应该选用哪种异常" class="headerlink" title="应该选用哪种异常"></a><strong>应该选用哪种异常</strong></h3><p>通过以上的描述和举例，可以总结出一个结论，RuntimeException异常和受检异常之间的区别就是:是否强制要求调用者必须处理此异常，如果强制要求调用者必须进行处理，那么就使用受检异常，否则就选择非受检异常(RuntimeException)。一般来讲，如果没有特殊的要求，我们建议使用RuntimeException异常。</p>
<h2 id="场景介绍和技术选型"><a href="#场景介绍和技术选型" class="headerlink" title="场景介绍和技术选型"></a><strong>场景介绍和技术选型</strong></h2><h3 id="架构描述"><a href="#架构描述" class="headerlink" title="架构描述"></a><strong>架构描述</strong></h3><p>正如我们所知，传统的项目都是以MVC框架为基础进行开发的，本文主要从使用restful风格接口的设计来体验一下异常处理的优雅。</p>
<p>我们把关注点放在restful的api层(和web中的controller层类似)和service层，研究一下在service中如何抛出异常，然后api层如何进行捕获并且转化异常。</p>
<p>使用的技术是:spring-boot,jpa(hibernate),mysql,如果对这些技术不是太熟悉，读者需要自行阅读相关材料。</p> 
      <a class="article-more-link" href="/2019/08/24/%E8%BF%99%E6%A0%B7%E8%AE%BE%E8%AE%A1-Java-%E5%BC%82%E5%B8%B8%E6%9B%B4%E4%BC%98%E9%9B%85%EF%BC%8C%E8%B5%B6%E7%B4%A7%E5%AD%A6%EF%BC%81/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-盘口数据频繁变化，100W用户如何实时通知？"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/23/%E7%9B%98%E5%8F%A3%E6%95%B0%E6%8D%AE%E9%A2%91%E7%B9%81%E5%8F%98%E5%8C%96%EF%BC%8C100W%E7%94%A8%E6%88%B7%E5%A6%82%E4%BD%95%E5%AE%9E%E6%97%B6%E9%80%9A%E7%9F%A5%EF%BC%9F/"
    >盘口数据频繁变化，100W用户如何实时通知？</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/23/%E7%9B%98%E5%8F%A3%E6%95%B0%E6%8D%AE%E9%A2%91%E7%B9%81%E5%8F%98%E5%8C%96%EF%BC%8C100W%E7%94%A8%E6%88%B7%E5%A6%82%E4%BD%95%E5%AE%9E%E6%97%B6%E9%80%9A%E7%9F%A5%EF%BC%9F/" class="article-date">
  <time datetime="2019-08-23T00:21:48.000Z" itemprop="datePublished">2019-08-23</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190824191924.png"></p>
<blockquote>
<p>原文地址: <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/QcPicGRkaFENP6IzMRZMaQ">https://mp.weixin.qq.com/s/QcPicGRkaFENP6IzMRZMaQ</a></p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190823082237.png"></p>
<p>继续答星球水友提问：<strong>盘口数据频繁变化，如何做缓存与推送，如何降低数据库压力？</strong></p>
<p>并没有做过相关的业务，结合自己的架构经验，<strong>说说自己的思路和想法</strong>，希望对大家有启示。</p>
<p><strong>一、业务抽象</strong></p>
<p>（1）有很多客户端关注盘口，假设百万级别；</p>
<p>（2）数据量不一定很大，上市交易的股票个数，假设万级别；</p>
<p>（3）写的量比较大，每秒钟有很多交易发生，假设每秒百级别；</p>
<p>（4）计算比较复杂，有求和&#x2F;分组&#x2F;排序等操作；</p>
<p><strong>二、潜在技术折衷</strong></p>
<p><strong>客户端与服务端连接如何选型？</strong></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190823082301.png"><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190823082301.png"></p>
<p>首先，盘口客户端与服务器建立TCP长连接，而不是每次请求都建立与销毁短连接，能极大提升性能，降低服务器压力。</p>
<p><strong>业务的实时性如何满足？</strong></p>
<p>盘口业务，对数据实时性的要求较高，服务端可以通过TCP长连接推送，保证消息的实时性。</p>
<p>由于推送量级巨大，可以独立推送集群，专门实施推送。推送集群独立化之后，增加推送服务器数量，就可以线性提升推送能力。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190823082336.png"></p>
<p>如上图所示，假设有100W用户接收实时推送：</p>
<ul>
<li>搭建专门的推送集群，维护与客户端的tcp长连接，实时推送</li>
<li>每台推送服务维护10W长连接，10台推送服务即可服务100W用户</li>
<li><strong>推送集群</strong>与<strong>业务集群</strong>之间，通过MQ解耦，推送集群只单纯的推送消息，无任何业务逻辑计算，推送消息的内容，都是业务集群计算好的</li>
</ul>
<p>推送服务最大的瓶颈是，<strong>如何将一条消息，最快的推送给与之连接的10W个客户端？</strong></p>
<ul>
<li>如果消息量不大，例如几秒钟一个消息，可以开多线程，例如100个线程，并发推送</li>
</ul>
<p><em>画外音：**对应水友提到的，如果量不大，可以成交一笔推送一笔。</em></p>
<ul>
<li>如果消息量过大，例如一秒钟几百个消息，可以将消息暂存一秒，批量推送</li>
</ul>
<p><em>画外音：对应水友提到的，如果消息量巨大，批量推送是很好的方法。</em></p>
<p><strong>数据量，写入量，扩展性如何满足？</strong></p>
<p>股票个数较少，数据量不是瓶颈。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190823082355.png"></p>
<p>流水数据写入量，每秒百级别，甚至千级别，数据库写性能也不是瓶颈，理论上一个库可以抗住。</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190823082415.png"></p>
<p>假如每秒写入量达到万级别，可以在数据库层面实施水平切分，将不同股票的流水拆到不同水平切分的库里去，就能线性增加数据库的写入量。</p>
<p><em>画外音：**水平拆分后，同一个股票，数据在同一个库里，不同股票，可能在不同的库里，理论上不会有跨库查询的需求。</em></p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190823082431.png"></p>
<p>如果每秒写入量达到十万，百万级别，还可以加入MQ缓冲请求，削峰填谷，保护数据库。</p>
<p>如论如何，根据本业务的数据量与写入量，单库应该是没有问题的。</p>
<p><strong>复杂的业务逻辑操作，如何满足？</strong></p>
<p>本业务的写入量不大，但读取量很大，肯定不能每个读取请求都sum&#x2F;group by&#x2F;order by，这样数据库肯定扛不住。</p>
<p>水友已经想到了，可以用缓存来降低数据库的压力，但担心“随着时间的推移，这个偏差势必会慢慢放大”。</p>
<p>关于缓存的一致性的放大，可以这么搞：</p>
<ul>
<li>做一个异步的线程，每秒钟访问一次数据库，将复杂的业务逻辑计算出来，放入高可用缓存</li>
<li>所有的读请求不再耦合业务逻辑计算，都直接从高可用缓存读结果</li>
</ul>
<p>如此一来，<strong>复杂业务逻辑的计算，每秒钟只会有一次</strong>。</p>
<p>带来的问题是，一秒内可能有很多流水写入数据库，但不会实时的反应到缓存里，用户<strong>最差情况下，会读到一秒前的盘口数据</strong>。</p>
<p>无论如何，这是一个性能与一致性的设计折衷。</p>
<p>上面的所有方案，都是基于在线客户量级巨大，推送消息巨大的前提下，采用推送方案。很多时候，工程师都会妄加猜测，把问题想得很复杂，把方案搞得很复杂。</p>
<p><strong>如果在线用户量很小</strong>，用户能够接受的盘口时延较长（例如5s），完全可以采用轮询拉取方案：</p>
<p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190823082447.png"></p>
<p>（1）取消整个推送集群与MQ集群；</p>
<p>（2）盘口数据，异步线程每1s写入高可用缓存一次；</p>
<p>（3）客户端每5s轮询拉取最新的盘口数据，都只从缓存中拉取；</p>
<p><strong>搞定！</strong></p>
<p>反正，肯定不能每个读请求都sum&#x2F;group by&#x2F;order by扫库计算，这个是最需要优化的。</p>
<p><strong>三、总结</strong></p>
<ul>
<li>长连接比短连接性能好很多倍</li>
<li>推送量巨大时，推送集群需要与业务集群解耦</li>
<li>推送量巨大时，并发推送与批量推送是一个常见的优化手段</li>
<li>写入量巨大时，水平切分能够扩容，MQ缓冲可以保护数据库</li>
<li>业务复杂，读取量巨大时，加入缓存，定时计算，能够极大降低数据库压力</li>
</ul>
<p><strong>留言</strong></p>
<blockquote>
<p>本人干过亿级用户的交易所系统，全部干在内存里做，udp组播消息总线，无压力。</p>
</blockquote>
<blockquote>
<p>本人在排名全球前十的数字币交易所，当前架构，核心业务数据几乎已经放弃DB数据查询。此前用SQLServer的BCP持久化速度也跟不上。<br>沈总的架构方向完全OK，但是，币圈交易所，在支持程序高频交易的情况下，撮合，推送都不是问题，完成实时清算是最大的难题。</p>
</blockquote>
<blockquote>
<p>以前的行情软件看到的盘口数据，一级行情是6秒一次推送，二级是3秒一次推送。行情原始数据都在内存，然后每有新的行情快照，根据不同的业务，生成加工后的数据。然后前端会有一定逻辑，会把需要的数据，发送订阅请求。服务器端针对前端的请求，会有各种行情计算业务的服务器处理不同类型的请求。这种业务最大的特点就是用户间不用交互，全是服务器推送数据，只是要的数据种类不一样。这样我们就可以提前根据业务类型加工数据，然后用户需要时，就没有什么计算了。多级缓存，数据还一致。用户数，靠堆服务器就好。数据量并没有想象的那么多，你能看到的，就是服务器给你的全部</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-蚂蚁课堂SpringCloud2-0视频教程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/22/%E8%9A%82%E8%9A%81%E8%AF%BE%E5%A0%82SpringCloud2-0%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B/"
    >蚂蚁课堂SpringCloud2.0视频教程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/08/22/%E8%9A%82%E8%9A%81%E8%AF%BE%E5%A0%82SpringCloud2-0%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B/" class="article-date">
  <time datetime="2019-08-22T15:35:37.000Z" itemprop="datePublished">2019-08-22</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://raw.githubusercontent.com/gaohanghang/images/master/img20190824192123.png"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring-cloud/" rel="tag">spring cloud</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/16/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/18/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2023
        <i class="ri-heart-fill heart_icon"></i> 高行行
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="高行行的个人博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://gaohanghang.lofter.com">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/twitter">Twitter</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://weibo.com/u/5125203090">微博</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>